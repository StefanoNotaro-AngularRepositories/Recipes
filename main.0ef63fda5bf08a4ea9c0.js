(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return c});var i=n("mrSG"),r=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new r.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:e});i&&n.resolve(i)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(i.a)({identifier:o,optional:!1},t),n=e.optional,r=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var r=Object(i.g)(this.instancesDeferred.entries()),s=r.next();!s.done;s=r.next()){var a=Object(i.e)(s.value,2),c=a[1],l=this.normalizeInstanceIdentifier(a[0]);try{var u=this.getOrInitializeService({instanceIdentifier:l});c.resolve(u)}catch(h){}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(i.b)(this,void 0,void 0,function(){var t;return Object(i.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(i.f)(Object(i.f)([],Object(i.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(i.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.instanceIdentifier,s=t.options,a=void 0===s?{}:s,c=this.normalizeInstanceIdentifier(void 0===r?o:r);if(this.isInitialized(c))throw Error(this.name+"("+c+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:c,options:a});try{for(var u=Object(i.g)(this.instancesDeferred.entries()),h=u.next();!h.done;h=u.next()){var d=Object(i.e)(h.value,2),f=d[1];c===this.normalizeInstanceIdentifier(d[0])&&f.resolve(l)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return l},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,i=t.options,r=void 0===i?{}:i,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===o?void 0:e),options:r}),this.instances.set(n,s),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(a){}return s||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),c=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return r});let i=!1;const r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("quSY");class r extends i.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends r{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,i=!1;try{this.work(t)}catch(r){i=!0,n=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("lJxs"),r=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(r.a)(t(n,s)).pipe(Object(i.a)((t,i)=>e(n,t,s,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}class c extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const i=Object(s.c)(t,e);i!==e&&n.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",function(){return d}),n.d(e,"a",function(){return f});let i=1;const r=(()=>Promise.resolve())(),s={};function o(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=i++;return s[e]=!0,r.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var u=n("IjjT");class h extends u.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,n){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(l),f=d},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("n6bG"),r=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),c=n("NJ4a");class l extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=r.a;break;case 1:if(!t){this.destination=r.a;break}if("object"==typeof t){t instanceof l?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new u(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const i=new l(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class u extends l{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(i.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==r.a&&(a=Object.create(e),Object(i.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(Object(c.a)(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n("HDdC"),r=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),c=n("Lhse"),l=n("c2HN"),u=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new i.a(n=>{const i=new s.a;return i.add(e.schedule(()=>{const r=t[o.a]();i.add(r.subscribe({next(t){i.add(e.schedule(()=>n.next(t)))},error(t){i.add(e.schedule(()=>n.error(t)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i})}(t,e);if(Object(l.a)(t))return function(t,e){return new i.a(n=>{const i=new s.a;return i.add(e.schedule(()=>t.then(t=>{i.add(e.schedule(()=>{n.next(t),i.add(e.schedule(()=>n.complete()))}))},t=>{i.add(e.schedule(()=>n.error(t)))}))),i})}(t,e);if(Object(u.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new i.a(n=>{const i=new s.a;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=t[c.a](),i.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=r.next();t=n.value,e=n.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof i.a?t:new i.a(Object(r.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return s});var i=n("3N8a");const r=new(n("IjjT").a)(i.a),s=r},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return s});var i=n("HDdC");const r=new i.a(t=>t.complete());function s(t){return t?function(t){return new i.a(e=>t.schedule(()=>e.complete()))}(t):r}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("7o/Q"),r=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),c=n("2fFW");let l=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[r.a])return t[r.a]()}return t||e||n?new i.a(t,e,n):new i.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof i.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=u(e))((e,n)=>{let i;i=this.subscribe(e=>{try{t(e)}catch(r){n(r),i&&i.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=u(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function u(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return r});let i=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class r extends i{constructor(t,e=i.now){super(t,()=>r.delegate&&r.delegate!==this?r.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return r.delegate&&r.delegate!==this?r.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var i=n("zIRd");n.d(e,"a",function(){return i.a}),i.a.registerVersion("firebase","8.4.1","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("z+Ro"),r=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(i.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(r.a)(t)}},Lhse:function(t,e,n){"use strict";function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return r});const r=i()},NJ4a:function(t,e,n){"use strict";function i(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return i})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("ngJS"),r=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),c=n("c2HN"),l=n("XoHu");const u=t=>{if(t&&"function"==typeof t[o.a])return u=t,t=>{const e=u[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(i.a)(t);if(Object(c.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,r.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(i){return t.error(i),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(l.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,u}},SpAZ:function(t,e,n){"use strict";function i(t){return t}n.d(e,"a",function(){return i})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("HDdC"),r=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(r.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof i.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return u});var i=n("HDdC"),r=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),c=n("2QA8");class l extends r.a{constructor(t){super(t),this.destination=t}}let u=(()=>{class t extends i.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new l(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let i=0;i<e;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new i.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends u{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function i(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return i})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("DH7j");function r(t){return!Object(i.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("quSY");class r extends i.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("5+tZ"),r=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(i.a)(r.a,t)}},c2HN:function(t,e,n){"use strict";function i(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return i})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return sn}),n.d(e,"b",function(){return qc}),n.d(e,"c",function(){return Fc}),n.d(e,"d",function(){return Nc}),n.d(e,"e",function(){return Lc}),n.d(e,"f",function(){return Fl}),n.d(e,"g",function(){return El}),n.d(e,"h",function(){return Pa}),n.d(e,"i",function(){return Jc}),n.d(e,"j",function(){return ra}),n.d(e,"k",function(){return Kc}),n.d(e,"l",function(){return ca}),n.d(e,"m",function(){return jl}),n.d(e,"n",function(){return vi}),n.d(e,"o",function(){return mc}),n.d(e,"p",function(){return os}),n.d(e,"q",function(){return xn}),n.d(e,"r",function(){return E}),n.d(e,"s",function(){return rn}),n.d(e,"t",function(){return Cs}),n.d(e,"u",function(){return ka}),n.d(e,"v",function(){return Ia}),n.d(e,"w",function(){return zc}),n.d(e,"x",function(){return Ka}),n.d(e,"y",function(){return kl}),n.d(e,"z",function(){return za}),n.d(e,"A",function(){return _l}),n.d(e,"B",function(){return nl}),n.d(e,"C",function(){return kn}),n.d(e,"D",function(){return Bc}),n.d(e,"E",function(){return Uc}),n.d(e,"F",function(){return bc}),n.d(e,"G",function(){return ha}),n.d(e,"H",function(){return ua}),n.d(e,"I",function(){return Si}),n.d(e,"J",function(){return fa}),n.d(e,"K",function(){return pi}),n.d(e,"L",function(){return Tn}),n.d(e,"M",function(){return Al}),n.d(e,"N",function(){return Ua}),n.d(e,"O",function(){return ll}),n.d(e,"P",function(){return on}),n.d(e,"Q",function(){return ma}),n.d(e,"R",function(){return pa}),n.d(e,"S",function(){return Ya}),n.d(e,"T",function(){return D}),n.d(e,"U",function(){return wl}),n.d(e,"V",function(){return yl}),n.d(e,"W",function(){return f}),n.d(e,"X",function(){return Sn}),n.d(e,"Y",function(){return bl}),n.d(e,"Z",function(){return Nl}),n.d(e,"ab",function(){return dl}),n.d(e,"bb",function(){return Hc}),n.d(e,"cb",function(){return cs}),n.d(e,"db",function(){return zo}),n.d(e,"eb",function(){return di}),n.d(e,"fb",function(){return Gn}),n.d(e,"gb",function(){return Mn}),n.d(e,"hb",function(){return Un}),n.d(e,"ib",function(){return zn}),n.d(e,"jb",function(){return qn}),n.d(e,"kb",function(){return Bn}),n.d(e,"lb",function(){return Hn}),n.d(e,"mb",function(){return Uo}),n.d(e,"nb",function(){return Pl}),n.d(e,"ob",function(){return Bo}),n.d(e,"pb",function(){return qo}),n.d(e,"qb",function(){return Vn}),n.d(e,"rb",function(){return L}),n.d(e,"sb",function(){return Rs}),n.d(e,"tb",function(){return Js}),n.d(e,"ub",function(){return Zs}),n.d(e,"vb",function(){return Xs}),n.d(e,"wb",function(){return Vo}),n.d(e,"xb",function(){return Ot}),n.d(e,"yb",function(){return u}),n.d(e,"zb",function(){return Fn}),n.d(e,"Ab",function(){return Os}),n.d(e,"Bb",function(){return yt}),n.d(e,"Cb",function(){return ea}),n.d(e,"Db",function(){return lr}),n.d(e,"Eb",function(){return Fs}),n.d(e,"Fb",function(){return jo}),n.d(e,"Gb",function(){return yo}),n.d(e,"Hb",function(){return Ic}),n.d(e,"Ib",function(){return Y}),n.d(e,"Jb",function(){return tt}),n.d(e,"Kb",function(){return g}),n.d(e,"Lb",function(){return b}),n.d(e,"Mb",function(){return Z}),n.d(e,"Nb",function(){return et}),n.d(e,"Ob",function(){return Bs}),n.d(e,"Pb",function(){return Ws}),n.d(e,"Qb",function(){return Gs}),n.d(e,"Rb",function(){return $s}),n.d(e,"Sb",function(){return Ys}),n.d(e,"Tb",function(){return Ks}),n.d(e,"Ub",function(){return zs}),n.d(e,"Vb",function(){return Qs}),n.d(e,"Wb",function(){return Je}),n.d(e,"Xb",function(){return Po}),n.d(e,"Yb",function(){return Cn}),n.d(e,"Zb",function(){return tn}),n.d(e,"ac",function(){return Pc}),n.d(e,"bc",function(){return to}),n.d(e,"cc",function(){return Ac}),n.d(e,"dc",function(){return so}),n.d(e,"ec",function(){return uc}),n.d(e,"fc",function(){return hc}),n.d(e,"gc",function(){return dc}),n.d(e,"hc",function(){return co}),n.d(e,"ic",function(){return ao}),n.d(e,"jc",function(){return qs}),n.d(e,"kc",function(){return cc}),n.d(e,"lc",function(){return kc}),n.d(e,"mc",function(){return Us}),n.d(e,"nc",function(){return Ht}),n.d(e,"oc",function(){return mi}),n.d(e,"pc",function(){return X}),n.d(e,"qc",function(){return bo}),n.d(e,"rc",function(){return eo}),n.d(e,"sc",function(){return No}),n.d(e,"tc",function(){return Vs}),n.d(e,"uc",function(){return Io}),n.d(e,"vc",function(){return Ao}),n.d(e,"wc",function(){return Do}),n.d(e,"xc",function(){return Ro}),n.d(e,"yc",function(){return Tc});var i=n("XNiG"),r=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");function c(t){for(let e in t)if(t[e]===c)return e;throw Error("Could not find renamed property on target object.")}function l(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function u(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(u).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=c({__forward_ref__:c});function f(t){return t.__forward_ref__=f,t.toString=function(){return u(this())},t}function p(t){return m(t)?t():t}function m(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===f}function g(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function b(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function y(t){return v(t,w)||v(t,S)}function v(t,e){return t.hasOwnProperty(e)?t[e]:null}function _(t){return t&&(t.hasOwnProperty(C)||t.hasOwnProperty(O))?t[C]:null}const w=c({"\u0275prov":c}),C=c({"\u0275inj":c}),S=c({ngInjectableDef:c}),O=c({ngInjectorDef:c});var E=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let x;function k(t){const e=x;return x=t,e}function T(t,e,n){const i=y(t);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&E.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${u(t)}]`)}function I(t){return{toString:t}.toString()}var A=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),D=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const R="undefined"!=typeof globalThis&&globalThis,j="undefined"!=typeof window&&window,P="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,N="undefined"!=typeof global&&global,L=R||N||j||P,F={},M=[],V=c({"\u0275cmp":c}),U=c({"\u0275dir":c}),B=c({"\u0275pipe":c}),q=c({"\u0275mod":c}),H=c({"\u0275loc":c}),z=c({"\u0275fac":c}),K=c({__NG_ELEMENT_ID__:c});let W=0;function Y(t){return I(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===A.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||M,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||D.Emulated,id:"c",styles:t.styles||M,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,r=t.features,s=t.pipes;return n.id+=W++,n.inputs=J(t.inputs,e),n.outputs=J(t.outputs),r&&r.forEach(t=>t(n)),n.directiveDefs=i?()=>("function"==typeof i?i():i).map($):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(G):null,n})}function $(t){return nt(t)||function(t){return t[U]||null}(t)}function G(t){return function(t){return t[B]||null}(t)}const Q={};function Z(t){const e={type:t.type,bootstrap:t.bootstrap||M,declarations:t.declarations||M,imports:t.imports||M,exports:t.exports||M,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&I(()=>{Q[t.id]=t.type}),e}function X(t,e){return I(()=>{const n=it(t,!0);n.declarations=e.declarations||M,n.imports=e.imports||M,n.exports=e.exports||M})}function J(t,e){if(null==t)return F;const n={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),n[r]=i,e&&(e[r]=s)}return n}const tt=Y;function et(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function nt(t){return t[V]||null}function it(t,e){const n=t[q]||null;if(!n&&!0===e)throw new Error(`Type ${u(t)} does not have '\u0275mod' property.`);return n}const rt=20,st=10;function ot(t){return Array.isArray(t)&&"object"==typeof t[1]}function at(t){return Array.isArray(t)&&!0===t[1]}function ct(t){return 0!=(8&t.flags)}function lt(t){return 2==(2&t.flags)}function ut(t){return 1==(1&t.flags)}function ht(t){return null!==t.template}function dt(t,e){return t.hasOwnProperty(z)?t[z]:null}class ft extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function pt(t){return"string"==typeof t?t:null==t?"":String(t)}function mt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():pt(t)}function gt(t,e){const n=e?` in ${e}`:"";throw new ft("201",`No provider for ${mt(t)} found${n}`)}class bt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function yt(){return vt}function vt(t){return t.type.prototype.ngOnChanges&&(t.setInput=wt),_t}function _t(){const t=Ct(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===F)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function wt(t,e,n,i){const r=Ct(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:F,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[n],c=o[a];s[a]=new bt(c&&c.currentValue,e,o===F),t[i]=e}function Ct(t){return t.__ngSimpleChanges__||null}let St;function Ot(t){St=t}function Et(t){return!!t.listen}yt.ngInherit=!0;const xt={createRenderer:(t,e)=>void 0!==St?St:"undefined"!=typeof document?document:void 0};function kt(t){for(;Array.isArray(t);)t=t[0];return t}function Tt(t,e){return kt(e[t])}function It(t,e){return kt(e[t.index])}function At(t,e){return t.data[e]}function Dt(t,e){return t[e]}function Rt(t,e){const n=e[t];return ot(n)?n:n[0]}function jt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Pt(t){return 4==(4&t[2])}function Nt(t){return 128==(128&t[2])}function Lt(t,e){return null==e?null:t[e]}function Ft(t){t[18]=0}function Mt(t,e){t[5]+=e;let n=t,i=t[3];for(;null!==i&&(1===e&&1===n[5]||-1===e&&0===n[5]);)i[5]+=e,n=i,i=i[3]}const Vt={lFrame:ue(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ut(){return Vt.bindingsEnabled}function Bt(){return Vt.lFrame.lView}function qt(){return Vt.lFrame.tView}function Ht(t){Vt.lFrame.contextLView=t}function zt(){let t=Kt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Kt(){return Vt.lFrame.currentTNode}function Wt(t,e){const n=Vt.lFrame;n.currentTNode=t,n.isParent=e}function Yt(){return Vt.lFrame.isParent}function $t(){Vt.lFrame.isParent=!1}function Gt(){return Vt.isInCheckNoChangesMode}function Qt(t){Vt.isInCheckNoChangesMode=t}function Zt(){const t=Vt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Xt(){return Vt.lFrame.bindingIndex}function Jt(){return Vt.lFrame.bindingIndex++}function te(t){const e=Vt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ee(t,e){const n=Vt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ne(e)}function ne(t){Vt.lFrame.currentDirectiveIndex=t}function ie(t){const e=Vt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function re(){return Vt.lFrame.currentQueryIndex}function se(t){Vt.lFrame.currentQueryIndex=t}function oe(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ae(t,e,n){if(n&E.SkipSelf){let i=e,r=t;for(;i=i.parent,!(null!==i||n&E.Host||(i=oe(r),null===i)||(r=r[15],10&i.type)););if(null===i)return!1;e=i,t=r}const i=Vt.lFrame=le();return i.currentTNode=e,i.lView=t,!0}function ce(t){const e=le(),n=t[1];Vt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function le(){const t=Vt.lFrame,e=null===t?null:t.child;return null===e?ue(t):e}function ue(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function he(){const t=Vt.lFrame;return Vt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const de=he;function fe(){const t=he();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function pe(){return Vt.lFrame.selectedIndex}function me(t){Vt.lFrame.selectedIndex=t}function ge(){const t=Vt.lFrame;return At(t.tView,t.selectedIndex)}function be(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:r,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;i&&(t.contentHooks||(t.contentHooks=[])).push(-n,i),r&&((t.contentHooks||(t.contentHooks=[])).push(n,r),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,r)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function ye(t,e,n){we(t,e,3,n)}function ve(t,e,n,i){(3&t[2])===n&&we(t,e,n,i)}function _e(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function we(t,e,n,i){const r=null!=i?i:-1,s=e.length-1;let o=0;for(let a=void 0!==i?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=i&&o>=i)break}else e[a]<0&&(t[18]+=65536),(o<r||-1==r)&&(Ce(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Ce(t,e,n,i){const r=n[i]<0,s=n[i+1],o=t[r?-n[i]:n[i]];r?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}const Se=-1;class Oe{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ee(t,e,n){const i=Et(t);let r=0;for(;r<n.length;){const s=n[r];if("number"==typeof s){if(0!==s)break;r++;const o=n[r++],a=n[r++],c=n[r++];i?t.setAttribute(e,a,c,o):e.setAttributeNS(o,a,c)}else{const o=s,a=n[++r];ke(o)?i&&t.setProperty(e,o,a):i?t.setAttribute(e,o,a):e.setAttribute(o,a),r++}}return r}function xe(t){return 3===t||4===t||6===t}function ke(t){return 64===t.charCodeAt(0)}function Te(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?n=r:0===n||Ie(t,n,r,null,-1===n||2===n?e[++i]:null)}}return t}function Ie(t,e,n,i,r){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===i)return void(null!==r&&(t[s+1]=r));if(i===t[s+1])return void(t[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==i&&t.splice(s++,0,i),null!==r&&t.splice(s++,0,r)}function Ae(t){return t!==Se}function De(t){return 32767&t}function Re(t,e){let n=t>>16,i=e;for(;n>0;)i=i[15],n--;return i}let je=!0;function Pe(t){const e=je;return je=t,e}let Ne=0;function Le(t,e){const n=Me(t,e);if(-1!==n)return n;const i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,Fe(i.data,t),Fe(e,null),Fe(i.blueprint,null));const r=Ve(t,e),s=t.injectorIndex;if(Ae(r)){const t=De(r),n=Re(r,e),i=n[1].data;for(let r=0;r<8;r++)e[s+r]=n[t+r]|i[t+r]}return e[s+8]=r,s}function Fe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Me(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ve(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;null!==r;){const t=r[1],e=t.type;if(i=2===e?t.declTNode:1===e?r[6]:null,null===i)return Se;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return Se}function Ue(t,e,n){!function(t,e,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(K)&&(i=n[K]),null==i&&(i=n[K]=Ne++);const r=255&i;e.data[t+(r>>5)]|=1<<r}(t,e,n)}function Be(t,e,n){if(n&E.Optional)return t;gt(e,"NodeInjector")}function qe(t,e,n,i){if(n&E.Optional&&void 0===i&&(i=null),0==(n&(E.Self|E.Host))){const r=t[9],s=k(void 0);try{return r?r.get(e,i,n&E.Optional):T(e,i,n&E.Optional)}finally{k(s)}}return Be(i,e,n)}function He(t,e,n,i=E.Default,r){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(K)?t[K]:void 0;return"number"==typeof e?e>=0?255&e:Ke:e}(n);if("function"==typeof s){if(!ae(e,t,i))return i&E.Host?Be(r,n,i):qe(e,n,i,r);try{const t=s();if(null!=t||i&E.Optional)return t;gt(n)}finally{de()}}else if("number"==typeof s){let r=null,o=Me(t,e),a=Se,c=i&E.Host?e[16][6]:null;for((-1===o||i&E.SkipSelf)&&(a=-1===o?Ve(t,e):e[o+8],a!==Se&&Qe(i,!1)?(r=e[1],o=De(a),e=Re(a,e)):o=-1);-1!==o;){const t=e[1];if(Ge(s,o,t.data)){const t=We(o,e,n,r,i,c);if(t!==ze)return t}a=e[o+8],a!==Se&&Qe(i,e[1].data[o+8]===c)&&Ge(s,o,e)?(r=t,o=De(a),e=Re(a,e)):o=-1}}}return qe(e,n,i,r)}const ze={};function Ke(){return new Ze(zt(),Bt())}function We(t,e,n,i,r,s){const o=e[1],a=o.data[t+8],c=Ye(a,o,n,null==i?lt(a)&&je:i!=o&&0!=(3&a.type),r&E.Host&&s===a);return null!==c?$e(e,o,c,a):ze}function Ye(t,e,n,i,r){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,l=s>>20,u=r?a+l:t.directiveEnd;for(let h=i?a:a+l;h<u;h++){const t=o[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(r){const t=o[c];if(t&&ht(t)&&t.type===n)return c}return null}function $e(t,e,n,i){let r=t[n];const s=e.data;if(r instanceof Oe){const o=r;o.resolving&&function(t,e){throw new ft("200",`Circular dependency in DI detected for ${t}`)}(mt(s[n]));const a=Pe(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?k(o.injectImpl):null;ae(t,i,E.Default);try{r=t[n]=o.factory(void 0,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const i=vt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,r),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==c&&k(c),Pe(a),o.resolving=!1,de()}}return r}function Ge(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Qe(t,e){return!(t&E.Self||t&E.Host&&e)}class Ze{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return He(this._tNode,this._lView,t,void 0,e)}}function Xe(t){const e=t;if(m(t))return()=>{const t=Xe(p(e));return t?t():null};let n=dt(e);if(null===n){const t=_(e);n=t&&t.factory}return n||null}function Je(t){return I(()=>{const e=t.prototype.constructor,n=e[z]||Xe(e),i=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){const t=r[z]||Xe(r);if(t&&t!==n)return t;r=Object.getPrototypeOf(r)}return t=>new t})}function tn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let i=0;for(;i<t;){const r=n[i];if(xe(r))break;if(0===r)i+=2;else if("number"==typeof r)for(i++;i<t&&"string"==typeof n[i];)i++;else{if(r===e)return n[i+1];i+=2}}}return null}(zt(),t)}const en="__parameters__";function nn(t,e,n){return I(()=>{const i=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function r(...t){if(this instanceof r)return i.apply(this,t),this;const e=new r(...t);return n.annotation=e,n;function n(t,n,i){const r=t.hasOwnProperty(en)?t[en]:Object.defineProperty(t,en,{value:[]})[en];for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(e),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}class rn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=g({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const sn=new rn("AnalyzeForEntryComponents"),on=Function;function an(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)?(e===t&&(e=t.slice(0,n)),an(i,e)):e!==t&&e.push(i)}return e}function cn(t,e){t.forEach(t=>Array.isArray(t)?cn(t,e):e(t))}function ln(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function un(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function hn(t,e){const n=[];for(let i=0;i<t;i++)n.push(e);return n}function dn(t,e,n){let i=pn(t,e);return i>=0?t[1|i]=n:(i=~i,function(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(1===r)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=n,t[e+1]=i}}(t,i,e,n)),i}function fn(t,e){const n=pn(t,e);if(n>=0)return t[1|n]}function pn(t,e){return function(t,e,n){let i=0,r=t.length>>1;for(;r!==i;){const n=i+(r-i>>1),s=t[n<<1];if(e===s)return n<<1;s>e?r=n:i=n+1}return~(r<<1)}(t,e)}const mn={},gn=/\n/gm,bn="__source",yn=c({provide:String,useValue:c});let vn;function _n(t){const e=vn;return vn=t,e}function wn(t,e=E.Default){if(void 0===vn)throw new Error("inject() must be called from an injection context");return null===vn?T(t,void 0,e):vn.get(t,e&E.Optional?null:void 0,e)}function Cn(t,e=E.Default){return(x||wn)(p(t),e)}const Sn=Cn;function On(t){const e=[];for(let n=0;n<t.length;n++){const i=p(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let t,n=E.Default;for(let e=0;e<i.length;e++){const r=i[e],s=r.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=r.token:n|=s:t=r}e.push(Cn(t,n))}else e.push(Cn(i))}return e}function En(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const xn=En(nn("Inject",t=>({token:t})),-1),kn=En(nn("Optional"),8),Tn=En(nn("SkipSelf"),4);let In;function An(t){var e;return(null===(e=function(){if(void 0===In&&(In=null,L.trustedTypes))try{In=L.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return In}())||void 0===e?void 0:e.createHTML(t))||t}class Dn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Rn extends Dn{getTypeName(){return"HTML"}}class jn extends Dn{getTypeName(){return"Style"}}class Pn extends Dn{getTypeName(){return"Script"}}class Nn extends Dn{getTypeName(){return"URL"}}class Ln extends Dn{getTypeName(){return"ResourceURL"}}function Fn(t){return t instanceof Dn?t.changingThisBreaksApplicationSecurity:t}function Mn(t,e){const n=Vn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Vn(t){return t instanceof Dn&&t.getTypeName()||null}function Un(t){return new Rn(t)}function Bn(t){return new jn(t)}function qn(t){return new Pn(t)}function Hn(t){return new Nn(t)}function zn(t){return new Ln(t)}class Kn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(An(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Wn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=An(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=An(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const n=e.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Yn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,$n=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Gn(t){return(t=String(t)).match(Yn)||t.match($n)?t:"unsafe:"+t}function Qn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Zn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Xn=Qn("area,br,col,hr,img,wbr"),Jn=Qn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ti=Qn("rp,rt"),ei=Zn(ti,Jn),ni=Zn(Xn,Zn(Jn,Qn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zn(ti,Qn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ei),ii=Qn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ri=Qn("srcset"),si=Zn(ii,ri,Qn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),oi=Qn("script,style,template");class ai{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ni.hasOwnProperty(e))return this.sanitizedSomething=!0,!oi.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,s=e.toLowerCase();if(!si.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;ii[s]&&(o=Gn(o)),ri[s]&&(i=o,o=(i=String(i)).split(",").map(t=>Gn(t.trim())).join(", ")),this.buf.push(" ",e,'="',ui(o),'"')}var i;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ni.hasOwnProperty(e)&&!Xn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(ui(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const ci=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,li=/([^\#-~ |!])/g;function ui(t){return t.replace(/&/g,"&amp;").replace(ci,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(li,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hi;function di(t,e){let n=null;try{hi=hi||function(t){const e=new Wn(t);return function(){try{return!!(new window.DOMParser).parseFromString(An(""),"text/html")}catch(t){return!1}}()?new Kn(e):e}(t);let i=e?String(e):"";n=hi.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=hi.getInertBodyElement(i)}while(i!==s);return An((new ai).sanitizeChildren(fi(n)||n))}finally{if(n){const t=fi(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function fi(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var pi=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function mi(t){const e=function(){const t=Bt();return t&&t[12]}();return e?e.sanitize(pi.URL,t)||"":Mn(t,"URL")?Fn(t):Gn(pt(t))}function gi(t){return t.ngDebugContext}function bi(t){return t.ngOriginalError}function yi(t,...e){t.error(...e)}class vi{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||yi}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?gi(t)?gi(t):this._findContext(bi(t)):null}_findOriginalError(t){let e=bi(t);for(;e&&bi(e);)e=bi(e);return e}}function _i(t,e){t.__ngContext__=e}const wi=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(L))();function Ci(t){return t instanceof Function?t():t}var Si=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Oi(t,e){return(void 0)(t,e)}function Ei(t){const e=t[3];return at(e)?e[3]:e}function xi(t){return Ti(t[13])}function ki(t){return Ti(t[4])}function Ti(t){for(;null!==t&&!at(t);)t=t[4];return t}function Ii(t,e,n,i,r){if(null!=i){let s,o=!1;at(i)?s=i:ot(i)&&(o=!0,i=i[0]);const a=kt(i);0===t&&null!==n?null==r?Fi(e,n,a):Li(e,n,a,r||null,!0):1===t&&null!==n?Li(e,n,a,r||null,!0):2===t?function(t,e,n){const i=Vi(t,e);i&&function(t,e,n,i){Et(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,i,r){const s=n[7];s!==kt(n)&&Ii(e,t,i,s,r);for(let o=st;o<n.length;o++){const r=n[o];Wi(r[1],r,t,e,i,s)}}(e,t,s,n,r)}}function Ai(t,e,n){return Et(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Di(t,e){const n=t[9],i=n.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,Mt(r,-1)),n.splice(i,1)}function Ri(t,e){if(t.length<=st)return;const n=st+e,i=t[n];if(i){const s=i[17];null!==s&&s!==t&&Di(s,i),e>0&&(t[n-1][4]=i[4]);const o=un(t,st+e);Wi(i[1],r=i,r[11],2,null,null),r[0]=null,r[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}var r;return i}function ji(t,e){if(!(256&e[2])){const n=e[11];Et(n)&&n.destroyNode&&Wi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Pi(t[1],t);for(;e;){let n=null;if(ot(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ot(e)&&Pi(e[1],e),e=e[3];null===e&&(e=t),ot(e)&&Pi(e[1],e),n=e&&e[4]}e=n}}(e)}}function Pi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const t=e[n[i]];if(!(t instanceof Oe)){const e=n[i+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,i=e[7];let r=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):kt(e[t]),a=i[r=n[s+2]],c=n[s+3];"boolean"==typeof c?o.removeEventListener(n[s],a,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),s+=2}else{const t=i[r=n[s+1]];n[s].call(t)}if(null!==i){for(let t=r+1;t<i.length;t++)(0,i[t])();e[7]=null}}(t,e),1===e[1].type&&Et(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&at(e[3])){n!==e[3]&&Di(n,e);const i=e[19];null!==i&&i.detachView(t)}}}function Ni(t,e,n){return function(t,e,n){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return n[0];if(2&i.flags){const e=t.data[i.directiveStart].encapsulation;if(e===D.None||e===D.Emulated)return null}return It(i,n)}(t,e.parent,n)}function Li(t,e,n,i,r){Et(t)?t.insertBefore(e,n,i,r):e.insertBefore(n,i,r)}function Fi(t,e,n){Et(t)?t.appendChild(e,n):e.appendChild(n)}function Mi(t,e,n,i,r){null!==i?Li(t,e,n,i,r):Fi(t,e,n)}function Vi(t,e){return Et(t)?t.parentNode(e):e.parentNode}function Ui(t,e,n){return Bi(t,e,n)}let Bi=function(t,e,n){return 40&t.type?It(t,n):null};function qi(t,e,n,i){const r=Ni(t,i,e),s=e[11],o=Ui(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(n))for(let a=0;a<n.length;a++)Mi(s,r,n[a],o,!1);else Mi(s,r,n,o,!1)}function Hi(t,e){if(null!==e){const n=e.type;if(3&n)return It(e,t);if(4&n)return zi(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Hi(t,n);{const n=t[e.index];return at(n)?zi(-1,n):kt(n)}}if(32&n)return Oi(e,t)()||kt(t[e.index]);{const n=t[16],i=n[6],r=Ei(n),s=i.projection[e.projection];return null!=s?Hi(r,s):Hi(t,e.next)}}return null}function zi(t,e){const n=st+t+1;if(n<e.length){const t=e[n],i=t[1].firstChild;if(null!==i)return Hi(t,i)}return e[7]}function Ki(t,e,n,i,r,s,o){for(;null!=n;){const a=i[n.index],c=n.type;if(o&&0===e&&(a&&_i(kt(a),i),n.flags|=4),64!=(64&n.flags))if(8&c)Ki(t,e,n.child,i,r,s,!1),Ii(e,t,r,a,s);else if(32&c){const o=Oi(n,i);let c;for(;c=o();)Ii(e,t,r,c,s);Ii(e,t,r,a,s)}else 16&c?Yi(t,e,i,n,r,s):Ii(e,t,r,a,s);n=o?n.projectionNext:n.next}}function Wi(t,e,n,i,r,s){Ki(n,i,t.firstChild,e,r,s,!1)}function Yi(t,e,n,i,r,s){const o=n[16],a=o[6].projection[i.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Ii(e,t,r,a[c],s);else Ki(t,e,a,o[3],r,s,!0)}function $i(t,e,n){Et(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Gi(t,e,n){Et(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Qi(t,e,n){let i=t.length;for(;;){const r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const n=e.length;if(r+n===i||t.charCodeAt(r+n)<=32)return r}n=r+1}}const Zi="ng-template";function Xi(t,e,n){let i=0;for(;i<t.length;){let r=t[i++];if(n&&"class"===r){if(r=t[i],-1!==Qi(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function Ji(t){return 4===t.type&&t.value!==Zi}function tr(t,e,n){return e===(4!==t.type||n?t.value:Zi)}function er(t,e,n){let i=4;const r=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(xe(t[e]))return e;return t.length}(r);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&i){if(i=2|1&i,""!==c&&!tr(t,c,n)||""===c&&1===e.length){if(nr(i))return!1;o=!0}}else{const l=8&i?c:e[++a];if(8&i&&null!==t.attrs){if(!Xi(t.attrs,l,n)){if(nr(i))return!1;o=!0}continue}const u=ir(8&i?"class":c,r,Ji(t),n);if(-1===u){if(nr(i))return!1;o=!0;continue}if(""!==l){let t;t=u>s?"":r[u+1].toLowerCase();const e=8&i?t:null;if(e&&-1!==Qi(e,l,0)||2&i&&l!==t){if(nr(i))return!1;o=!0}}}}else{if(!o&&!nr(i)&&!nr(c))return!1;if(o&&nr(c))continue;o=!1,i=c|1&i}}return nr(i)||o}function nr(t){return 0==(1&t)}function ir(t,e,n,i){if(null===e)return-1;let r=0;if(i||!n){let n=!1;for(;r<e.length;){const i=e[r];if(i===t)return r;if(3===i||6===i)n=!0;else{if(1===i||2===i){let t=e[++r];for(;"string"==typeof t;)t=e[++r];continue}if(4===i)break;if(0===i){r+=4;continue}}r+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function rr(t,e,n=!1){for(let i=0;i<e.length;i++)if(er(t,e[i],n))return!0;return!1}function sr(t,e){t:for(let n=0;n<e.length;n++){const i=e[n];if(t.length===i.length){for(let e=0;e<t.length;e++)if(t[e]!==i[e])continue t;return!0}}return!1}function or(t,e){return t?":not("+e.trim()+")":e}function ar(t){let e=t[0],n=1,i=2,r="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&i){const e=t[++n];r+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""===r||nr(o)||(e+=or(s,r),r=""),i=o,s=s||!nr(i);n++}return""!==r&&(e+=or(s,r)),e}const cr={};function lr(t){ur(qt(),Bt(),pe()+t,Gt())}function ur(t,e,n,i){if(!i)if(3==(3&e[2])){const i=t.preOrderCheckHooks;null!==i&&ye(e,i,n)}else{const i=t.preOrderHooks;null!==i&&ve(e,i,0,n)}me(n)}function hr(t,e){return t<<17|e<<2}function dr(t){return t>>17&32767}function fr(t){return 2|t}function pr(t){return(131068&t)>>2}function mr(t,e){return-131069&t|e<<2}function gr(t){return 1|t}function br(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],s=n[i+1];if(-1!==s){const n=t.data[s];se(r),n.contentQueries(2,e[s],s)}}}function yr(t,e,n,i,r,s,o,a,c,l){const u=e.blueprint.slice();return u[0]=r,u[2]=140|i,Ft(u),u[3]=u[15]=t,u[8]=n,u[10]=o||t&&t[10],u[11]=a||t&&t[11],u[12]=c||t&&t[12]||null,u[9]=l||t&&t[9]||null,u[6]=s,u[16]=2==e.type?t[16]:u,u}function vr(t,e,n,i,r){let s=t.data[e];if(null===s)s=function(t,e,n,i,r){const s=Kt(),o=Yt(),a=t.data[e]=function(t,e,n,i,r,s){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,i,r);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,i,r),Vt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=i,s.attrs=r;const t=function(){const t=Vt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return Wt(s,!0),s}function _r(t,e,n,i){if(0===n)return-1;const r=e.length;for(let s=0;s<n;s++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function wr(t,e,n){ce(e);try{const i=t.viewQuery;null!==i&&Zr(1,i,n);const r=t.template;null!==r&&Or(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&br(t,e),t.staticViewQueries&&Zr(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Wr(t,e[n])}(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),i}finally{e[2]&=-5,fe()}}function Cr(t,e,n,i){const r=e[2];if(256==(256&r))return;ce(e);const s=Gt();try{Ft(e),Vt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Or(t,e,n,2,i);const o=3==(3&r);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&ye(e,n,null)}else{const n=t.preOrderHooks;null!==n&&ve(e,n,0,null),_e(e,0)}if(function(t){for(let e=xi(t);null!==e;e=ki(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],i=n[3];0==(1024&n[2])&&Mt(i,1),n[2]|=1024}}}(e),function(t){for(let e=xi(t);null!==e;e=ki(e))for(let t=st;t<e.length;t++){const n=e[t],i=n[1];Nt(n)&&Cr(i,n,i.template,n[8])}}(e),null!==t.contentQueries&&br(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&ye(e,n)}else{const n=t.contentHooks;null!==n&&ve(e,n,1),_e(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const i=n[t];if(i<0)me(~i);else{const r=i,s=n[++t],o=n[++t];ee(s,r),o(2,e[r])}}}finally{me(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)zr(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&Zr(2,c,i),!s)if(o){const n=t.viewCheckHooks;null!==n&&ye(e,n)}else{const n=t.viewHooks;null!==n&&ve(e,n,2),_e(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Mt(e[3],-1))}finally{fe()}}function Sr(t,e,n,i){const r=e[10],s=!Gt(),o=Pt(e);try{s&&!o&&r.begin&&r.begin(),o&&wr(t,e,i),Cr(t,e,n,i)}finally{s&&!o&&r.end&&r.end()}}function Or(t,e,n,i,r){const s=pe();try{me(-1),2&i&&e.length>rt&&ur(t,e,rt,Gt()),n(i,r)}finally{me(s)}}function Er(t,e,n){if(ct(e)){const i=e.directiveEnd;for(let r=e.directiveStart;r<i;r++){const e=t.data[r];e.contentQueries&&e.contentQueries(1,n[r],r)}}}function xr(t,e,n){Ut()&&(function(t,e,n,i){const r=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Le(n,e),_i(i,e);const o=n.initialInputs;for(let a=r;a<s;a++){const i=t.data[a],s=ht(i);s&&Ur(e,n,i);const c=$e(e,t,a,n);_i(c,e),null!==o&&Br(0,a-r,c,i,0,o),s&&(Rt(n.index,e)[8]=c)}}(t,e,n,It(n,e)),128==(128&n.flags)&&function(t,e,n){const i=n.directiveStart,r=n.directiveEnd,s=n.index,o=Vt.lFrame.currentDirectiveIndex;try{me(s);for(let n=i;n<r;n++){const i=t.data[n],r=e[n];ne(n),null===i.hostBindings&&0===i.hostVars&&null===i.hostAttrs||Nr(i,r)}}finally{me(-1),ne(o)}}(t,e,n))}function kr(t,e,n=It){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?n(e,t):t[o];t[r++]=a}}}function Tr(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ir(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ir(t,e,n,i,r,s,o,a,c,l){const u=rt+i,h=u+r,d=function(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:cr);return n}(u,h),f="function"==typeof l?l():l;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function Ar(t,e,n,i){const r=Jr(e);null===n?r.push(i):(r.push(n),t.firstCreatePass&&ts(t).push(i,r.length-1))}function Dr(t,e,n){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,r):n[i]=[e,r]}return n}function Rr(t,e,n,i,r,s,o,a){const c=It(e,n);let l,u=e.inputs;var h;!a&&null!=u&&(l=u[i])?(is(t,n,l,i,r),lt(e)&&function(t,e){const n=Rt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(i="class"===(h=i)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,r=null!=o?o(r,e.value||"",i):r,Et(s)?s.setProperty(c,i,r):ke(i)||(c.setProperty?c.setProperty(i,r):c[i]=r))}function jr(t,e,n,i){let r=!1;if(Ut()){const s=function(t,e,n){const i=t.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];rr(n,o.selectors,!1)&&(r||(r=[]),Ue(Le(n,e),t,o.type),ht(o)?(Lr(t,n),r.unshift(o)):r.push(o))}return r}(t,e,n),o=null===i?null:{"":-1};if(null!==s){r=!0,Mr(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let i=!1,a=!1,c=_r(t,e,s.length,null);for(let r=0;r<s.length;r++){const l=s[r];n.mergedAttrs=Te(n.mergedAttrs,l.hostAttrs),Vr(t,n,e,c,l),Fr(c,l,o),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128);const u=l.type.prototype;!i&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),i=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(t,e){const n=e.directiveEnd,i=t.data,r=e.attrs,s=[];let o=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=i[c],n=t.inputs,l=null===r||Ji(e)?null:qr(n,r);s.push(l),o=Dr(n,c,o),a=Dr(t.outputs,c,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const i=t.localNames=[];for(let t=0;t<e.length;t+=2){const r=n[e[t+1]];if(null==r)throw new ft("301",`Export of name '${e[t+1]}' not found!`);i.push(e[t],r)}}}(n,i,o)}return n.mergedAttrs=Te(n.mergedAttrs,n.attrs),r}function Pr(t,e,n,i,r,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(i,r,o)}}function Nr(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Lr(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Fr(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;ht(e)&&(n[""]=t)}}function Mr(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Vr(t,e,n,i,r){t.data[i]=r;const s=r.factory||(r.factory=dt(r.type)),o=new Oe(s,ht(r),null);t.blueprint[i]=o,n[i]=o,Pr(t,e,0,i,_r(t,n,r.hostVars,cr),r)}function Ur(t,e,n){const i=It(e,t),r=Tr(n),s=t[10],o=Yr(t,yr(t,r,null,n.onPush?64:16,i,e,s,s.createRenderer(i,n),null,null));t[e.index]=o}function Br(t,e,n,i,r,s){const o=s[e];if(null!==o){const t=i.setInput;for(let e=0;e<o.length;){const r=o[e++],s=o[e++],a=o[e++];null!==t?i.setInput(n,a,r,s):n[s]=a}}}function qr(t,e){let n=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[i+1])),i+=2}else i+=2;else i+=4}return n}function Hr(t,e,n,i){return new Array(t,!0,!1,e,null,0,i,n,null,null)}function zr(t,e){const n=Rt(e,t);if(Nt(n)){const t=n[1];80&n[2]?Cr(t,n,t.template,n[8]):n[5]>0&&Kr(n)}}function Kr(t){for(let n=xi(t);null!==n;n=ki(n))for(let t=st;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Cr(t,e,t.template,e[8])}else e[5]>0&&Kr(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const i=Rt(e[n],t);Nt(i)&&i[5]>0&&Kr(i)}}function Wr(t,e){const n=Rt(e,t),i=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n),wr(i,n,n[8])}function Yr(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function $r(t){for(;t;){t[2]|=64;const e=Ei(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Gr(t,e,n){const i=e[10];i.begin&&i.begin();try{Cr(t,e,t.template,n)}catch(r){throw ns(e,r),r}finally{i.end&&i.end()}}function Qr(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],i=jt(n),r=i[1];Sr(r,i,r.template,n)}}(t[8])}function Zr(t,e,n){se(0),e(t,n)}const Xr=(()=>Promise.resolve(null))();function Jr(t){return t[7]||(t[7]=[])}function ts(t){return t.cleanup||(t.cleanup=[])}function es(t,e,n){return(null===t||ht(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function ns(t,e){const n=t[9],i=n?n.get(vi,null):null;i&&i.handleError(e)}function is(t,e,n,i,r){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],c=e[o],l=t.data[o];null!==l.setInput?l.setInput(c,r,i,a):c[a]=r}}function rs(t,e,n){const i=Tt(e,t);!function(t,e,n){Et(t)?t.setValue(e,n):e.textContent=n}(t[11],i,n)}function ss(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?r=h(r,t):2==s&&(i=h(i,t+": "+e[++o]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}const os=new rn("INJECTOR",-1);class as{get(t,e=mn){if(e===mn){const e=new Error(`NullInjectorError: No provider for ${u(t)}!`);throw e.name="NullInjectorError",e}return e}}const cs=new rn("Set Injector scope."),ls={},us={},hs=[];let ds;function fs(){return void 0===ds&&(ds=new as),ds}function ps(t,e=null,n=null,i){return new ms(t,n,e||fs(),i)}class ms{constructor(t,e,n,i=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&cn(e,n=>this.processProvider(n,t,e)),cn([t],t=>this.processInjectorType(t,[],r)),this.records.set(os,ys(void 0,this));const s=this.records.get(cs);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof t?null:u(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=mn,n=E.Default){this.assertNotDestroyed();const i=_n(this);try{if(!(n&E.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(r=t)||"object"==typeof r&&r instanceof rn)&&y(t);e=n&&this.injectableDefInScope(n)?ys(gs(t),ls):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&E.Self?fs():this.parent).get(t,e=n&E.Optional&&e===mn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(u(t)),i)throw s;return function(t,e,n,i){const r=t.ngTempTokenPath;throw e[bn]&&r.unshift(e[bn]),t.message=function(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=u(e);if(Array.isArray(e))r=e.map(u).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];t.push(n+":"+("string"==typeof i?JSON.stringify(i):u(i)))}r=`{${t.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(gn,"\n  ")}`}("\n"+t.message,r,n,i),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{_n(i)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(u(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let i=_(t);const r=null==i&&t.ngModule||void 0,s=void 0===r?t:r,o=-1!==n.indexOf(s);if(void 0!==r&&(i=_(r)),null==i)return!1;if(null!=i.imports&&!o){let t;n.push(s);try{cn(i.imports,i=>{this.processInjectorType(i,e,n)&&(void 0===t&&(t=[]),t.push(i))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:i}=t[e];cn(i,t=>this.processProvider(t,n,i||hs))}}this.injectorDefTypes.add(s),this.records.set(s,ys(i.factory,ls));const a=i.providers;if(null!=a&&!o){const e=t;cn(a,t=>this.processProvider(t,e,a))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,n){let i=_s(t=p(t))?t:p(t&&t.provide);const r=function(t,e,n){return vs(t)?ys(void 0,t.useValue):ys(bs(t),ls)}(t);if(_s(t)||!0!==t.multi)this.records.get(i);else{let e=this.records.get(i);e||(e=ys(void 0,ls,!0),e.factory=()=>On(e.multi),this.records.set(i,e)),i=t,e.multi.push(t)}this.records.set(i,r)}hydrate(t,e){var n;return e.value===ls&&(e.value=us,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function gs(t){const e=y(t),n=null!==e?e.factory:dt(t);if(null!==n)return n;const i=_(t);if(null!==i)return i.factory;if(t instanceof rn)throw new Error(`Token ${u(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=hn(e,"?");throw new Error(`Can't resolve all parameters for ${u(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[w]||t[S]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function bs(t,e,n){let i;if(_s(t)){const e=p(t);return dt(e)||gs(e)}if(vs(t))i=()=>p(t.useValue);else if((r=t)&&r.useFactory)i=()=>t.useFactory(...On(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))i=()=>Cn(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return dt(e)||gs(e);i=()=>new e(...On(t.deps))}var r;return i}function ys(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function vs(t){return null!==t&&"object"==typeof t&&yn in t}function _s(t){return"function"==typeof t}const ws=function(t,e,n){return function(t,e=null,n=null,i){const r=ps(t,e,n,i);return r._resolveInjectorDefTypes(),r}({name:n},e,t,n)};let Cs=(()=>{class t{static create(t,e){return Array.isArray(t)?ws(t,e,""):ws(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=mn,t.NULL=new as,t.\u0275prov=g({token:t,providedIn:"any",factory:()=>Cn(os)}),t.__NG_ELEMENT_ID__=-1,t})();function Ss(t,e){be(jt(t)[1],zt())}function Os(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const i=[t];for(;e;){let r;if(ht(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(n){i.push(r);const e=t;e.inputs=Es(t.inputs),e.declaredInputs=Es(t.declaredInputs),e.outputs=Es(t.outputs);const n=r.hostBindings;n&&Ts(t,n);const s=r.viewQuery,o=r.contentQueries;if(s&&xs(t,s),o&&ks(t,o),l(t.inputs,r.inputs),l(t.declaredInputs,r.declaredInputs),l(t.outputs,r.outputs),ht(r)&&r.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(r.data.animation)}}const e=r.features;if(e)for(let i=0;i<e.length;i++){const r=e[i];r&&r.ngInherit&&r(t),r===Os&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Te(r.hostAttrs,n=Te(n,r.hostAttrs))}}(i)}function Es(t){return t===F?{}:t===M?[]:t}function xs(t,e){const n=t.viewQuery;t.viewQuery=n?(t,i)=>{e(t,i),n(t,i)}:e}function ks(t,e){const n=t.contentQueries;t.contentQueries=n?(t,i,r)=>{e(t,i,r),n(t,i,r)}:e}function Ts(t,e){const n=t.hostBindings;t.hostBindings=n?(t,i)=>{e(t,i),n(t,i)}:e}let Is=null;function As(){if(!Is){const t=L.Symbol;if(t&&t.iterator)Is=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Is=n)}}}return Is}class Ds{constructor(t){this.wrapped=t}static wrap(t){return new Ds(t)}static unwrap(t){return Ds.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ds}}function Rs(t){return!!js(t)&&(Array.isArray(t)||!(t instanceof Map)&&As()in t)}function js(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ps(t,e,n){return t[e]=n}function Ns(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ls(t,e,n,i){const r=Ns(t,e,n);return Ns(t,e+1,i)||r}function Fs(t,e,n,i){const r=Bt();return Ns(r,Jt(),e)&&(qt(),function(t,e,n,i,r,s){const o=It(t,e);!function(t,e,n,i,r,s,o){if(null==s)Et(t)?t.removeAttribute(e,r,n):e.removeAttribute(r);else{const a=null==o?pt(s):o(s,i||"",r);Et(t)?t.setAttribute(e,r,a,n):n?e.setAttributeNS(n,r,a):e.setAttribute(r,a)}}(e[11],o,s,t.value,n,i,r)}(ge(),r,t,e,n,i)),Fs}function Ms(t,e,n,i){return Ns(t,Jt(),n)?e+pt(n)+i:cr}function Vs(t,e,n,i,r,s,o,a){const c=Bt(),l=qt(),u=t+rt,h=l.firstCreatePass?function(t,e,n,i,r,s,o,a,c){const l=e.consts,u=vr(e,t,4,o||null,Lt(l,a));jr(e,n,u,Lt(l,c)),be(e,u);const h=u.tViews=Ir(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,n,i,r,s,o):l.data[u];Wt(h,!1);const d=c[11].createComment("");qi(l,c,d,h),_i(d,c),Yr(c,c[u]=Hr(d,c,d,h)),ut(h)&&xr(l,c,h),null!=o&&kr(c,h,a)}function Us(t){return Dt(Vt.lFrame.contextLView,rt+t)}function Bs(t,e=E.Default){const n=Bt();return null===n?Cn(t,e):He(zt(),n,p(t),e)}function qs(t,e,n){const i=Bt();return Ns(i,Jt(),e)&&Rr(qt(),ge(),i,t,e,i[11],n,!1),qs}function Hs(t,e,n,i,r){const s=r?"class":"style";is(t,n,e.inputs[s],s,i)}function zs(t,e,n,i){const r=Bt(),s=qt(),o=rt+t,a=r[11],c=r[o]=Ai(a,e,Vt.lFrame.currentNamespace),l=s.firstCreatePass?function(t,e,n,i,r,s,o){const a=e.consts,c=vr(e,t,2,r,Lt(a,s));return jr(e,n,c,Lt(a,o)),null!==c.attrs&&ss(c,c.attrs,!1),null!==c.mergedAttrs&&ss(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,r,0,e,n,i):s.data[o];Wt(l,!0);const u=l.mergedAttrs;null!==u&&Ee(a,c,u);const h=l.classes;null!==h&&Gi(a,c,h);const d=l.styles;null!==d&&$i(a,c,d),64!=(64&l.flags)&&qi(s,r,c,l),0===Vt.lFrame.elementDepthCount&&_i(c,r),Vt.lFrame.elementDepthCount++,ut(l)&&(xr(s,r,l),Er(s,l,r)),null!==i&&kr(r,l)}function Ks(){let t=zt();Yt()?$t():(t=t.parent,Wt(t,!1));const e=t;Vt.lFrame.elementDepthCount--;const n=qt();n.firstCreatePass&&(be(n,t),ct(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Hs(n,e,Bt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Hs(n,e,Bt(),e.stylesWithoutHost,!1)}function Ws(t,e,n,i){zs(t,e,n,i),Ks()}function Ys(t,e,n){const i=Bt(),r=qt(),s=t+rt,o=r.firstCreatePass?function(t,e,n,i,r){const s=e.consts,o=Lt(s,i),a=vr(e,t,8,"ng-container",o);return null!==o&&ss(a,o,!0),jr(e,n,a,Lt(s,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,r,i,e,n):r.data[s];Wt(o,!0);const a=i[s]=i[11].createComment("");qi(r,i,a,o),_i(a,i),ut(o)&&(xr(r,i,o),Er(r,o,i)),null!=n&&kr(i,o)}function $s(){let t=zt();const e=qt();Yt()?$t():(t=t.parent,Wt(t,!1)),e.firstCreatePass&&(be(e,t),ct(t)&&e.queries.elementEnd(t))}function Gs(t,e,n){Ys(t,e,n),$s()}function Qs(){return Bt()}function Zs(t){return!!t&&"function"==typeof t.then}function Xs(t){return!!t&&"function"==typeof t.subscribe}const Js=Xs;function to(t,e,n=!1,i){const r=Bt(),s=qt(),o=zt();return no(s,r,r[11],o,t,e,n,i),to}function eo(t,e,n=!1,i){const r=zt(),s=Bt(),o=qt();return no(o,s,es(ie(o.data),r,s),r,t,e,n,i),eo}function no(t,e,n,i,r,s,o=!1,a){const c=ut(i),l=t.firstCreatePass&&ts(t),u=Jr(e);let h=!0;if(3&i.type){const d=It(i,e),f=a?a(d):F,p=f.target||d,m=u.length,g=a?t=>a(kt(t[i.index])).target:i.index;if(Et(n)){let o=null;if(!a&&c&&(o=function(t,e,n,i){const r=t.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const t=r[s];if(t===n&&r[s+1]===i){const t=e[7],n=r[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,r,i.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=ro(i,e,s,!1);const t=n.listen(f.name||p,r,s);u.push(s,t),l&&l.push(r,g,m,m+1)}}else s=ro(i,e,s,!0),p.addEventListener(r,s,o),u.push(s),l&&l.push(r,g,m,o)}else s=ro(i,e,s,!1);const d=i.outputs;let f;if(h&&null!==d&&(f=d[r])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=u.length;u.push(s,t),l&&l.push(r,i.index,o,-(o+1))}}}function io(t,e,n){try{return!1!==e(n)}catch(i){return ns(t,i),!1}}function ro(t,e,n,i){return function r(s){if(s===Function)return n;const o=2&t.flags?Rt(t.index,e):e;0==(32&e[2])&&$r(o);let a=io(e,n,s),c=r.__ngNextListenerFn__;for(;c;)a=io(e,c,s)&&a,c=c.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function so(t=1){return function(t){return(Vt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Vt.lFrame.contextLView))[8]}(t)}function oo(t,e){let n=null;const i=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?rr(t,s,!0):sr(i,s))return r}else n=r}return n}function ao(t){const e=Bt()[16][6];if(!e.projection){const n=e.projection=hn(t?t.length:1,null),i=n.slice();let r=e.child;for(;null!==r;){const e=t?oo(r,t):0;null!==e&&(i[e]?i[e].projectionNext=r:n[e]=r,i[e]=r),r=r.next}}}function co(t,e=0,n){const i=Bt(),r=qt(),s=vr(r,rt+t,16,null,n||null);null===s.projection&&(s.projection=e),$t(),64!=(64&s.flags)&&function(t,e,n){Yi(e[11],0,e,n,Ni(t,n,e),Ui(n.parent||e[6],n,e))}(r,i,s)}const lo=[];function uo(t,e,n,i,r){const s=t[n+1],o=null===e;let a=i?dr(s):pr(s),c=!1;for(;0!==a&&(!1===c||o);){const n=t[a+1];ho(t[a],e)&&(c=!0,t[a+1]=i?gr(n):fr(n)),a=i?dr(n):pr(n)}c&&(t[n+1]=i?fr(s):gr(s))}function ho(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&pn(t,e)>=0}const fo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function po(t){return t.substring(fo.key,fo.keyEnd)}function mo(t,e){const n=fo.textEnd;return n===e?-1:(e=fo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,fo.key=e,n),go(t,e,n))}function go(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function bo(t,e,n){return _o(t,e,n,!1),bo}function yo(t,e){return _o(t,e,null,!0),yo}function vo(t,e){for(let n=function(t){return function(t){fo.key=0,fo.keyEnd=0,fo.value=0,fo.valueEnd=0,fo.textEnd=t.length}(t),mo(t,go(t,0,fo.textEnd))}(e);n>=0;n=mo(e,n))dn(t,po(e),!0)}function _o(t,e,n,i){const r=Bt(),s=qt(),o=te(2);s.firstUpdatePass&&Co(s,t,o,i),e!==cr&&Ns(r,o,e)&&Eo(s,s.data[pe()],r,r[11],t,r[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=u(Fn(t)))),t}(e,n),i,o)}function wo(t,e){return e>=t.expandoStartIndex}function Co(t,e,n,i){const r=t.data;if(null===r[n+1]){const s=r[pe()],o=wo(t,n);To(s,i)&&null===e&&!o&&(e=!1),e=function(t,e,n,i){const r=ie(t);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(n=Oo(n=So(null,t,e,n,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==r)if(n=So(r,t,e,n,i),null===s){let n=function(t,e,n){const i=n?e.classBindings:e.styleBindings;if(0!==pr(i))return t[dr(i)]}(t,e,i);void 0!==n&&Array.isArray(n)&&(n=So(null,t,e,n[1],i),n=Oo(n,e.attrs,i),function(t,e,n,i){t[dr(n?e.classBindings:e.styleBindings)]=i}(t,e,i,n))}else s=function(t,e,n){let i;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=Oo(i,t[s].hostAttrs,n);return Oo(i,e.attrs,n)}(t,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),n}(r,s,e,i),function(t,e,n,i,r,s){let o=s?e.classBindings:e.styleBindings,a=dr(o),c=pr(o);t[i]=n;let l,u=!1;if(Array.isArray(n)){const t=n;l=t[1],(null===l||pn(t,l)>0)&&(u=!0)}else l=n;if(r)if(0!==c){const e=dr(t[a+1]);t[i+1]=hr(e,a),0!==e&&(t[e+1]=mr(t[e+1],i)),t[a+1]=131071&t[a+1]|i<<17}else t[i+1]=hr(a,0),0!==a&&(t[a+1]=mr(t[a+1],i)),a=i;else t[i+1]=hr(c,0),0===a?a=i:t[c+1]=mr(t[c+1],i),c=i;u&&(t[i+1]=fr(t[i+1])),uo(t,l,i,!0),uo(t,l,i,!1),function(t,e,n,i,r){const s=r?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&pn(s,e)>=0&&(n[i+1]=gr(n[i+1]))}(e,l,t,i,s),o=hr(a,c),s?e.classBindings=o:e.styleBindings=o}(r,s,e,n,o,i)}}function So(t,e,n,i,r){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],i=Oo(i,s.hostAttrs,r),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),i}function Oo(t,e,n){const i=n?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),dn(t,o,!!n||e[++s]))}return void 0===t?null:t}function Eo(t,e,n,i,r,s,o,a){if(!(3&e.type))return;const c=t.data,l=c[a+1];ko(1==(1&l)?xo(c,e,n,r,pr(l),o):void 0)||(ko(s)||2==(2&l)&&(s=xo(c,null,n,r,a,o)),function(t,e,n,i,r){const s=Et(t);if(e)r?s?t.addClass(n,i):n.classList.add(i):s?t.removeClass(n,i):n.classList.remove(i);else{let e=-1===i.indexOf("-")?void 0:Si.DashCase;if(null==r)s?t.removeStyle(n,i,e):n.style.removeProperty(i);else{const o="string"==typeof r&&r.endsWith("!important");o&&(r=r.slice(0,-10),e|=Si.Important),s?t.setStyle(n,i,r,e):n.style.setProperty(i,r,o?"important":"")}}}(i,o,Tt(pe(),n),r,s))}function xo(t,e,n,i,r,s){const o=null===e;let a;for(;r>0;){const e=t[r],s=Array.isArray(e),c=s?e[1]:e,l=null===c;let u=n[r+1];u===cr&&(u=l?lo:void 0);let h=l?fn(u,i):c===i?u:void 0;if(s&&!ko(h)&&(h=fn(e,i)),ko(h)&&(a=h,o))return a;const d=t[r+1];r=o?dr(d):pr(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=fn(t,i))}return a}function ko(t){return void 0!==t}function To(t,e){return 0!=(t.flags&(e?16:32))}function Io(t,e=""){const n=Bt(),i=qt(),r=t+rt,s=i.firstCreatePass?vr(i,r,1,e,null):i.data[r],o=n[r]=function(t,e){return Et(t)?t.createText(e):t.createTextNode(e)}(n[11],e);qi(i,n,o,s),Wt(s,!1)}function Ao(t){return Do("",t,""),Ao}function Do(t,e,n){const i=Bt(),r=Ms(i,t,e,n);return r!==cr&&rs(i,pe(),r),Do}function Ro(t,e,n,i,r){const s=Bt(),o=function(t,e,n,i,r,s){const o=Ls(t,Xt(),n,r);return te(2),o?e+pt(n)+i+pt(r)+s:cr}(s,t,e,n,i,r);return o!==cr&&rs(s,pe(),o),Ro}function jo(t,e,n){!function(t,e,n,i){const r=qt(),s=te(2);r.firstUpdatePass&&Co(r,null,s,i);const o=Bt();if(n!==cr&&Ns(o,s,n)){const a=r.data[pe()];if(To(a,i)&&!wo(r,s)){let t=a.classesWithoutHost;null!==t&&(n=h(t,n||"")),Hs(r,a,o,n,i)}else!function(t,e,n,i,r,s,o,a){r===cr&&(r=lo);let c=0,l=0,u=0<r.length?r[0]:null,h=0<s.length?s[0]:null;for(;null!==u||null!==h;){const o=c<r.length?r[c+1]:void 0,d=l<s.length?s[l+1]:void 0;let f,p=null;u===h?(c+=2,l+=2,o!==d&&(p=h,f=d)):null===h||null!==u&&u<h?(c+=2,p=u):(l+=2,p=h,f=d),null!==p&&Eo(t,e,n,i,p,f,true,a),u=c<r.length?r[c]:null,h=l<s.length?s[l]:null}}(r,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return lo;const i=[],r=Fn(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&t(i,s,r[s]);else"string"==typeof r&&e(i,r);return i}(t,e,n),0,s)}}(dn,vo,Ms(Bt(),t,e,n),!0)}function Po(t,e,n){const i=Bt();return Ns(i,Jt(),e)&&Rr(qt(),ge(),i,t,e,i[11],n,!0),Po}function No(t,e,n){const i=Bt();if(Ns(i,Jt(),e)){const r=qt(),s=ge();Rr(r,s,i,t,e,es(ie(r.data),s,i),n,!0)}return No}const Lo=void 0;var Fo=["en",[["a","p"],["AM","PM"],Lo],[["AM","PM"],Lo,Lo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Lo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Lo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Lo,"{1} 'at' {0}",Lo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Mo={};function Vo(t,e,n){"string"!=typeof e&&(n=e,e=t[zo.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Mo[e]=t,n&&(Mo[e][zo.ExtraData]=n)}function Uo(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Ho(e);if(n)return n;const i=e.split("-")[0];if(n=Ho(i),n)return n;if("en"===i)return Fo;throw new Error(`Missing locale data for the locale "${t}".`)}function Bo(t){return Uo(t)[zo.CurrencyCode]||null}function qo(t){return Uo(t)[zo.PluralCase]}function Ho(t){return t in Mo||(Mo[t]=L.ng&&L.ng.common&&L.ng.common.locales&&L.ng.common.locales[t]),Mo[t]}var zo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Ko="en-US";let Wo=Ko;function Yo(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Wo=t.toLowerCase().replace(/_/g,"-"))}function $o(t,e,n,i,r){if(t=p(t),Array.isArray(t))for(let s=0;s<t.length;s++)$o(t[s],e,n,i,r);else{const s=qt(),o=Bt();let a=_s(t)?t:p(t.provide),c=bs(t);const l=zt(),u=1048575&l.providerIndexes,h=l.directiveStart,d=l.providerIndexes>>20;if(_s(t)||!t.multi){const i=new Oe(c,r,Bs),f=Zo(a,e,r?u:u+d,h);-1===f?(Ue(Le(l,o),s,a),Go(s,t,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(i),o.push(i)):(n[f]=i,o[f]=i)}else{const f=Zo(a,e,u+d,h),p=Zo(a,e,u,u+d),m=f>=0&&n[f],g=p>=0&&n[p];if(r&&!g||!r&&!m){Ue(Le(l,o),s,a);const u=function(t,e,n,i,r){const s=new Oe(t,n,Bs);return s.multi=[],s.index=e,s.componentProviders=0,Qo(s,r,i&&!n),s}(r?Jo:Xo,n.length,r,i,c);!r&&g&&(n[p].providerFactory=u),Go(s,t,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(u),o.push(u)}else Go(s,t,f>-1?f:p,Qo(n[r?p:f],c,!r&&i));!r&&i&&g&&n[p].componentProviders++}}}function Go(t,e,n,i){const r=_s(e);if(r||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[i,s]):o[t+1].push(i,s)}else o.push(n,s)}}}function Qo(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Zo(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function Xo(t,e,n,i){return ta(this.multi,[])}function Jo(t,e,n,i){const r=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=$e(n,n[1],this.providerFactory.index,i);s=e.slice(0,t),ta(r,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],ta(r,s);return s}function ta(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ea(t,e=[]){return n=>{n.providersResolver=(n,i)=>function(t,e,n){const i=qt();if(i.firstCreatePass){const r=ht(t);$o(n,i.data,i.blueprint,r,!0),$o(e,i.data,i.blueprint,r,!1)}}(n,i?i(t):t,e)}}class na{}class ia{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${u(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let ra=(()=>{class t{}return t.NULL=new ia,t})();function sa(...t){}function oa(t,e){return new ca(It(t,e))}const aa=function(){return oa(zt(),Bt())};let ca=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=aa,t})();function la(t){return t instanceof ca?t.nativeElement:t}class ua{}let ha=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>da(),t})();const da=function(){const t=Bt(),e=Rt(zt().index,t);return function(t){return t[11]}(ot(e)?e:t)};let fa=(()=>{class t{}return t.\u0275prov=g({token:t,providedIn:"root",factory:()=>null}),t})();class pa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ma=new pa("11.1.2");class ga{constructor(){}supports(t){return Rs(t)}create(t){return new ya(t)}}const ba=(t,e)=>e;class ya{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ba}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,r=null;for(;e||n;){const s=!n||e&&e.currentIndex<Ca(n,i,r)?e:n,o=Ca(s,i,r),a=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)i++;else{r||(r=[]);const t=o-i,e=a-i;if(t!=e){for(let n=0;n<t;n++){const i=n<r.length?r[n]:r[n]=0,s=i+n;e<=s&&s<t&&(r[n]=i+1)}r[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Rs(t))throw new Error(`Error trying to diff '${u(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,i,r=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],i=this._trackByFn(e,n),null!==r&&Object.is(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,n,i,e)),Object.is(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,e),s=!0),r=r._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[As()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(t,t=>{i=this._trackByFn(e,t),null!==r&&Object.is(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,t,i,e)),Object.is(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,i,e),s=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):t=this._addAfter(new va(e,n),r,i),t}_verifyReinsertion(t,e,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new wa),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class va{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _a{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class wa{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new _a,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ca(t,e,n){const i=t.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}class Sa{constructor(){}supports(t){return t instanceof Map||js(t)}create(){return new Oa}}class Oa{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||js(t)))throw new Error(`Error trying to diff '${u(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new Ea(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ea{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function xa(){return new ka([new ga])}let ka=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||xa()),deps:[[t,new Tn,new kn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=g({token:t,providedIn:"root",factory:xa}),t})();function Ta(){return new Ia([new Sa])}let Ia=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Ta()),deps:[[t,new Tn,new kn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=g({token:t,providedIn:"root",factory:Ta}),t})();function Aa(t,e,n,i,r=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&i.push(kt(s)),at(s))for(let t=st;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&Aa(e[1],e,n,i)}const o=n.type;if(8&o)Aa(t,e,n.child,i);else if(32&o){const t=Oi(n,e);let r;for(;r=t();)i.push(r)}else if(16&o){const t=e[16],r=t[6].projection[n.projection];if(Array.isArray(r))i.push(...r);else{const e=Ei(t);Aa(e[1],e,r,i,!0)}}n=r?n.projectionNext:n.next}return i}class Da{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Aa(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(at(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Ri(t,n),un(e,n))}this._attachedToViewContainer=!1}ji(this._lView[1],this._lView)}onDestroy(t){Ar(this._lView[1],this._lView,null,t)}markForCheck(){$r(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Gr(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Qt(!0);try{Gr(t,e,n)}finally{Qt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Wi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Ra extends Da{constructor(t){super(t),this._view=t}detectChanges(){Qr(this._view)}checkNoChanges(){!function(t){Qt(!0);try{Qr(t)}finally{Qt(!1)}}(this._view)}get context(){return null}}const ja=Na;let Pa=(()=>{class t{}return t.__NG_ELEMENT_ID__=ja,t.__ChangeDetectorRef__=!0,t})();function Na(t=!1){return function(t,e,n){if(!n&&lt(t)){const n=Rt(t.index,e);return new Da(n,n)}return 47&t.type?new Da(e[16],e):null}(zt(),Bt(),t)}const La=[new Sa],Fa=new ka([new ga]),Ma=new Ia(La),Va=function(){return Ha(zt(),Bt())};let Ua=(()=>{class t{}return t.__NG_ELEMENT_ID__=Va,t})();const Ba=Ua,qa=class extends Ba{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=yr(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const i=this._declarationLView[19];return null!==i&&(n[19]=i.createEmbeddedView(e)),wr(e,n,t),new Da(n)}};function Ha(t,e){return 4&t.type?new qa(e,t,oa(t,e)):null}class za{}class Ka{}const Wa=function(){return Xa(zt(),Bt())};let Ya=(()=>{class t{}return t.__NG_ELEMENT_ID__=Wa,t})();const $a=Ya,Ga=class extends $a{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return oa(this._hostTNode,this._hostLView)}get injector(){return new Ze(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ve(this._hostTNode,this._hostLView);if(Ae(t)){const e=Re(t,this._hostLView),n=De(t);return new Ze(e[1].data[n+8],e)}return new Ze(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Qa(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-st}createEmbeddedView(t,e,n){const i=t.createEmbeddedView(e||{});return this.insert(i,n),i}createComponent(t,e,n,i,r){const s=n||this.parentInjector;if(!r&&null==t.ngModule&&s){const t=s.get(za,null);t&&(r=t)}const o=t.create(s,i,void 0,r);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,i=n[1];if(at(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],i=new Ga(e,e[6],e[3]);i.detach(i.indexOf(t))}}const r=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,i){const r=st+i,s=n.length;i>0&&(n[r-1][4]=e),i<s-st?(e[4]=n[r],ln(n,st+i,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,n,s,r);const o=zi(r,s),a=n[11],c=Vi(a,s[7]);return null!==c&&function(t,e,n,i,r,s){i[0]=r,i[6]=e,Wi(t,i,n,1,r,s)}(i,s[6],a,n,c,o),t.attachToViewContainerRef(),ln(Za(s),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Qa(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Ri(this._lContainer,e);n&&(un(Za(this._lContainer),e),ji(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Ri(this._lContainer,e);return n&&null!=un(Za(this._lContainer),e)?new Da(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Qa(t){return t[8]}function Za(t){return t[8]||(t[8]=[])}function Xa(t,e){let n;const i=e[t.index];if(at(i))n=i;else{let r;if(8&t.type)r=kt(i);else{const n=e[11];r=n.createComment("");const i=It(t,e);Li(n,Vi(n,i),r,function(t,e){return Et(t)?t.nextSibling(e):e.nextSibling}(n,i),!1)}e[t.index]=n=Hr(i,e,r,t),Yr(e,n)}return new Ga(n,t,e)}const Ja={};class tc extends ra{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=nt(t);return new ic(e,this.ngModule)}}function ec(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const nc=new rn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>wi});class ic extends na{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ar).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return ec(this.componentDef.inputs)}get outputs(){return ec(this.componentDef.outputs)}create(t,e,n,i){const r=(i=i||this.ngModule)?function(t,e){return{get:(n,i,r)=>{const s=t.get(n,Ja,r);return s!==Ja||i===Ja?s:e.get(n,i,r)}}}(t,i.injector):t,s=r.get(ua,xt),o=r.get(fa,null),a=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=n?function(t,e,n){if(Et(t))return t.selectRootElement(e,n===D.ShadowDom);let i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(a,n,this.componentDef.encapsulation):Ai(s.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),u=this.componentDef.onPush?576:528,h={components:[],scheduler:wi,clean:Xr,playerHandler:null,flags:0},d=Ir(0,null,null,1,0,null,null,null,null,null),f=yr(null,d,h,u,null,null,s,a,o,r);let p,m;ce(f);try{const t=function(t,e,n,i,r,s){const o=n[1];n[20]=t;const a=vr(o,20,2,"#host",null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(ss(a,c,!0),null!==t&&(Ee(r,t,c),null!==a.classes&&Gi(r,t,a.classes),null!==a.styles&&$i(r,t,a.styles)));const l=i.createRenderer(t,e),u=yr(n,Tr(e),null,e.onPush?64:16,n[20],a,i,l,null,null);return o.firstCreatePass&&(Ue(Le(a,n),o,e.type),Lr(o,a),Mr(a,n.length,1)),Yr(n,u),n[20]=u}(l,this.componentDef,f,s,a);if(l)if(n)Ee(a,l,["ng-version",ma.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let i=1,r=2;for(;i<t.length;){let s=t[i];if("string"==typeof s)2===r?""!==s&&e.push(s,t[++i]):8===r&&n.push(s);else{if(!nr(r))break;r=s}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ee(a,l,t),e&&e.length>0&&Gi(a,l,e.join(" "))}if(m=At(d,rt),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const i=e[n];t.push(null!=i?Array.from(i):null)}}p=function(t,e,n,i,r){const s=n[1],o=function(t,e,n){const i=zt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Vr(t,i,e,_r(t,e,1,null),n));const r=$e(e,t,i.directiveStart,i);_i(r,e);const s=It(i,e);return s&&_i(s,e),r}(s,n,e);if(i.components.push(o),t[8]=o,r&&r.forEach(t=>t(o,e)),e.contentQueries){const t=zt();e.contentQueries(1,o,t.directiveStart)}const a=zt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(me(a.index),Pr(n[1],a,0,a.directiveStart,a.directiveEnd,e),Nr(e,o)),o}(t,this.componentDef,f,h,[Ss]),wr(d,f,null)}finally{fe()}return new rc(this.componentType,p,oa(m,f),f,m)}}class rc extends class{}{constructor(t,e,n,i,r){super(),this.location=n,this._rootLView=i,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new Ra(i),this.componentType=t}get injector(){return new Ze(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const sc=new Map;class oc extends za{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new tc(this);const n=it(t),i=t[H]||null;i&&Yo(i),this._bootstrapComponents=Ci(n.bootstrap),this._r3Injector=ps(t,e,[{provide:za,useValue:this},{provide:ra,useValue:this.componentFactoryResolver}],u(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Cs.THROW_IF_NOT_FOUND,n=E.Default){return t===Cs||t===za||t===os?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ac extends Ka{constructor(t){super(),this.moduleType=t,null!==it(t)&&function(t){const e=new Set;!function t(n){const i=it(n,!0),r=i.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${u(e)} vs ${u(e.name)}`)}(r,sc.get(r),n),sc.set(r,n));const s=Ci(i.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new oc(this.moduleType,t)}}function cc(t,e,n,i,r){return function(t,e,n,i,r,s,o){const a=e+n;return Ls(t,a,r,s)?Ps(t,a+2,o?i.call(o,r,s):i(r,s)):lc(t,a+2)}(Bt(),Zt(),t,e,n,i,r)}function lc(t,e){const n=t[e];return n===cr?void 0:n}function uc(t,e){const n=qt();let i;const r=t+rt;n.firstCreatePass?(i=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const i=e[n];if(t===i.name)return i}throw new ft("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(r,i.onDestroy)):i=n.data[r];const s=i.factory||(i.factory=dt(i.type)),o=k(Bs);try{const t=Pe(!1),e=s();return Pe(t),function(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}(n,Bt(),r,e),e}finally{k(o)}}function hc(t,e,n){const i=t+rt,r=Bt(),s=Dt(r,i);return pc(r,fc(r,i)?function(t,e,n,i,r,s){const o=e+n;return Ns(t,o,r)?Ps(t,o+1,s?i.call(s,r):i(r)):lc(t,o+1)}(r,Zt(),e,s.transform,n,s):s.transform(n))}function dc(t,e,n,i,r,s){const o=t+rt,a=Bt(),c=Dt(a,o);return pc(a,fc(a,o)?function(t,e,n,i,r,s,o,a,c){const l=e+n;return function(t,e,n,i,r,s){const o=Ls(t,e,n,i);return Ls(t,e+2,r,s)||o}(t,l,r,s,o,a)?Ps(t,l+4,c?i.call(c,r,s,o,a):i(r,s,o,a)):lc(t,l+4)}(a,Zt(),e,c.transform,n,i,r,s,c):c.transform(n,i,r,s))}function fc(t,e){return t[1].data[e].pure}function pc(t,e){return Ds.isWrapped(e)&&(e=Ds.unwrap(e),t[Xt()]=cr),e}const mc=class extends i.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let i,s=t=>null,o=()=>null;t&&"object"==typeof t?(i=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(i=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(i,s,o);return t instanceof r.a&&t.add(a),a}};function gc(){return this._results[As()]()}class bc{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=As(),n=bc.prototype;n[e]||(n[e]=gc)}get changes(){return this._changes||(this._changes=new mc)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const i=an(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],s=e[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}(n._results,i,e))&&(n._results=i,n.length=i.length,n.last=i[this.length-1],n.first=i[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class yc{constructor(t){this.queryList=t,this.matches=null}clone(){return new yc(this.queryList)}setDirty(){this.queryList.setDirty()}}class vc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);i.push(this.queries[n.indexInDeclarationView].clone())}return new vc(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==jc(t,e).matches&&this.queries[e].setDirty()}}class _c{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class wc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const i=null!==e?e.length:0,r=this.getByIndex(n).embeddedTView(t,i);r&&(r.indexInDeclarationView=n,null!==e?e.push(r):e=[r])}return null!==e?new wc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Cc{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Cc(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){const r=n[i];this.matchTNodeWithReadOption(t,e,Sc(e,r)),this.matchTNodeWithReadOption(t,e,Ye(e,t,r,!1,!1))}else n===Ua?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ye(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===ca||i===Ya||i===Ua&&4&e.type)this.addMatch(e.index,-2);else{const n=Ye(e,t,i,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Sc(t,e){const n=t.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function Oc(t,e,n,i){return-1===n?function(t,e){return 11&t.type?oa(t,e):4&t.type?Ha(t,e):null}(e,t):-2===n?function(t,e,n){return n===ca?oa(e,t):n===Ua?Ha(e,t):n===Ya?Xa(e,t):void 0}(t,e,i):$e(t,t[1],n,e)}function Ec(t,e,n,i){const r=e[19].queries[i];if(null===r.matches){const i=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const r=s[t];o.push(r<0?null:Oc(e,i[r],s[t+1],n.metadata.read))}r.matches=o}return r.matches}function xc(t,e,n,i){const r=t.queries.getByIndex(n),s=r.matches;if(null!==s){const o=Ec(t,e,r,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)i.push(o[t/2]);else{const r=s[t+1],o=e[-n];for(let t=st;t<o.length;t++){const e=o[t];e[17]===e[3]&&xc(e[1],e,r,i)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];xc(n[1],n,r,i)}}}}}return i}function kc(t){const e=Bt(),n=qt(),i=re();se(i+1);const r=jc(n,i);if(t.dirty&&Pt(e)===(2==(2&r.metadata.flags))){if(null===r.matches)t.reset([]);else{const s=r.crossesNgTemplate?xc(n,e,i,[]):Ec(n,e,r,i);t.reset(s,la),t.notifyOnChanges()}return!0}return!1}function Tc(t,e,n){const i=qt();i.firstCreatePass&&(Rc(i,new _c(t,e,n),-1),2==(2&e)&&(i.staticViewQueries=!0)),Dc(i,Bt(),e)}function Ic(t,e,n,i){const r=qt();if(r.firstCreatePass){const s=zt();Rc(r,new _c(e,n,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(r,t),2==(2&n)&&(r.staticContentQueries=!0)}Dc(r,Bt(),n)}function Ac(){return t=Bt(),e=re(),t[19].queries[e].queryList;var t,e}function Dc(t,e,n){const i=new bc(4==(4&n));Ar(t,e,i,i.destroy),null===e[19]&&(e[19]=new vc),e[19].queries.push(new yc(i))}function Rc(t,e,n){null===t.queries&&(t.queries=new wc),t.queries.track(new Cc(e,n))}function jc(t,e){return t.queries.getByIndex(e)}function Pc(t=E.Default){const e=Na(!0);if(null!=e||t&E.Optional)return e;gt("ChangeDetectorRef")}const Nc=new rn("Application Initializer");let Lc=(()=>{class t{constructor(t){this.appInits=t,this.resolve=sa,this.reject=sa,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Zs(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Cn(Nc,8))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();const Fc=new rn("AppId"),Mc={provide:Fc,useFactory:function(){return`${Vc()}${Vc()}${Vc()}`},deps:[]};function Vc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Uc=new rn("Platform Initializer"),Bc=new rn("Platform ID"),qc=new rn("appBootstrapListener");let Hc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();const zc=new rn("LocaleId"),Kc=new rn("DefaultCurrencyCode");class Wc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Yc=function(t){return new ac(t)},$c=Yc,Gc=function(t){return Promise.resolve(Yc(t))},Qc=function(t){const e=Yc(t),n=Ci(it(t).declarations).reduce((t,e)=>{const n=nt(e);return n&&t.push(new ic(n)),t},[]);return new Wc(e,n)},Zc=Qc,Xc=function(t){return Promise.resolve(Qc(t))};let Jc=(()=>{class t{constructor(){this.compileModuleSync=$c,this.compileModuleAsync=Gc,this.compileModuleAndAllComponentsSync=Zc,this.compileModuleAndAllComponentsAsync=Xc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();const tl=(()=>Promise.resolve(0))();function el(t){"undefined"==typeof Zone?tl.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class nl{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new mc(!1),this.onMicrotaskEmpty=new mc(!1),this.onStable=new mc(!1),this.onError=new mc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&e,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let t=L.requestAnimationFrame,e=L.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(L,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,sl(t),rl(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),sl(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,o,a)=>{try{return ol(t),n.invokeTask(r,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),al(t)}},onInvoke:(n,i,r,s,o,a,c)=>{try{return ol(t),n.invoke(r,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),al(t)}},onHasTask:(e,n,i,r)=>{e.hasTask(i,r),n===i&&("microTask"==r.change?(t._hasPendingMicrotasks=r.microTask,sl(t),rl(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,n,i,r)=>(e.handleError(i,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!nl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(nl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){const r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+i,t,il,sa,sa);try{return r.runTask(s,e,n)}finally{r.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const il={};function rl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function sl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function ol(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function al(t){t._nesting--,rl(t)}class cl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new mc,this.onMicrotaskEmpty=new mc,this.onStable=new mc,this.onError=new mc}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,i){return t.apply(e,n)}}let ll=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{nl.assertNotInAngularZone(),el(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())el(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let i=-1;e&&e>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==i),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Cn(nl))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})(),ul=(()=>{class t{constructor(){this._applications=new Map,pl.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return pl.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();class hl{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function dl(t){pl=t}let fl,pl=new hl,ml=!0,gl=!1;function bl(){return gl=!0,ml}function yl(){if(gl)throw new Error("Cannot enable prod mode after platform setup.");ml=!1}const vl=new rn("AllowMultipleToken");class _l{constructor(t,e){this.name=t,this.token=e}}function wl(t,e,n=[]){const i=`Platform: ${e}`,r=new rn(i);return(e=[])=>{let s=Cl();if(!s||s.injector.get(vl,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{const t=n.concat(e).concat({provide:r,useValue:!0},{provide:cs,useValue:"platform"});!function(t){if(fl&&!fl.destroyed&&!fl.injector.get(vl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");fl=t.get(Sl);const e=t.get(Uc,null);e&&e.forEach(t=>t())}(Cs.create({providers:t,name:i}))}return function(t){const e=Cl();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function Cl(){return fl&&!fl.destroyed?fl:null}let Sl=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new cl:("zone.js"===t?void 0:t)||new nl({enableLongStackTrace:bl(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),i=[{provide:nl,useValue:n}];return n.run(()=>{const e=Cs.create({providers:i,parent:this.injector,name:t.moduleType.name}),r=t.create(e),s=r.injector.get(vi,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});r.onDestroy(()=>{xl(this._modules,r),t.unsubscribe()})}),function(t,e,n){try{const i=n();return Zs(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(s,n,()=>{const t=r.injector.get(Lc);return t.runInitializers(),t.donePromise.then(()=>(Yo(r.injector.get(zc,Ko)||Ko),this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const n=Ol({},e);return function(t,e,n){const i=new ac(n);return Promise.resolve(i)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(El);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${u(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Cn(Cs))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();function Ol(t,e){return Array.isArray(e)?e.reduce(Ol,t):Object.assign(Object.assign({},t),e)}let El=(()=>{class t{constructor(t,e,n,i,r,c){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),u=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{nl.assertNotInAngularZone(),el(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{nl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(l,u.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof na?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const i=n.isBoundToModule?void 0:this._injector.get(za),r=n.create(Cs.NULL,[],e||n.selector,i),s=r.location.nativeElement,o=r.injector.get(ll,null),a=o&&r.injector.get(ul);return o&&a&&a.registerApplication(s,o),r.onDestroy(()=>{this.detachView(r.hostView),xl(this.components,r),a&&a.unregisterApplication(s)}),this._loadComponent(r),bl()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;xl(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(qc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Cn(nl),Cn(Hc),Cn(Cs),Cn(vi),Cn(ra),Cn(Lc))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();function xl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class kl{}class Tl{}const Il={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Al=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Il}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,i]=t.split("#");return void 0===i&&(i="default"),n("zn8P")(e).then(t=>t[i]).then(t=>Dl(t,e,i)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,i]=t.split("#"),r="NgFactory";return void 0===i&&(i="default",r=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[i+r]).then(t=>Dl(t,e,i))}}return t.\u0275fac=function(e){return new(e||t)(Cn(Jc),Cn(Tl,8))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();function Dl(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class Rl extends Pa{}class jl extends Rl{}const Pl=function(t){return null},Nl=wl(null,"core",[{provide:Bc,useValue:"unknown"},{provide:Sl,deps:[Cs]},{provide:ul,deps:[]},{provide:Hc,deps:[]}]),Ll=[{provide:El,useClass:El,deps:[nl,Hc,Cs,vi,ra,Lc]},{provide:nc,deps:[nl],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Lc,useClass:Lc,deps:[[new kn,Nc]]},{provide:Jc,useClass:Jc,deps:[]},Mc,{provide:ka,useFactory:function(){return Fa},deps:[]},{provide:Ia,useFactory:function(){return Ma},deps:[]},{provide:zc,useFactory:function(t){return Yo(t=t||"undefined"!=typeof $localize&&$localize.locale||Ko),t},deps:[[new xn(zc),new kn,new Tn]]},{provide:Kc,useValue:"USD"}];let Fl=(()=>{class t{constructor(t){}}return t.\u0275mod=Z({type:t}),t.\u0275inj=b({factory:function(e){return new(e||t)(Cn(El))},providers:Ll}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("2fFW"),r=n("NJ4a");const s={closed:!0,next(t){},error(t){if(i.a.useDeprecatedSynchronousErrorHandling)throw t;Object(r.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("HDdC"),r=n("quSY");function s(t,e){return new i.a(n=>{const i=new r.a;let s=0;return i.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||i.add(this.schedule())):n.complete()})),i})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends i.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return r}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return c}),n.d(e,"e",function(){return l}),n.d(e,"f",function(){return u});var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function o(t,e,n,i){return new(n||(n=Promise))(function(r,s){function o(t){try{c(i.next(t))}catch(e){s(e)}}function a(t){try{c(i.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}c((i=i.apply(t,e||[])).next())})}function a(t,e){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}function u(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t}},n6bG:function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.d(e,"a",function(){return i})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return u});var i=n("7o/Q"),r=n("EY2u"),s=n("LRne"),o=n("z6cu");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function c(t,e=0){return function(n){return n.lift(new l(t,e))}}class l{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new u(t,this.scheduler,this.delay))}}class u extends i.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(u.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function i(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)i[r]=s[o];return i}var r;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return f});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},c=o.INFO,l=((r={})[o.DEBUG]="log",r[o.VERBOSE]="log",r[o.INFO]="info",r[o.WARN]="warn",r[o.ERROR]="error",r),u=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=l[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,i(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=u,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.DEBUG],t)),this._logHandler.apply(this,i([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.VERBOSE],t)),this._logHandler.apply(this,i([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.INFO],t)),this._logHandler.apply(this,i([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.WARN],t)),this._logHandler.apply(this,i([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.ERROR],t)),this._logHandler.apply(this,i([this,o.ERROR],t))},t}();function d(t){s.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var i=null;e&&e.level&&(i=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];var a=r.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=i?i:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:r,type:e.name})}},i=0,r=s;i<r.length;i++)n(r[i])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return _}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return r}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return O}),n.d(e,"h",function(){return a}),n.d(e,"i",function(){return u}),n.d(e,"j",function(){return h}),n.d(e,"k",function(){return f}),n.d(e,"l",function(){return p}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return l}),n.d(e,"o",function(){return d}),n.d(e,"p",function(){return m});var i=n("mrSG");function r(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,i){n?e.reject(n):e.resolve(i),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,i))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function c(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function l(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function u(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function d(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function f(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m(){return a().indexOf("MSAppHost/")>=0}var g=function(t){function e(n,i,r){var s=t.call(this,i)||this;return s.code=n,s.customData=r,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,b.prototype.create),s}return Object(i.c)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=e[0]||{},r=this.service+"/"+t,s=this.errors[t],o=s?y(s,i):"Error",a=this.serviceName+": "+o+" ("+r+").",c=new g(r,a,i);return c},t}();function y(t,e){return t.replace(v,function(t,n){var i=e[n];return null!=i?String(i):"<"+n+"?>"})}var v=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new C(t,e);return n.subscribe.bind(n)}var C=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var i,r=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,i=["next","error","complete"];n<i.length;n++){var r=i[n];if(r in t&&"function"==typeof t[r])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(i.next=S),void 0===i.error&&(i.error=S),void 0===i.complete&&(i.complete=S);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(t){}}),this.observers.push(i),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(i){"undefined"!=typeof console&&console.error&&console.error(i)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function S(){}function O(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return c});var i=n("3N8a");class r extends i.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(r),c=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("DH7j"),r=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:l,_subscriptions:u}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(l)){a&&(this._unsubscribe=void 0);try{l.call(this)}catch(h){e=h instanceof o?c(h.errors):[h]}}if(Object(i.a)(u)){let t=-1,n=u.length;for(;++t<n;){const n=u[t];if(Object(r.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(c(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return x}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return y}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return b}),n.d(e,"f",function(){return O}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return g}),n.d(e,"j",function(){return C});var i=n("qgXg"),r=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),c=n("fXoL"),l=n("Jgta");function u(){}class h{constructor(t,e=i.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const i=this.zone;return this.delegate.schedule(function(e){i.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",u,{},u,u)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,r.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,i={})=>new Proxy(t,{get:(r,s)=>n.runOutsideAngular(()=>{var r;if(t[s])return(null===(r=null==i?void 0:i.spy)||void 0===r?void 0:r.get)&&i.spy.get(s,t[s]),t[s];if(m.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const r=t&&t(...n);return(null===(e=null==i?void 0:i.spy)||void 0===e?void 0:e.apply)&&i.spy.apply(s,n,r),r})})})}),b=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},y=new c.s("angularfire2.app.options"),v=new c.s("angularfire2.app.nameOrConfig"),_=new c.R("6.1.4");function w(e,n,i){const r="object"==typeof i&&i||{};r.name=r.name||"string"==typeof i&&i||"[DEFAULT]";const s=l.a.apps.filter(t=>t&&t.name===r.name)[0]||n.runOutsideAngular(()=>l.a.initializeApp(e,r));try{JSON.stringify(e)!==JSON.stringify(s.options)&&S("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const C=()=>{S("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},S=(t,...e)=>{Object(c.Y)()&&"undefined"!=typeof console&&console[t](...e)};function O(e,n,i,r,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&S("error",`${n} was already initialized on the ${i.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(c){}return o}{const t=r();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const E={provide:class{},useFactory:w,deps:[y,c.B,[new c.C,v]]};let x=(()=>{class t{constructor(t){l.a.registerVersion("angularfire",_.full,t.toString()),l.a.registerVersion("angular",c.Q.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:y,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({factory:function(e){return new(e||t)(c.Yb(c.D))},providers:[E]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("HDdC"),r=n("7Hc7"),s=n("Y7HM");class o extends i.a{constructor(t,e=0,n=r.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(s.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=r.a)}static create(t,e=0,n=r.a){return new o(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("7o/Q");function r(){}var s=n("n6bG");function o(t,e,n){return function(i){return i.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}class c extends i.a{constructor(t,e,n,i){super(t),this._tapNext=r,this._tapError=r,this._tapComplete=r,this._tapError=n||r,this._tapComplete=i||r,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||r,this._tapError=e.error||r,this._tapComplete=e.complete||r)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var i=n("XNiG"),r=n("HDdC"),s=n("7o/Q"),o=n("quSY");function a(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const i=new l(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class l extends s.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}class u extends r.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return a()(this)}}const h=(()=>{const t=u.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends i.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function f(){return new i.a}function p(){return t=>{return a()((e=f,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,h);return i.source=t,i.subjectFactory=n,i})(t));var e}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("HDdC"),r=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new i.a(Object(r.a)(t))}},"z+Ro":function(t,e,n){"use strict";function i(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return i})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("HDdC");function r(t,e){return new i.a(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var i,r,s=n("mrSG"),o=n("qOnz"),a=n("/6Yf"),c=n("q/0M"),l=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i),u=new o.b("app","Firebase",l),h="@firebase/app",d="[DEFAULT]",f=((r={})[h]="fire-core",r["@firebase/analytics"]="fire-analytics",r["@firebase/auth"]="fire-auth",r["@firebase/database"]="fire-rtdb",r["@firebase/functions"]="fire-fn",r["@firebase/installations"]="fire-iid",r["@firebase/messaging"]="fire-fcm",r["@firebase/performance"]="fire-perf",r["@firebase/remote-config"]="fire-rc",r["@firebase/storage"]="fire-gcs",r["@firebase/firestore"]="fire-fst",r["fire-js"]="fire-js",r["firebase-wrapper"]="fire-js-all",r),p=new c.b("@firebase/app"),m=function(){function t(t,e,n){var i=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return i._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=d),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw u.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),"object"==typeof r&&null!==r||(r={name:r});var s=r;void 0===s.name&&(s.name=d);var a=s.name;if("string"!=typeof a||!a)throw u.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw u.create("duplicate-app",{appName:a});var c=new t(n,s,i);return e[a]=c,c},app:r,registerVersion:function(t,e,n){var i,r=null!==(i=f[t])&&void 0!==i?i:t;n&&(r+="-"+n);var o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){var l=['Unable to register library "'+r+'" with version "'+e+'":'];return o&&l.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),o&&c&&l.push("and"),c&&l.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(l.join(" "))}s(new a.a(r+"-version",function(){return{library:r,version:e}},"VERSION"))},setLogLevel:c.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw u.create("invalid-log-argument");Object(c.d)(t,e)},apps:null,SDK_VERSION:"8.4.0",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function r(t){if(t=t||d,!Object(o.c)(e,t))throw u.create("no-app",{appName:t});return e[t]}function s(s){var a=s.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?i[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var c=function(t){if(void 0===t&&(t=r()),"function"!=typeof t[a])throw u.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&Object(o.f)(c,s.serviceProps),i[a]=c,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,s.multipleInstances?t:[])}}for(var l=0,h=Object.keys(e);l<h.length;l++)e[h[l]]._addComponent(s);return"PUBLIC"===s.type?i[a]:null}return i.default=i,Object.defineProperty(i,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),r.App=t,i}(m);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.f)(e,t)},createSubscribe:o.d,ErrorFactory:o.b,deepExtend:o.f}),e}(),b=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.i)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.n)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var _=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new b(t)},"PRIVATE")),t.registerVersion(h,"0.6.20",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var i={};n.r(i),n.d(i,"VERSION",function(){return Gr}),n.d(i,"restArguments",function(){return ms}),n.d(i,"isObject",function(){return gs}),n.d(i,"isNull",function(){return bs}),n.d(i,"isUndefined",function(){return ys}),n.d(i,"isBoolean",function(){return vs}),n.d(i,"isElement",function(){return _s}),n.d(i,"isString",function(){return Cs}),n.d(i,"isNumber",function(){return Ss}),n.d(i,"isDate",function(){return Os}),n.d(i,"isRegExp",function(){return Es}),n.d(i,"isError",function(){return xs}),n.d(i,"isSymbol",function(){return ks}),n.d(i,"isArrayBuffer",function(){return Ts}),n.d(i,"isDataView",function(){return Ns}),n.d(i,"isArray",function(){return Ls}),n.d(i,"isFunction",function(){return As}),n.d(i,"isArguments",function(){return Vs}),n.d(i,"isFinite",function(){return Us}),n.d(i,"isNaN",function(){return Bs}),n.d(i,"isTypedArray",function(){return $s}),n.d(i,"isEmpty",function(){return Xs}),n.d(i,"isMatch",function(){return Js}),n.d(i,"isEqual",function(){return so}),n.d(i,"isMap",function(){return mo}),n.d(i,"isWeakMap",function(){return go}),n.d(i,"isSet",function(){return bo}),n.d(i,"isWeakSet",function(){return yo}),n.d(i,"keys",function(){return Zs}),n.d(i,"allKeys",function(){return oo}),n.d(i,"values",function(){return vo}),n.d(i,"pairs",function(){return _o}),n.d(i,"invert",function(){return wo}),n.d(i,"functions",function(){return Co}),n.d(i,"methods",function(){return Co}),n.d(i,"extend",function(){return Oo}),n.d(i,"extendOwn",function(){return Eo}),n.d(i,"assign",function(){return Eo}),n.d(i,"defaults",function(){return xo}),n.d(i,"create",function(){return To}),n.d(i,"clone",function(){return Io}),n.d(i,"tap",function(){return Ao}),n.d(i,"get",function(){return Po}),n.d(i,"has",function(){return No}),n.d(i,"mapObject",function(){return Ho}),n.d(i,"identity",function(){return Lo}),n.d(i,"constant",function(){return qs}),n.d(i,"noop",function(){return zo}),n.d(i,"toPath",function(){return Do}),n.d(i,"property",function(){return Mo}),n.d(i,"propertyOf",function(){return Ko}),n.d(i,"matcher",function(){return Fo}),n.d(i,"matches",function(){return Fo}),n.d(i,"times",function(){return Wo}),n.d(i,"random",function(){return Yo}),n.d(i,"now",function(){return $o}),n.d(i,"escape",function(){return Zo}),n.d(i,"unescape",function(){return Xo}),n.d(i,"templateSettings",function(){return Jo}),n.d(i,"template",function(){return sa}),n.d(i,"result",function(){return oa}),n.d(i,"uniqueId",function(){return ca}),n.d(i,"chain",function(){return la}),n.d(i,"iteratee",function(){return Bo}),n.d(i,"partial",function(){return da}),n.d(i,"bind",function(){return fa}),n.d(i,"bindAll",function(){return ga}),n.d(i,"memoize",function(){return ba}),n.d(i,"delay",function(){return ya}),n.d(i,"defer",function(){return va}),n.d(i,"throttle",function(){return _a}),n.d(i,"debounce",function(){return wa}),n.d(i,"wrap",function(){return Ca}),n.d(i,"negate",function(){return Sa}),n.d(i,"compose",function(){return Oa}),n.d(i,"after",function(){return Ea}),n.d(i,"before",function(){return xa}),n.d(i,"once",function(){return ka}),n.d(i,"findKey",function(){return Ta}),n.d(i,"findIndex",function(){return Aa}),n.d(i,"findLastIndex",function(){return Da}),n.d(i,"sortedIndex",function(){return Ra}),n.d(i,"indexOf",function(){return Pa}),n.d(i,"lastIndexOf",function(){return Na}),n.d(i,"find",function(){return La}),n.d(i,"detect",function(){return La}),n.d(i,"findWhere",function(){return Fa}),n.d(i,"each",function(){return Ma}),n.d(i,"forEach",function(){return Ma}),n.d(i,"map",function(){return Va}),n.d(i,"collect",function(){return Va}),n.d(i,"reduce",function(){return Ba}),n.d(i,"foldl",function(){return Ba}),n.d(i,"inject",function(){return Ba}),n.d(i,"reduceRight",function(){return qa}),n.d(i,"foldr",function(){return qa}),n.d(i,"filter",function(){return Ha}),n.d(i,"select",function(){return Ha}),n.d(i,"reject",function(){return za}),n.d(i,"every",function(){return Ka}),n.d(i,"all",function(){return Ka}),n.d(i,"some",function(){return Wa}),n.d(i,"any",function(){return Wa}),n.d(i,"contains",function(){return Ya}),n.d(i,"includes",function(){return Ya}),n.d(i,"include",function(){return Ya}),n.d(i,"invoke",function(){return $a}),n.d(i,"pluck",function(){return Ga}),n.d(i,"where",function(){return Qa}),n.d(i,"max",function(){return Za}),n.d(i,"min",function(){return Xa}),n.d(i,"shuffle",function(){return tc}),n.d(i,"sample",function(){return Ja}),n.d(i,"sortBy",function(){return ec}),n.d(i,"groupBy",function(){return ic}),n.d(i,"indexBy",function(){return rc}),n.d(i,"countBy",function(){return sc}),n.d(i,"partition",function(){return oc}),n.d(i,"toArray",function(){return cc}),n.d(i,"size",function(){return lc}),n.d(i,"pick",function(){return hc}),n.d(i,"omit",function(){return dc}),n.d(i,"first",function(){return pc}),n.d(i,"head",function(){return pc}),n.d(i,"take",function(){return pc}),n.d(i,"initial",function(){return fc}),n.d(i,"last",function(){return gc}),n.d(i,"rest",function(){return mc}),n.d(i,"tail",function(){return mc}),n.d(i,"drop",function(){return mc}),n.d(i,"compact",function(){return bc}),n.d(i,"flatten",function(){return yc}),n.d(i,"without",function(){return _c}),n.d(i,"uniq",function(){return wc}),n.d(i,"unique",function(){return wc}),n.d(i,"union",function(){return Cc}),n.d(i,"intersection",function(){return Sc}),n.d(i,"difference",function(){return vc}),n.d(i,"unzip",function(){return Oc}),n.d(i,"transpose",function(){return Oc}),n.d(i,"zip",function(){return Ec}),n.d(i,"object",function(){return xc}),n.d(i,"range",function(){return kc}),n.d(i,"chunk",function(){return Tc}),n.d(i,"mixin",function(){return Ac}),n.d(i,"default",function(){return Dc});var r=n("fXoL");let s=null;function o(){return s}const a=new r.s("DocumentToken");let c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:l,token:t,providedIn:"platform"}),t})();function l(){return Object(r.Yb)(h)}const u=new r.s("Location Initialized");let h=(()=>{class t extends c{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){d()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){d()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(a))},t.\u0275prov=Object(r.Kb)({factory:f,token:t,providedIn:"platform"}),t})();function d(){return!!window.history.pushState}function f(){return new h(Object(r.Yb)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Yb)(a).location;return new _(Object(r.Yb)(c),e&&e.origin||"")}const v=new r.s("appBaseHref");let _=(()=>{class t extends b{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,i){const r=this.prepareExternalUrl(n+g(i));this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){const r=this.prepareExternalUrl(n+g(i));this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(c),r.Yb(v,8))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends b{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,i){let r=this.prepareExternalUrl(n+g(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){let r=this.prepareExternalUrl(n+g(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(c),r.Yb(v,8))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),C=(()=>{class t{constructor(t,e){this._subject=new r.o,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=m(O(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,O(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(b),r.Yb(c))},t.normalizeQueryParams=g,t.joinWithSlash=p,t.stripTrailingSlash=m,t.\u0275prov=Object(r.Kb)({factory:S,token:t,providedIn:"root"}),t})();function S(){return new C(Object(r.Yb)(b),Object(r.Yb)(c))}function O(t){return t.replace(/\/index.html$/,"")}const E={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var x=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),k=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),T=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function I(t,e){const n=Object(r.mb)(t),i=n[r.db.NumberSymbols][e];if(void 0===i){if(e===T.CurrencyDecimal)return n[r.db.NumberSymbols][T.Decimal];if(e===T.CurrencyGroup)return n[r.db.NumberSymbols][T.Group]}return i}const A=r.pb,D=/^(\d+)?\.((\d+)(-(\d+))?)?$/,R=".",j="0";function P(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class N{}let L=(()=>{class t extends N{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(A(e||this.locale)(t)){case k.Zero:return"zero";case k.One:return"one";case k.Two:return"two";case k.Few:return"few";case k.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.w))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),F=(()=>{class t{constructor(t,e,n,i){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.sb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(r.yb)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.u),r.Ob(r.v),r.Ob(r.l),r.Ob(r.G))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class M{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let V=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new M(null,this._ngForOf,-1,-1),null===i?void 0:i),r=new U(t,n);e.push(r)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,i);const s=new U(t,r);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=i,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.S),r.Ob(r.N),r.Ob(r.u))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class U{constructor(t,e){this.record=t,this.view=e}}let B=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new q,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){H("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){H("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.S),r.Ob(r.N))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class q{constructor(){this.$implicit=null,this.ngIf=null}}function H(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.yb)(e)}'.`)}class z{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let K=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),W=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new z(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.S),r.Ob(r.N),r.Ob(K,1))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),Y=(()=>{class t{constructor(t,e,n){n._addDefault(new z(t,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.S),r.Ob(r.N),r.Ob(K,1))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngSwitchDefault",""]]}),t})(),$=(()=>{class t{constructor(t,e="USD"){this._locale=t,this._defaultCurrencyCode=e}transform(e,n,i="symbol",s,o){if(!function(t){return!(null==t||""===t||t!=t)}(e))return null;o=o||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let a=n||this._defaultCurrencyCode;"code"!==i&&(a="symbol"===i||"symbol-narrow"===i?function(t,e,n="en"){const i=function(t){return Object(r.mb)(t)[r.db.Currencies]}(n)[t]||E[t]||[],s=i[1];return"narrow"===e&&"string"==typeof s?s:i[0]||t}(a,"symbol"===i?"wide":"narrow",o):i);try{return function(t,e,n,i,s){const o=function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(";"),r=i[0],s=i[1],o=-1!==r.indexOf(R)?r.split(R):[r.substring(0,r.lastIndexOf(j)+1),r.substring(r.lastIndexOf(j)+1)],a=o[0],c=o[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let u=0;u<c.length;u++){const t=c.charAt(u);t===j?n.minFrac=n.maxFrac=u+1:"#"===t?n.maxFrac=u+1:n.posSuf+=t}const l=a.split(",");if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){const t=r.length-n.posPre.length-n.posSuf.length,e=s.indexOf("#");n.negPre=s.substr(0,e).replace(/'/g,""),n.negSuf=s.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Object(r.mb)(t)[r.db.NumberFormats][e]}(e,x.Currency),I(e,T.MinusSign));return o.minFrac=function(t){let e;const n=E[t];return n&&(e=n[2]),"number"==typeof e?e:2}(i),o.maxFrac=o.minFrac,function(t,e,n,i,r,s,o=!1){let a="",c=!1;if(isFinite(t)){let l=function(t){let e,n,i,r,s,o=Math.abs(t)+"",a=0;for((n=o.indexOf(R))>-1&&(o=o.replace(R,"")),(i=o.search(/e/i))>0?(n<0&&(n=i),n+=+o.slice(i+1),o=o.substring(0,i)):n<0&&(n=o.length),i=0;o.charAt(i)===j;i++);if(i===(s=o.length))e=[0],n=1;else{for(s--;o.charAt(s)===j;)s--;for(n-=i,e=[],r=0;i<=s;i++,r++)e[r]=Number(o.charAt(i))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);o&&(l=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));let u=e.minInt,h=e.minFrac,d=e.maxFrac;if(s){const t=s.match(D);if(null===t)throw new Error(`${s} is not a valid digit info`);const e=t[1],n=t[3],i=t[5];null!=e&&(u=P(e)),null!=n&&(h=P(n)),null!=i?d=P(i):null!=n&&h>d&&(d=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let i=t.digits,r=i.length-t.integerLen;const s=Math.min(Math.max(e,r),n);let o=s+t.integerLen,a=i[o];if(o>0){i.splice(Math.max(t.integerLen,o));for(let t=o;t<i.length;t++)i[t]=0}else{r=Math.max(0,r),t.integerLen=1,i.length=Math.max(1,o=s+1),i[0]=0;for(let t=1;t<o;t++)i[t]=0}if(a>=5)if(o-1<0){for(let e=0;e>o;e--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[o-1]++;for(;r<Math.max(0,s);r++)i.push(0);let c=0!==s;const l=e+t.integerLen,u=i.reduceRight(function(t,e,n,i){return i[n]=(e+=t)<10?e:e-10,c&&(0===i[n]&&n>=l?i.pop():c=!1),e>=10?1:0},0);u&&(i.unshift(u),t.integerLen++)}(l,h,d);let f=l.digits,p=l.integerLen;const m=l.exponent;let g=[];for(c=f.every(t=>!t);p<u;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?g=f.splice(p,f.length):(g=f,f=[0]);const b=[];for(f.length>=e.lgSize&&b.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)b.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&b.unshift(f.join("")),a=b.join(I(n,i)),g.length&&(a+=I(n,r)+g.join("")),m&&(a+=I(n,T.Exponential)+"+"+m)}else a=I(n,T.Infinity);return a=t<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,o,e,T.CurrencyGroup,T.CurrencyDecimal,s).replace("\xa4",n).replace("\xa4","").trim()}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(e),o,a,n,s)}catch(c){throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.yb)(t)}'`)}(t,c.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.w),r.Ob(r.k))},t.\u0275pipe=r.Nb({name:"currency",type:t,pure:!0}),t})(),G=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[{provide:N,useClass:L}]}),t})();function Q(t){return"browser"===t}function Z(t){return"server"===t}let X=(()=>{class t{}return t.\u0275prov=Object(r.Kb)({token:t,providedIn:"root",factory:()=>new J(Object(r.Yb)(a),window)}),t})();class J{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=tt(this.window.history)||tt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function tt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class et extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new et,s||(s=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=it||(it=document.querySelector("base"),it)?it.getAttribute("href"):null;return null==e?null:(n=e,nt||(nt=document.createElement("a")),nt.setAttribute("href",n),"/"===nt.pathname.charAt(0)?nt.pathname:"/"+nt.pathname);var n}resetBaseElement(){it=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[i,r]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(i.trim()===e)return decodeURIComponent(r)}return null}(document.cookie,t)}}let nt,it=null;const rt=new r.s("TRANSITION_ID"),st=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[rt,a,r.t],multi:!0}];class ot{static init(){Object(r.ab)(new ot)}addToWindow(t){r.rb.getAngularTestability=(e,n=!0)=>{const i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},r.rb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.rb.getAllAngularRootElements=()=>t.getAllRootElements(),r.rb.frameworkStabilizers||(r.rb.frameworkStabilizers=[]),r.rb.frameworkStabilizers.push(t=>{const e=r.rb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const at=new r.s("EventManagerPlugins");let ct=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let i=0;i<n.length;i++){const e=n[i];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(at),r.Yb(r.B))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class lt{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=o().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let ut=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),ht=(()=>{class t extends ut{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(a))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const dt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ft=/%COMP%/g;function pt(t,e,n){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?pt(t,r,n):(r=r.replace(ft,t),n.push(r))}return n}function mt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let gt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new bt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.T.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new yt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.T.ShadowDom:return new vt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=pt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(ct),r.Yb(ht),r.Yb(r.c))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class bt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(dt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const r=dt[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=dt[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.I.DashCase|r.I.Important)?t.style.setProperty(e,n,i&r.I.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.I.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,mt(n)):this.eventManager.addEventListener(t,e,mt(n))}}class yt extends bt{constructor(t,e,n,i){super(t),this.component=n;const r=pt(i+"-"+n.id,n.styles,[]);e.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(ft,i+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(ft,i+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class vt extends bt{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=pt(i.id,i.styles,[]);for(let s=0;s<r.length;s++){const t=document.createElement("style");t.textContent=r[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let _t=(()=>{class t extends lt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(a))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const wt=["alt","control","meta","shift"],Ct={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},St={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ot={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Et=(()=>{class t extends lt{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const r=t.parseEventName(n),s=t.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,r.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const r=t._normalizeKey(n.pop());let s="";if(wt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=r,0!=n.length||0===r.length)return null;const o={};return o.domEventName=i,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&St.hasOwnProperty(e)&&(e=St[e]))}return Ct[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),wt.forEach(i=>{i!=n&&(0,Ot[i])(t)&&(e+=i+".")}),e+=n,e}static eventCallback(e,n,i){return r=>{t.getEventFullKey(r)===e&&i.runGuarded(()=>n(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(a))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),xt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return Object(r.Yb)(kt)},token:t,providedIn:"root"}),t})(),kt=(()=>{class t extends xt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.K.NONE:return e;case r.K.HTML:return Object(r.gb)(e,"HTML")?Object(r.zb)(e):Object(r.eb)(this._doc,String(e)).toString();case r.K.STYLE:return Object(r.gb)(e,"Style")?Object(r.zb)(e):e;case r.K.SCRIPT:if(Object(r.gb)(e,"Script"))return Object(r.zb)(e);throw new Error("unsafe value used in a script context");case r.K.URL:return Object(r.qb)(e),Object(r.gb)(e,"URL")?Object(r.zb)(e):Object(r.fb)(String(e));case r.K.RESOURCE_URL:if(Object(r.gb)(e,"ResourceURL"))return Object(r.zb)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.hb)(t)}bypassSecurityTrustStyle(t){return Object(r.kb)(t)}bypassSecurityTrustScript(t){return Object(r.jb)(t)}bypassSecurityTrustUrl(t){return Object(r.lb)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.ib)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(a))},t.\u0275prov=Object(r.Kb)({factory:function(){return t=Object(r.Yb)(r.p),new kt(t.get(a));var t},token:t,providedIn:"root"}),t})();const Tt=[{provide:r.D,useValue:"browser"},{provide:r.E,useValue:function(){et.makeCurrent(),ot.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.xb)(document),document},deps:[]}],It=Object(r.U)(r.Z,"browser",Tt),At=[[],{provide:r.cb,useValue:"root"},{provide:r.n,useFactory:function(){return new r.n},deps:[]},{provide:at,useClass:_t,multi:!0,deps:[a,r.B,r.D]},{provide:at,useClass:Et,multi:!0,deps:[a]},[],{provide:gt,useClass:gt,deps:[ct,ht,r.c]},{provide:r.H,useExisting:gt},{provide:ut,useExisting:ht},{provide:ht,useClass:ht,deps:[a]},{provide:r.O,useClass:r.O,deps:[r.B]},{provide:ct,useClass:ct,deps:[at,r.B]},[]];let Dt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:rt,useExisting:r.c},st]}}}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)(r.Yb(t,12))},providers:At,imports:[G,r.f]}),t})();"undefined"!=typeof window&&window;var Rt=n("Cfvw"),jt=n("LRne"),Pt=n("XNiG"),Nt=n("9ppp");class Lt extends Pt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Nt.a;return this._value}next(t){super.next(this._value=t)}}var Ft=n("z+Ro"),Mt=n("DH7j"),Vt=n("7o/Q");class Ut extends Vt.a{notifyNext(t,e,n,i,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Bt extends Vt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var qt=n("SeVD"),Ht=n("HDdC");function zt(t,e,n,i,r=new Bt(t,n,i)){if(!r.closed)return e instanceof Ht.a?e.subscribe(r):Object(qt.a)(e)(r)}var Kt=n("yCtX");const Wt={};class Yt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new $t(t,this.resultSelector))}}class $t extends Ut{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Wt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(zt(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const i=this.values,r=this.toRespond?i[n]===Wt?--this.toRespond:this.toRespond:0;i[n]=e,0===r&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Gt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Qt=n("bHdf");function Zt(...t){return Object(Qt.a)(1)(Object(jt.a)(...t))}var Xt=n("EY2u");function Jt(t){return new Ht.a(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?Object(Rt.a)(n):Object(Xt.b)()).subscribe(e)})}var te=n("lJxs"),ee=n("zx2A");function ne(t,e){return"function"==typeof e?n=>n.pipe(ne((n,i)=>Object(Rt.a)(t(n,i)).pipe(Object(te.a)((t,r)=>e(n,t,i,r))))):e=>e.lift(new ie(t))}class ie{constructor(t){this.project=t}call(t,e){return e.subscribe(new re(t,this.project))}}class re extends ee.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new ee.a(this),i=this.destination;i.add(n),this.innerSubscription=Object(ee.c)(t,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const se=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function oe(t){return e=>0===t?Object(Xt.b)():e.lift(new ae(t))}class ae{constructor(t){if(this.total=t,this.total<0)throw new se}call(t,e){return e.subscribe(new ce(t,this.total))}}class ce extends Vt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function le(...t){const e=t[t.length-1];return Object(Ft.a)(e)?(t.pop(),n=>Zt(t,n,e)):e=>Zt(t,e)}function ue(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new he(t,e,n))}}class he{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new de(t,this.accumulator,this.seed,this.hasSeed))}}class de extends Vt.a{constructor(t,e,n,i){super(t),this.accumulator=e,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}function fe(t,e){return function(n){return n.lift(new pe(t,e))}}class pe{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new me(t,this.predicate,this.thisArg))}}class me extends Vt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function ge(t){return function(e){const n=new be(t),i=e.lift(n);return n.caught=i}}class be{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ye(t,this.selector,this.caught))}}class ye extends ee.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new ee.a(this);this.add(i);const r=Object(ee.c)(n,i);r!==i&&this.add(r)}}}var ve=n("5+tZ");function _e(t,e){return Object(ve.a)(t,e,1)}function we(t){return function(e){return 0===t?Object(Xt.b)():e.lift(new Ce(t))}}class Ce{constructor(t){if(this.total=t,this.total<0)throw new se}call(t,e){return e.subscribe(new Se(t,this.total))}}class Se extends Vt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let r=0;r<n;r++){const r=e++%n;t.next(i[r])}}t.complete()}}function Oe(t=ke){return e=>e.lift(new Ee(t))}class Ee{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new xe(t,this.errorFactory))}}class xe extends Vt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(TA){t=TA}this.destination.error(t)}}}function ke(){return new Gt}function Te(t=null){return e=>e.lift(new Ie(t))}class Ie{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Ae(t,this.defaultValue))}}class Ae extends Vt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var De=n("SpAZ");function Re(t,e){const n=arguments.length>=2;return i=>i.pipe(t?fe((e,n)=>t(e,n,i)):De.a,oe(1),n?Te(e):Oe(()=>new Gt))}var je=n("vkgz"),Pe=n("quSY");function Ne(t){return e=>e.lift(new Le(t))}class Le{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Fe(t,this.callback))}}class Fe extends Vt.a{constructor(t,e){super(t),this.add(new Pe.a(e))}}class Me{constructor(t,e){this.id=t,this.url=e}}class Ve extends Me{constructor(t,e,n="imperative",i=null){super(t,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ue extends Me{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Be extends Me{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qe extends Me{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class He extends Me{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ze extends Me{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ke extends Me{constructor(t,e,n,i,r){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class We extends Me{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ye extends Me{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $e{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ge{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Qe{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ze{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xe{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Je{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tn{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const en="primary";class nn{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function rn(t){return new nn(t)}function sn(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function on(t,e,n){const i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const r={};for(let s=0;s<i.length;s++){const e=i[s],n=t[s];if(e.startsWith(":"))r[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function an(t,e){const n=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!cn(t[r],e[r]))return!1;return!0}function cn(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),i=[...e].sort();return n.every((t,e)=>i[e]===t)}return t===e}function ln(t){return Array.prototype.concat.apply([],t)}function un(t){return t.length>0?t[t.length-1]:null}function hn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function dn(t){return Object(r.tb)(t)?t:Object(r.ub)(t)?Object(Rt.a)(Promise.resolve(t)):Object(jt.a)(t)}function fn(t,e,n){return n?function(t,e){return an(t,e)}(t.queryParams,e.queryParams)&&pn(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>cn(t[n],e[n]))}(t.queryParams,e.queryParams)&&mn(t.root,e.root)}function pn(t,e){if(!_n(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!pn(t.children[n],e.children[n]))return!1}return!0}function mn(t,e){return gn(t,e,e.segments)}function gn(t,e,n){if(t.segments.length>n.length)return!!_n(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!_n(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!mn(t.children[n],e.children[n]))return!1}return!0}{const i=n.slice(0,t.segments.length),r=n.slice(t.segments.length);return!!_n(t.segments,i)&&!!t.children.primary&&gn(t.children.primary,e,r)}}class bn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rn(this.queryParams)),this._queryParamMap}toString(){return Sn.serialize(this)}}class yn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,hn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return On(this)}}class vn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=rn(this.parameters)),this._parameterMap}toString(){return Dn(this)}}function _n(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class wn{}class Cn{parse(t){const e=new Ln(t);return new bn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${En(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${kn(e)}=${kn(t)}`).join("&"):`${kn(e)}=${kn(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Sn=new Cn;function On(t){return t.segments.map(t=>Dn(t)).join("/")}function En(t,e){if(!t.hasChildren())return On(t);if(e){const e=t.children.primary?En(t.children.primary,!1):"",n=[];return hn(t.children,(t,e)=>{e!==en&&n.push(`${e}:${En(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return hn(t.children,(t,i)=>{i===en&&(n=n.concat(e(t,i)))}),hn(t.children,(t,i)=>{i!==en&&(n=n.concat(e(t,i)))}),n}(t,(e,n)=>n===en?[En(t.children.primary,!1)]:[`${n}:${En(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${On(t)}/${e[0]}`:`${On(t)}/(${e.join("//")})`}}function xn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kn(t){return xn(t).replace(/%3B/gi,";")}function Tn(t){return xn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function In(t){return decodeURIComponent(t)}function An(t){return In(t.replace(/\+/g,"%20"))}function Dn(t){return`${Tn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Tn(t)}=${Tn(e[t])}`).join("")}`;var e}const Rn=/^[^\/()?;=#]+/;function jn(t){const e=t.match(Rn);return e?e[0]:""}const Pn=/^[^=?&#]+/,Nn=/^[^?&#]+/;class Ln{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yn([],{}):new yn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new yn(t,e)),n}parseSegment(){const t=jn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new vn(In(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=jn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=jn(this.remaining);t&&(n=t,this.capture(n))}t[In(e)]=In(n)}parseQueryParam(t){const e=function(t){const e=t.match(Pn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Nn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const i=An(e),r=An(n);if(t.hasOwnProperty(i)){let e=t[i];Array.isArray(e)||(e=[e],t[i]=e),e.push(r)}else t[i]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=jn(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let r;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=en);const s=this.parseChildren();e[r]=1===Object.keys(s).length?s.primary:new yn([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Fn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Mn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Mn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Vn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Vn(t,this._root).map(t=>t.value)}}function Mn(t,e){if(t===e.value)return e;for(const n of e.children){const e=Mn(t,n);if(e)return e}return null}function Vn(t,e){if(t===e.value)return[e];for(const n of e.children){const i=Vn(t,n);if(i.length)return i.unshift(e),i}return[]}class Un{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Bn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class qn extends Fn{constructor(t,e){super(t),this.snapshot=e,$n(this,t)}toString(){return this.snapshot.toString()}}function Hn(t,e){const n=function(t,e){const n=new Wn([],{},{},"",{},en,e,null,t.root,-1,{});return new Yn("",new Un(n,[]))}(t,e),i=new Lt([new vn("",{})]),r=new Lt({}),s=new Lt({}),o=new Lt({}),a=new Lt(""),c=new zn(i,r,o,a,s,en,e,n.root);return c.snapshot=n.root,new qn(new Un(c,[]),n)}class zn{constructor(t,e,n,i,r,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(te.a)(t=>rn(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(te.a)(t=>rn(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Kn(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const t=n[i],e=n[i-1];if(t.routeConfig&&""===t.routeConfig.path)i--;else{if(e.component)break;i--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class Wn{constructor(t,e,n,i,r,s,o,a,c,l,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=rn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Yn extends Fn{constructor(t,e){super(e),this.url=t,$n(this,e)}toString(){return Gn(this._root)}}function $n(t,e){e.value._routerState=t,e.children.forEach(e=>$n(t,e))}function Gn(t){const e=t.children.length>0?` { ${t.children.map(Gn).join(", ")} } `:"";return`${t.value}${e}`}function Qn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,an(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),an(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!an(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),an(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Zn(t,e){return an(t.params,e.params)&&function(t,e){return _n(t,e)&&t.every((t,n)=>an(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Zn(t.parent,e.parent))}function Xn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=e.value;const r=function(t,e,n){return e.children.map(e=>{for(const i of n.children)if(t.shouldReuseRoute(e.value,i.value.snapshot))return Xn(t,e,i);return Xn(t,e)})}(t,e,n);return new Un(i,r)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Jn(e,t),t}{const n=new zn(new Lt((i=e.value).url),new Lt(i.params),new Lt(i.queryParams),new Lt(i.fragment),new Lt(i.data),i.outlet,i.component,i),r=e.children.map(e=>Xn(t,e));return new Un(n,r)}}var i}function Jn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Jn(t.children[n],e.children[n])}function ti(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ei(t){return"object"==typeof t&&null!=t&&t.outlets}function ni(t,e,n,i,r){let s={};return i&&hn(i,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new bn(n.root===t?e:ii(n.root,t,e),s,r)}function ii(t,e,n){const i={};return hn(t.children,(t,r)=>{i[r]=t===e?n:ii(t,e,n)}),new yn(t.segments,i)}class ri{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&ti(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(ei);if(i&&i!==un(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class si{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function oi(t,e,n){if(t||(t=new yn([],{})),0===t.segments.length&&t.hasChildren())return ai(t,e,n);const i=function(t,e,n){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;const e=t.segments[r],o=n[i];if(ei(o))break;const a=`${o}`,c=i<n.length-1?n[i+1]:null;if(r>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!hi(a,c,e))return s;i+=2}else{if(!hi(a,{},e))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const e=new yn(t.segments.slice(0,i.pathIndex),{});return e.children.primary=new yn(t.segments.slice(i.pathIndex),t.children),ai(e,0,r)}return i.match&&0===r.length?new yn(t.segments,{}):i.match&&!t.hasChildren()?ci(t,e,n):i.match?ai(t,0,r):ci(t,e,n)}function ai(t,e,n){if(0===n.length)return new yn(t.segments,{});{const i=function(t){return ei(t[0])?t[0].outlets:{[en]:t}}(n),r={};return hn(i,(n,i)=>{"string"==typeof n&&(n=[n]),null!==n&&(r[i]=oi(t.children[i],e,n))}),hn(t.children,(t,e)=>{void 0===i[e]&&(r[e]=t)}),new yn(t.segments,r)}}function ci(t,e,n){const i=t.segments.slice(0,e);let r=0;for(;r<n.length;){const s=n[r];if(ei(s)){const t=li(s.outlets);return new yn(i,t)}if(0===r&&ti(n[0])){i.push(new vn(t.segments[e].path,ui(n[0]))),r++;continue}const o=ei(s)?s.outlets.primary:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&ti(a)?(i.push(new vn(o,ui(a))),r+=2):(i.push(new vn(o,{})),r++)}return new yn(i,{})}function li(t){const e={};return hn(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=ci(new yn([],{}),0,t))}),e}function ui(t){const e={};return hn(t,(t,n)=>e[n]=`${t}`),e}function hi(t,e,n){return t==n.path&&an(e,n.parameters)}class di{constructor(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Qn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const i=Bn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,i[e],n),delete i[e]}),hn(i,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(i===r)if(i.component){const r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(t,e,r.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:i})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,r=Bn(t);for(const s of Object.keys(r))this.deactivateRouteAndItsChildren(r[s],i);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const i=Bn(e);t.children.forEach(t=>{this.activateRoutes(t,i[t.value.outlet],n),this.forwardEvent(new Je(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Ze(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(Qn(i),i===r)if(i.component){const r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,r.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const e=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const t=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),fi(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),r=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=i,e.resolver=r,e.outlet&&e.outlet.activateWith(i,r),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function fi(t){Qn(t.value),t.children.forEach(fi)}class pi{constructor(t,e){this.routes=t,this.module=e}}function mi(t){return"function"==typeof t}function gi(t){return t instanceof bn}const bi=Symbol("INITIAL_VALUE");function yi(){return ne(t=>function(...t){let e,n;return Object(Ft.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Mt.a)(t[0])&&(t=t[0]),Object(Kt.a)(t,n).lift(new Yt(e))}(t.map(t=>t.pipe(oe(1),le(bi)))).pipe(ue((t,e)=>{let n=!1;return e.reduce((t,i,r)=>{if(t!==bi)return t;if(i===bi&&(n=!0),!n){if(!1===i)return i;if(r===e.length-1||gi(i))return i}return t},t)},bi),fe(t=>t!==bi),Object(te.a)(t=>gi(t)?t:!0===t),oe(1)))}let vi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Pb(0,"router-outlet")},directives:function(){return[dr]},encapsulation:2}),t})();function _i(t,e=""){for(let n=0;n<t.length;n++){const i=t[n];wi(i,Ci(e,i))}}function wi(t,e){t.children&&_i(t.children,e)}function Ci(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Si(t){const e=t.children&&t.children.map(Si),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==en&&(n.component=vi),n}function Oi(t){return t.outlet||en}function Ei(t,e){const n=t.filter(t=>Oi(t)===e);return n.push(...t.filter(t=>Oi(t)!==e)),n}const xi={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function ki(t,e,n){var i;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},xi):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const r=(e.matcher||on)(n,t,e);if(!r)return Object.assign({},xi);const s={};hn(r.posParams,(t,e)=>{s[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o,positionalParamSegments:null!==(i=r.posParams)&&void 0!==i?i:{}}}function Ti(t,e,n,i,r="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Ii(t,e,n)&&Oi(n)!==en)}(t,n,i)){const r=new yn(e,function(t,e,n,i){const r={};r.primary=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Oi(s)!==en){const n=new yn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,r[Oi(s)]=n}return r}(t,e,i,new yn(n,t.children)));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Ii(t,e,n))}(t,n,i)){const s=new yn(t.segments,function(t,e,n,i,r,s){const o={};for(const a of i)if(Ii(t,n,a)&&!r[Oi(a)]){const n=new yn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Oi(a)]=n}return Object.assign(Object.assign({},r),o)}(t,e,n,i,t.children,r));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new yn(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Ii(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Ai(t,e,n,i){return!!(Oi(t)===i||i!==en&&Ii(e,n,t))&&("**"===t.path||ki(e,t,n).matched)}function Di(t,e,n){return 0===e.length&&!t.children[n]}class Ri{constructor(t){this.segmentGroup=t||null}}class ji{constructor(t){this.urlTree=t}}function Pi(t){return new Ht.a(e=>e.error(new Ri(t)))}function Ni(t){return new Ht.a(e=>e.error(new ji(t)))}function Li(t){return new Ht.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Fi{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.z)}apply(){const t=Ti(this.urlTree.root,[],[],this.config).segmentGroup,e=new yn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,en).pipe(Object(te.a)(t=>this.createUrlTree(Mi(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ge(t=>{if(t instanceof ji)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Ri)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,en).pipe(Object(te.a)(e=>this.createUrlTree(Mi(e),t.queryParams,t.fragment))).pipe(ge(t=>{if(t instanceof Ri)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const i=t.segments.length>0?new yn([],{[en]:t}):t;return new bn(i,e,n)}expandSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(te.a)(t=>new yn([],t))):this.expandSegment(t,n,e,n.segments,i,!0)}expandChildren(t,e,n){const i=[];for(const r of Object.keys(n.children))"primary"===r?i.unshift(r):i.push(r);return Object(Rt.a)(i).pipe(_e(i=>{const r=n.children[i],s=Ei(e,i);return this.expandSegmentGroup(t,s,r,i).pipe(Object(te.a)(t=>({segment:t,outlet:i})))}),ue((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return i=>i.pipe(t?fe((e,n)=>t(e,n,i)):De.a,we(1),n?Te(e):Oe(()=>new Gt))}())}expandSegment(t,e,n,i,r,s){return Object(Rt.a)(n).pipe(_e(o=>this.expandSegmentAgainstRoute(t,e,n,o,i,r,s).pipe(ge(t=>{if(t instanceof Ri)return Object(jt.a)(null);throw t}))),Re(t=>!!t),ge((t,n)=>{if(t instanceof Gt||"EmptyError"===t.name){if(Di(e,i,r))return Object(jt.a)(new yn([],{}));throw new Ri(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,i,r,s,o){return Ai(i,e,r,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s):Pi(e):Pi(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,i){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ni(r):this.lineralizeSegments(n,r).pipe(Object(ve.a)(n=>{const r=new yn(n,{});return this.expandSegment(t,r,e,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s){const{matched:o,consumedSegments:a,lastChild:c,positionalParamSegments:l}=ki(e,i,r);if(!o)return Pi(e);const u=this.applyRedirectCommands(a,i.redirectTo,l);return i.redirectTo.startsWith("/")?Ni(u):this.lineralizeSegments(i,u).pipe(Object(ve.a)(i=>this.expandSegment(t,e,n,i.concat(r.slice(c)),s,!1)))}matchSegmentAgainstRoute(t,e,n,i,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(te.a)(t=>(n._loadedConfig=t,new yn(i,{})))):Object(jt.a)(new yn(i,{}));const{matched:s,consumedSegments:o,lastChild:a}=ki(e,n,i);if(!s)return Pi(e);const c=i.slice(a);return this.getChildConfig(t,n,i).pipe(Object(ve.a)(t=>{const i=t.module,s=t.routes,{segmentGroup:a,slicedSegments:l}=Ti(e,o,c,s),u=new yn(a.segments,a.children);if(0===l.length&&u.hasChildren())return this.expandChildren(i,s,u).pipe(Object(te.a)(t=>new yn(o,t)));if(0===s.length&&0===l.length)return Object(jt.a)(new yn(o,{}));const h=Oi(n)===r;return this.expandSegment(i,u,s,l,h?en:r,!0).pipe(Object(te.a)(t=>new yn(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(jt.a)(new pi(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(jt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(ve.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(te.a)(t=>(e._loadedConfig=t,t))):function(t){return new Ht.a(e=>e.error(sn(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(jt.a)(new pi([],t))}runCanLoadGuards(t,e,n){const i=e.canLoad;if(!i||0===i.length)return Object(jt.a)(!0);const r=i.map(i=>{const r=t.get(i);let s;if(function(t){return t&&mi(t.canLoad)}(r))s=r.canLoad(e,n);else{if(!mi(r))throw new Error("Invalid CanLoad guard");s=r(e,n)}return dn(s)});return Object(jt.a)(r).pipe(yi(),Object(je.a)(t=>{if(!gi(t))return;const e=sn(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(te.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Object(jt.a)(n);if(i.numberOfChildren>1||!i.children.primary)return Li(t.redirectTo);i=i.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,i){const r=this.createSegmentGroup(t,e.root,n,i);return new bn(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return hn(t,(t,i)=>{if("string"==typeof t&&t.startsWith(":")){const r=t.substring(1);n[i]=e[r]}else n[i]=t}),n}createSegmentGroup(t,e,n,i){const r=this.createSegments(t,e.segments,n,i);let s={};return hn(e.children,(e,r)=>{s[r]=this.createSegmentGroup(t,e,n,i)}),new yn(r,s)}createSegments(t,e,n,i){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,i):this.findOrReturn(e,n))}findPosParam(t,e,n){const i=n[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let n=0;for(const i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}}function Mi(t){const e={};for(const n of Object.keys(t.children)){const i=Mi(t.children[n]);(i.segments.length>0||i.hasChildren())&&(e[n]=i)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new yn(t.segments.concat(e.segments),e.children)}return t}(new yn(t.segments,e))}class Vi{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ui{constructor(t,e){this.component=t,this.route=e}}function Bi(t,e,n){const i=t._root;return Hi(i,e?e._root:null,n,[i.value])}function qi(t,e,n){const i=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function Hi(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Bn(e);return t.children.forEach(t=>{!function(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!_n(t.url,e.url);case"pathParamsOrQueryParamsChange":return!_n(t.url,e.url)||!an(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zn(t,e)||!an(t.queryParams,e.queryParams);case"paramsChange":default:return!Zn(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new Vi(i)):(s.data=o.data,s._resolvedData=o._resolvedData),Hi(t,e,s.component?a?a.children:null:n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Ui(a.outlet.component,o))}else o&&zi(e,a,r),r.canActivateChecks.push(new Vi(i)),Hi(t,null,s.component?a?a.children:null:n,i,r)}(t,s[t.value.outlet],n,i.concat([t.value]),r),delete s[t.value.outlet]}),hn(s,(t,e)=>zi(t,n.getContext(e),r)),r}function zi(t,e,n){const i=Bn(t),r=t.value;hn(i,(t,i)=>{zi(t,r.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new Ui(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class Ki{}function Wi(t){return new Ht.a(e=>e.error(t))}class Yi{constructor(t,e,n,i,r,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=s}recognize(){const t=Ti(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,en);if(null===e)return null;const n=new Wn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},en,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Un(n,e),r=new Yn(this.url,i);return this.inheritParamsAndData(r._root),r}inheritParamsAndData(t){const e=t.value,n=Kn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const r of Object.keys(e.children)){const i=e.children[r],s=Ei(t,r),o=this.processSegmentGroup(s,i,r);if(null===o)return null;n.push(...o)}const i=function(t){const e=[];for(const n of t){if(!$i(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return i.sort((t,e)=>t.value.outlet===en?-1:e.value.outlet===en?1:t.value.outlet.localeCompare(e.value.outlet)),i}processSegment(t,e,n,i){for(const r of t){const t=this.processSegmentAgainstRoute(r,e,n,i);if(null!==t)return t}return Di(e,n,i)?[]:null}processSegmentAgainstRoute(t,e,n,i){if(t.redirectTo||!Ai(t,e,n,i))return null;let r,s=[],o=[];if("**"===t.path){const i=n.length>0?un(n).parameters:{};r=new Wn(n,i,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Zi(t),Oi(t),t.component,t,Gi(e),Qi(e)+n.length,Xi(t))}else{const i=ki(e,t,n);if(!i.matched)return null;s=i.consumedSegments,o=n.slice(i.lastChild),r=new Wn(s,i.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Zi(t),Oi(t),t.component,t,Gi(e),Qi(e)+s.length,Xi(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:l}=Ti(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const t=this.processChildren(a,c);return null===t?null:[new Un(r,t)]}if(0===a.length&&0===l.length)return[new Un(r,[])];const u=Oi(t)===i,h=this.processSegment(a,c,l,u?en:i);return null===h?null:[new Un(r,h)]}}function $i(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Gi(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Qi(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Zi(t){return t.data||{}}function Xi(t){return t.resolve||{}}function Ji(t){return ne(e=>{const n=t(e);return n?Object(Rt.a)(n).pipe(Object(te.a)(()=>e)):Object(jt.a)(e)})}class tr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const er=new r.s("ROUTES");class nr{constructor(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(te.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new pi(ln(i.injector.get(er,void 0,r.r.Self|r.r.Optional)).map(Si),i)}))}loadModuleFactory(t){return"string"==typeof t?Object(Rt.a)(this.loader.load(t)):dn(t()).pipe(Object(ve.a)(t=>t instanceof r.x?Object(jt.a)(t):Object(Rt.a)(this.compiler.compileModuleAsync(t))))}}class ir{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new rr,this.attachRef=null}}class rr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new ir,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class sr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function or(t){throw t}function ar(t,e,n){return e.parse("/")}function cr(t,e){return Object(jt.a)(null)}let lr=(()=>{class t{constructor(t,e,n,i,s,o,a,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Pt.a,this.errorHandler=or,this.malformedUriErrorHandler=ar,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:cr,afterPreactivation:cr},this.urlHandlingStrategy=new sr,this.routeReuseStrategy=new tr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(r.z),this.console=s.get(r.bb);const l=s.get(r.B);this.isNgZoneEnabled=l instanceof r.B&&r.B.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new bn(new yn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new nr(o,a,t=>this.triggerEvent(new $e(t)),t=>this.triggerEvent(new Ge(t))),this.routerState=Hn(this.currentUrlTree,this.rootComponentType),this.transitions=new Lt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(fe(t=>0!==t.id),Object(te.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),ne(t=>{let n=!1,i=!1;return Object(jt.a)(t).pipe(Object(je.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ne(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(jt.a)(t).pipe(ne(t=>{const n=this.transitions.getValue();return e.next(new Ve(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Xt.a:Promise.resolve(t)}),(i=this.ngModule.injector,r=this.configLoader,s=this.urlSerializer,o=this.config,ne(t=>function(t,e,n,i,r){return new Fi(t,e,n,i,r).apply()}(i,r,s,t.extractedUrl,o).pipe(Object(te.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(je.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,i,r){return Object(ve.a)(s=>function(t,e,n,i,r="emptyOnly",s="legacy"){try{const o=new Yi(t,e,n,i,r,s).recognize();return null===o?Wi(new Ki):Object(jt.a)(o)}catch(TA){return Wi(TA)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),i,r).pipe(Object(te.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(je.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new He(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var i,r,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:r,restoredState:s,extras:o}=t,a=new Ve(n,this.serializeUrl(i),r,s);e.next(a);const c=Hn(i,this.rootComponentType).snapshot;return Object(jt.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:i,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Xt.a}),Ji(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),Object(je.a)(t=>{const e=new ze(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(te.a)(t=>Object.assign(Object.assign({},t),{guards:Bi(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(ve.a)(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(jt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,i){return Object(Rt.a)(t).pipe(Object(ve.a)(t=>function(t,e,n,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(jt.a)(!0);const o=s.map(s=>{const o=qi(s,e,r);let a;if(function(t){return t&&mi(t.canDeactivate)}(o))a=dn(o.canDeactivate(t,e,n,i));else{if(!mi(o))throw new Error("Invalid CanDeactivate guard");a=dn(o(t,e,n,i))}return a.pipe(Re())});return Object(jt.a)(o).pipe(yi())}(t.component,t.route,n,e,i)),Re(t=>!0!==t,!0))}(o,i,r,t).pipe(Object(ve.a)(n=>n&&"boolean"==typeof n?function(t,e,n,i){return Object(Rt.a)(e).pipe(_e(e=>Zt(function(t,e){return null!==t&&e&&e(new Qe(t)),Object(jt.a)(!0)}(e.route.parent,i),function(t,e){return null!==t&&e&&e(new Xe(t)),Object(jt.a)(!0)}(e.route,i),function(t,e,n){const i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Jt(()=>{const r=e.guards.map(r=>{const s=qi(r,e.node,n);let o;if(function(t){return t&&mi(t.canActivateChild)}(s))o=dn(s.canActivateChild(i,t));else{if(!mi(s))throw new Error("Invalid CanActivateChild guard");o=dn(s(i,t))}return o.pipe(Re())});return Object(jt.a)(r).pipe(yi())}));return Object(jt.a)(r).pipe(yi())}(t,e.path,n),function(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Object(jt.a)(!0);const r=i.map(i=>Jt(()=>{const r=qi(i,e,n);let s;if(function(t){return t&&mi(t.canActivate)}(r))s=dn(r.canActivate(e,t));else{if(!mi(r))throw new Error("Invalid CanActivate guard");s=dn(r(e,t))}return s.pipe(Re())}));return Object(jt.a)(r).pipe(yi())}(t,e.route,n))),Re(t=>!0!==t,!0))}(i,s,t,e):Object(jt.a)(n)),Object(te.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(je.a)(t=>{if(gi(t.guardsResult)){const e=sn(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Ke(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),fe(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Be(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Ji(t=>{if(t.guards.canActivateChecks.length)return Object(jt.a)(t).pipe(Object(je.a)(t=>{const e=new We(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),ne(t=>{let n=!1;return Object(jt.a)(t).pipe((i=this.paramsInheritanceStrategy,r=this.ngModule.injector,Object(ve.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(jt.a)(t);let s=0;return Object(Rt.a)(n).pipe(_e(t=>function(t,e,n,i){return function(t,e,n,i){const r=Object.keys(t);if(0===r.length)return Object(jt.a)({});const s={};return Object(Rt.a)(r).pipe(Object(ve.a)(r=>function(t,e,n,i){const r=qi(t,e,i);return dn(r.resolve?r.resolve(e,n):r(e,n))}(t[r],e,n,i).pipe(Object(je.a)(t=>{s[r]=t}))),we(1),Object(ve.a)(()=>Object.keys(s).length===r.length?Object(jt.a)(s):Xt.a))}(t._resolve,t,e,i).pipe(Object(te.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Kn(t,n).resolve),null)))}(t.route,e,i,r)),Object(je.a)(()=>s++),we(1),Object(ve.a)(e=>s===n.length?Object(jt.a)(t):Xt.a))})),Object(je.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Be(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var i,r}),Object(je.a)(t=>{const e=new Ye(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Ji(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),Object(te.a)(t=>{const e=function(t,e,n){const i=Xn(t,e._root,n?n._root:void 0);return new qn(i,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(je.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(r=this.rootContexts,s=this.routeReuseStrategy,o=t=>this.triggerEvent(t),Object(te.a)(t=>(new di(s,t.targetRouterState,t.currentRouterState,o).activate(r),t))),Object(je.a)({next(){n=!0},complete(){n=!0}}),Ne(()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new Be(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),ge(n=>{if(i=!0,(r=n)&&r.ngNavigationCancelingError){const i=gi(n.url);i||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const r=new Be(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(r),i?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const i=new qe(t.id,this.serializeUrl(t.extractedUrl),n);e.next(i);try{t.resolve(this.errorHandler(n))}catch(iC){t.reject(iC)}}var r;return Xt.a}));var r,s,o}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:i}=e,r={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(r.state=t)}this.scheduleNavigation(i,t,n,r)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){_i(t),this.config=t.map(Si),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:r,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,c=o?this.currentUrlTree.fragment:r;let l=null;switch(s){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=i||null}return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,i,r){if(0===n.length)return ni(e.root,e.root,e,i,r);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ri(!0,0,t);let e=0,n=!1;const i=t.reduce((t,i,r)=>{if("object"==typeof i&&null!=i){if(i.outlets){const e={};return hn(i.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(i.segmentPath)return[...t,i.segmentPath]}return"string"!=typeof i?[...t,i]:0===r?(i.split("/").forEach((i,r)=>{0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[...t,i]},[]);return new ri(n,e,i)}(n);if(s.toRoot())return ni(e.root,new yn([],{}),e,i,r);const o=function(t,e,n){if(t.isAbsolute)return new si(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new si(t,t===e.root,0)}const i=ti(t.commands[0])?0:1;return function(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new si(i,!1,r-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?ai(o.segmentGroup,o.index,s.commands):oi(o.segmentGroup,o.index,s.commands);return ni(o.segmentGroup,a,e,i,r)}(a,this.currentUrlTree,t,l,c)}navigateByUrl(t,e={skipLocationChange:!1}){const n=gi(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(TA){e=this.malformedUriErrorHandler(TA,this.urlSerializer,t)}return e}isActive(t,e){if(gi(t))return fn(this.currentUrlTree,t,e);const n=this.parseUrl(t);return fn(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return null!=i&&(e[n]=i),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Ue(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,i,r){const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let c,l,u;r?(c=r.resolve,l=r.reject,u=r.promise):u=new Promise((t,e)=>{c=t,l=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,i){const r=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(r,"",Object.assign(Object.assign({},i),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.P),r.Yb(wn),r.Yb(rr),r.Yb(C),r.Yb(r.t),r.Yb(r.y),r.Yb(r.i),r.Yb(void 0))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),ur=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.route=e,this.commands=[],this.onChanges=new Pt.a,null==n&&i.setAttribute(r.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:hr(this.skipLocationChange),replaceUrl:hr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:hr(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(lr),r.Ob(zn),r.Zb("tabindex"),r.Ob(r.G),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.bc("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.Bb]}),t})();function hr(t){return""===t||!!t}let dr=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.o,this.deactivateEvents=new r.o,this.name=i||en,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new fr(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(rr),r.Ob(r.S),r.Ob(r.j),r.Zb("name"),r.Ob(r.h))},t.\u0275dir=r.Jb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class fr{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===zn?this.route:t===rr?this.childContexts:this.parent.get(t,e)}}class pr{}class mr{preload(t,e){return Object(jt.a)(null)}}let gr=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=new nr(e,n,e=>t.triggerEvent(new $e(e)),e=>t.triggerEvent(new Ge(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(fe(t=>t instanceof Ue),_e(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.z);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const i of e)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const t=i._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(t,i)):i.children&&n.push(this.processRoutes(t,i.children));return Object(Rt.a)(n).pipe(Object(Qt.a)(),Object(te.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(ve.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(lr),r.Yb(r.y),r.Yb(r.i),r.Yb(r.t),r.Yb(pr))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),br=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ve?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ue&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof tn&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new tn(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(lr),r.Yb(X),r.Yb(void 0))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const yr=new r.s("ROUTER_CONFIGURATION"),vr=new r.s("ROUTER_FORROOT_GUARD"),_r=[C,{provide:wn,useClass:Cn},{provide:lr,useFactory:function(t,e,n,i,r,s,a,c={},l,u){const h=new lr(null,t,e,n,i,r,s,ln(a));if(l&&(h.urlHandlingStrategy=l),u&&(h.routeReuseStrategy=u),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(c,h),c.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[wn,rr,C,r.t,r.y,r.i,er,yr,[class{},new r.C],[class{},new r.C]]},rr,{provide:zn,useFactory:function(t){return t.routerState.root},deps:[lr]},{provide:r.y,useClass:r.M},gr,mr,class{preload(t,e){return e().pipe(ge(()=>Object(jt.a)(null)))}},{provide:yr,useValue:{enableTracing:!1}}];function wr(){return new r.A("Router",lr)}let Cr=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[_r,xr(e),{provide:vr,useFactory:Er,deps:[[lr,new r.C,new r.L]]},{provide:yr,useValue:n||{}},{provide:b,useFactory:Or,deps:[c,[new r.q(v),new r.C],yr]},{provide:br,useFactory:Sr,deps:[lr,X,yr]},{provide:pr,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:mr},{provide:r.A,multi:!0,useFactory:wr},[kr,{provide:r.d,multi:!0,useFactory:Tr,deps:[kr]},{provide:Ar,useFactory:Ir,deps:[kr]},{provide:r.b,multi:!0,useExisting:Ar}]]}}static forChild(e){return{ngModule:t,providers:[xr(e)]}}}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)(r.Yb(vr,8),r.Yb(lr,8))}}),t})();function Sr(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new br(t,e,n)}function Or(t,e,n={}){return n.useHash?new w(t,e):new _(t,e)}function Er(t){return"guarded"}function xr(t){return[{provide:r.a,multi:!0,useValue:t},{provide:er,multi:!0,useValue:t}]}let kr=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Pt.a}appInitializer(){return this.injector.get(u,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(lr),i=this.injector.get(yr);return"disabled"===i.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(jt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(yr),n=this.injector.get(gr),i=this.injector.get(br),s=this.injector.get(lr),o=this.injector.get(r.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.t))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();function Tr(t){return t.appInitializer.bind(t)}function Ir(t){return t.bootstrapListener.bind(t)}const Ar=new r.s("Router Initializer");var Dr=n("n6bG");function Rr(t,e,n,i){return Object(Dr.a)(n)&&(i=n,n=void 0),i?Rr(t,e,n).pipe(Object(te.a)(t=>Object(Mt.a)(t)?i(...t):i(t))):new Ht.a(i=>{jr(t,e,function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},i,n)})}function jr(t,e,n,i,r){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const i=t;t.addEventListener(e,n,r),s=()=>i.removeEventListener(e,n,r)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const i=t;t.on(e,n),s=()=>i.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const i=t;t.addListener(e,n),s=()=>i.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)jr(t[s],e,n,i,r)}i.add(s)}var Pr=n("mrSG");class Nr{constructor(t){this.total=t}call(t,e){return e.subscribe(new Lr(t,this.total))}}class Lr extends Vt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}const Fr=new r.s("ngx-google-analytics-settings",{factory:()=>({trackingCode:"",enableTracing:!1})}),Mr=new r.s("ngx-window",{providedIn:"root",factory:()=>Q(Object(r.X)(r.D))?window:null}),Vr=new r.s("ngx-data-layer",{providedIn:"root",factory:()=>function(t){return t?t.dataLayer=t.dataLayer||[]:null}(Object(r.X)(Mr))}),Ur=new r.s("ngx-gtag-fn",{providedIn:"root",factory:()=>function(t,e){return t?t.gtag=t.gtag||function(){e.push(arguments)}:null}(Object(r.X)(Mr),Object(r.X)(Vr))});let Br=(()=>{class t{constructor(t,e,n){this.settings=t,this._document=e,this._gtag=n}get document(){return this._document}throw(t){(this.settings.enableTracing||Object(r.Y)())&&console&&console.error&&console.error(t)}toKeyValue(t){return t.size>0?Array.from(t).reduce((t,[e,n])=>Object.defineProperty(t,e,{value:n,enumerable:!0}),{}):void 0}gtag(...t){try{this._gtag(...t.filter(t=>void 0!==t))}catch(e){this.throw(e)}}event(t,e,n,i,r){try{const s=new Map;e&&s.set("event_category",e),n&&s.set("event_label",n),i&&s.set("value",i),void 0!==r&&s.set("interaction",r);const o=this.toKeyValue(s);o?this.gtag("event",t,o):this.gtag("event",t)}catch(s){this.throw(s)}}pageView(t,e,n,i){try{const r=new Map([["page_path",t]]);e&&r.set("page_title",e),(n||this.document)&&r.set("page_location",n||this.document.location.href),i&&Object.entries(i).map(([t,e])=>r.set(t,e)),this.gtag("config",this.settings.trackingCode,this.toKeyValue(r))}catch(r){this.throw(r)}}appView(t,e,n,i,r){try{const s=new Map([["screen_name",t],["app_name",e]]);n&&s.set("app_id",n),i&&s.set("app_version",i),r&&s.set("app_installer_id",r),this.gtag("event","screen_view",this.toKeyValue(s))}catch(s){this.throw(s)}}set(...t){try{this._gtag("set",...t)}catch(e){this.throw(e)}}exception(t,e){try{const n=new Map;t&&n.set("description",t),e&&n.set("fatal",e),this.toKeyValue(n)?this.gtag("event","exception",this.toKeyValue(n)):this.gtag("event","exception")}catch(n){this.throw(n)}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Fr),r.Yb(a),r.Yb(Ur))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(Fr),Object(r.Yb)(a),Object(r.Yb)(Ur))},token:t,providedIn:"root"}),t})();const qr={provide:r.d,multi:!0,useFactory:function(t,e,n){return()=>Object(Pr.b)(this,void 0,void 0,function*(){if(!t.trackingCode)return void(Object(r.Y)()||console.error("Empty tracking code for Google Analytics. Make sure to provide one when initializing NgxGoogleAnalyticsModule."));if(!e)return void(Object(r.Y)()||console.error("Was not possible create or read gtag() fn. Make sure this module is running on a Browser w/ access to Window interface."));n||Object(r.Y)()||console.error("Was not possible to access Document interface. Make sure this module is running on a Browser w/ access do Document interface."),t.uri=t.uri||`https://www.googletagmanager.com/gtag/js?id=${t.trackingCode}`;const i=[{command:"js",values:[new Date]},{command:"config",values:[t.trackingCode]}];t.initCommands=[...i,...t.initCommands||[]];for(const n of t.initCommands)e(n.command,...n.values);const s=n.createElement("script");s.async=!0,s.src=t.uri,t.nonce&&s.setAttribute("nonce",t.nonce),n.getElementsByTagName("head")[0].appendChild(s)})},deps:[Fr,Ur,a]},Hr=new r.s("ngx-google-analytics-routing-settings",{factory:()=>({})}),zr={provide:r.b,multi:!0,useFactory:function(t,e){return n=>Object(Pr.b)(this,void 0,void 0,function*(){const i=n.injector.get(lr),{include:r=[],exclude:s=[]}=null!=t?t:{},o=Kr(r),a=Kr(s),c=i.events.pipe(fe(t=>t instanceof Ue),t=>t.lift(new Nr(1)),fe(t=>!(o.length>0)||o.some(e=>e.test(t.urlAfterRedirects))),fe(t=>!(a.length>0&&a.some(e=>e.test(t.urlAfterRedirects))))).subscribe(t=>e.pageView(t.urlAfterRedirects,void 0));n.onDestroy(()=>c.unsubscribe())})},deps:[Hr,Br]};function Kr(t){return t.map(t=>t instanceof RegExp?t:new RegExp(`^${t.replace("*",".*")}$`,"i"))}let Wr=(()=>{class t{static forRoot(e,n=[],i,r,s){return{ngModule:t,providers:[{provide:Fr,useValue:{trackingCode:e,initCommands:n,uri:i,enableTracing:r,nonce:s}},qr]}}}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[]]}),t})(),Yr=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:Hr,useValue:null!=e?e:{}}]}}}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[zr],imports:[[G,Wr]]}),t})();const $r={apiKey:"AIzaSyBgEOkphnsDu-N8CXWwm8LevifLkmGf1Fw",authDomain:"recipes-b508e.firebaseapp.com",projectId:"recipes-b508e",storageBucket:"recipes-b508e.appspot.com",messagingSenderId:"523306908819",appId:"1:523306908819:web:e7521beefb640b9e162166",measurementId:"G-9L1W06LXSH"};var Gr="1.13.1",Qr="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},Zr=Array.prototype,Xr=Object.prototype,Jr="undefined"!=typeof Symbol?Symbol.prototype:null,ts=Zr.push,es=Zr.slice,ns=Xr.toString,is=Xr.hasOwnProperty,rs="undefined"!=typeof ArrayBuffer,ss="undefined"!=typeof DataView,os=Array.isArray,as=Object.keys,cs=Object.create,ls=rs&&ArrayBuffer.isView,us=isNaN,hs=isFinite,ds=!{toString:null}.propertyIsEnumerable("toString"),fs=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],ps=Math.pow(2,53)-1;function ms(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),i=Array(n),r=0;r<n;r++)i[r]=arguments[r+e];switch(e){case 0:return t.call(this,i);case 1:return t.call(this,arguments[0],i);case 2:return t.call(this,arguments[0],arguments[1],i)}var s=Array(e+1);for(r=0;r<e;r++)s[r]=arguments[r];return s[e]=i,t.apply(this,s)}}function gs(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function bs(t){return null===t}function ys(t){return void 0===t}function vs(t){return!0===t||!1===t||"[object Boolean]"===ns.call(t)}function _s(t){return!(!t||1!==t.nodeType)}function ws(t){var e="[object "+t+"]";return function(t){return ns.call(t)===e}}var Cs=ws("String"),Ss=ws("Number"),Os=ws("Date"),Es=ws("RegExp"),xs=ws("Error"),ks=ws("Symbol"),Ts=ws("ArrayBuffer"),Is=ws("Function");"object"!=typeof Int8Array&&"function"!=typeof(Qr.document&&Qr.document.childNodes)&&(Is=function(t){return"function"==typeof t||!1});var As=Is,Ds=ws("Object"),Rs=ss&&Ds(new DataView(new ArrayBuffer(8))),js="undefined"!=typeof Map&&Ds(new Map),Ps=ws("DataView"),Ns=Rs?function(t){return null!=t&&As(t.getInt8)&&Ts(t.buffer)}:Ps,Ls=os||ws("Array");function Fs(t,e){return null!=t&&is.call(t,e)}var Ms=ws("Arguments");!function(){Ms(arguments)||(Ms=function(t){return Fs(t,"callee")})}();var Vs=Ms;function Us(t){return!ks(t)&&hs(t)&&!isNaN(parseFloat(t))}function Bs(t){return Ss(t)&&us(t)}function qs(t){return function(){return t}}function Hs(t){return function(e){var n=t(e);return"number"==typeof n&&n>=0&&n<=ps}}function zs(t){return function(e){return null==e?void 0:e[t]}}var Ks=zs("byteLength"),Ws=Hs(Ks),Ys=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,$s=rs?function(t){return ls?ls(t)&&!Ns(t):Ws(t)&&Ys.test(ns.call(t))}:qs(!1),Gs=zs("length");function Qs(t,e){e=function(t){for(var e={},n=t.length,i=0;i<n;++i)e[t[i]]=!0;return{contains:function(t){return e[t]},push:function(n){return e[n]=!0,t.push(n)}}}(e);var n=fs.length,i=t.constructor,r=As(i)&&i.prototype||Xr,s="constructor";for(Fs(t,s)&&!e.contains(s)&&e.push(s);n--;)(s=fs[n])in t&&t[s]!==r[s]&&!e.contains(s)&&e.push(s)}function Zs(t){if(!gs(t))return[];if(as)return as(t);var e=[];for(var n in t)Fs(t,n)&&e.push(n);return ds&&Qs(t,e),e}function Xs(t){if(null==t)return!0;var e=Gs(t);return"number"==typeof e&&(Ls(t)||Cs(t)||Vs(t))?0===e:0===Gs(Zs(t))}function Js(t,e){var n=Zs(e),i=n.length;if(null==t)return!i;for(var r=Object(t),s=0;s<i;s++){var o=n[s];if(e[o]!==r[o]||!(o in r))return!1}return!0}function to(t){return t instanceof to?t:this instanceof to?void(this._wrapped=t):new to(t)}function eo(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,Ks(t))}to.VERSION=Gr,to.prototype.valueOf=to.prototype.toJSON=to.prototype.value=function(){return this._wrapped},to.prototype.toString=function(){return String(this._wrapped)};var no="[object DataView]";function io(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var r=typeof t;return("function"===r||"object"===r||"object"==typeof e)&&ro(t,e,n,i)}function ro(t,e,n,i){t instanceof to&&(t=t._wrapped),e instanceof to&&(e=e._wrapped);var r=ns.call(t);if(r!==ns.call(e))return!1;if(Rs&&"[object Object]"==r&&Ns(t)){if(!Ns(e))return!1;r=no}switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return Jr.valueOf.call(t)===Jr.valueOf.call(e);case"[object ArrayBuffer]":case no:return ro(eo(t),eo(e),n,i)}var s="[object Array]"===r;if(!s&&$s(t)){if(Ks(t)!==Ks(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;s=!0}if(!s){if("object"!=typeof t||"object"!=typeof e)return!1;var o=t.constructor,a=e.constructor;if(o!==a&&!(As(o)&&o instanceof o&&As(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}i=i||[];for(var c=(n=n||[]).length;c--;)if(n[c]===t)return i[c]===e;if(n.push(t),i.push(e),s){if((c=t.length)!==e.length)return!1;for(;c--;)if(!io(t[c],e[c],n,i))return!1}else{var l,u=Zs(t);if(c=u.length,Zs(e).length!==c)return!1;for(;c--;)if(!Fs(e,l=u[c])||!io(t[l],e[l],n,i))return!1}return n.pop(),i.pop(),!0}function so(t,e){return io(t,e)}function oo(t){if(!gs(t))return[];var e=[];for(var n in t)e.push(n);return ds&&Qs(t,e),e}function ao(t){var e=Gs(t);return function(n){if(null==n)return!1;var i=oo(n);if(Gs(i))return!1;for(var r=0;r<e;r++)if(!As(n[t[r]]))return!1;return t!==fo||!As(n[co])}}var co="forEach",lo=["clear","delete"],uo=["get","has","set"],ho=lo.concat(co,uo),fo=lo.concat(uo),po=["add"].concat(lo,co,"has"),mo=js?ao(ho):ws("Map"),go=js?ao(fo):ws("WeakMap"),bo=js?ao(po):ws("Set"),yo=ws("WeakSet");function vo(t){for(var e=Zs(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i}function _o(t){for(var e=Zs(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i}function wo(t){for(var e={},n=Zs(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e}function Co(t){var e=[];for(var n in t)As(t[n])&&e.push(n);return e.sort()}function So(t,e){return function(n){var i=arguments.length;if(e&&(n=Object(n)),i<2||null==n)return n;for(var r=1;r<i;r++)for(var s=arguments[r],o=t(s),a=o.length,c=0;c<a;c++){var l=o[c];e&&void 0!==n[l]||(n[l]=s[l])}return n}}var Oo=So(oo),Eo=So(Zs),xo=So(oo,!0);function ko(t){if(!gs(t))return{};if(cs)return cs(t);var e=function(){};e.prototype=t;var n=new e;return e.prototype=null,n}function To(t,e){var n=ko(t);return e&&Eo(n,e),n}function Io(t){return gs(t)?Ls(t)?t.slice():Oo({},t):t}function Ao(t,e){return e(t),t}function Do(t){return Ls(t)?t:[t]}function Ro(t){return to.toPath(t)}function jo(t,e){for(var n=e.length,i=0;i<n;i++){if(null==t)return;t=t[e[i]]}return n?t:void 0}function Po(t,e,n){var i=jo(t,Ro(e));return ys(i)?n:i}function No(t,e){for(var n=(e=Ro(e)).length,i=0;i<n;i++){var r=e[i];if(!Fs(t,r))return!1;t=t[r]}return!!n}function Lo(t){return t}function Fo(t){return t=Eo({},t),function(e){return Js(e,t)}}function Mo(t){return t=Ro(t),function(e){return jo(e,t)}}function Vo(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,s){return t.call(e,n,i,r,s)}}return function(){return t.apply(e,arguments)}}function Uo(t,e,n){return null==t?Lo:As(t)?Vo(t,e,n):gs(t)&&!Ls(t)?Fo(t):Mo(t)}function Bo(t,e){return Uo(t,e,1/0)}function qo(t,e,n){return to.iteratee!==Bo?to.iteratee(t,e):Uo(t,e,n)}function Ho(t,e,n){e=qo(e,n);for(var i=Zs(t),r=i.length,s={},o=0;o<r;o++){var a=i[o];s[a]=e(t[a],a,t)}return s}function zo(){}function Ko(t){return null==t?zo:function(e){return Po(t,e)}}function Wo(t,e,n){var i=Array(Math.max(0,t));e=Vo(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i}function Yo(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}to.toPath=Do,to.iteratee=Bo;var $o=Date.now||function(){return(new Date).getTime()};function Go(t){var e=function(e){return t[e]},n="(?:"+Zs(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return i.test(t=null==t?"":""+t)?t.replace(r,e):t}}var Qo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Zo=Go(Qo),Xo=Go(wo(Qo)),Jo=to.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},ta=/(.)^/,ea={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},na=/\\|'|\r|\n|\u2028|\u2029/g;function ia(t){return"\\"+ea[t]}var ra=/^\s*(\w|\$)+\s*$/;function sa(t,e,n){!e&&n&&(e=n),e=xo({},e,to.templateSettings);var i=RegExp([(e.escape||ta).source,(e.interpolate||ta).source,(e.evaluate||ta).source].join("|")+"|$","g"),r=0,s="__p+='";t.replace(i,function(e,n,i,o,a){return s+=t.slice(r,a).replace(na,ia),r=a+e.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?s+="'+\n((__t=("+i+"))==null?'':__t)+\n'":o&&(s+="';\n"+o+"\n__p+='"),e}),s+="';\n";var o,a=e.variable;if(a){if(!ra.test(a))throw new Error("variable is not a bare identifier: "+a)}else s="with(obj||{}){\n"+s+"}\n",a="obj";s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{o=new Function(a,"_",s)}catch(TA){throw TA.source=s,TA}var c=function(t){return o.call(this,t,to)};return c.source="function("+a+"){\n"+s+"}",c}function oa(t,e,n){var i=(e=Ro(e)).length;if(!i)return As(n)?n.call(t):n;for(var r=0;r<i;r++){var s=null==t?void 0:t[e[r]];void 0===s&&(s=n,r=i),t=As(s)?s.call(t):s}return t}var aa=0;function ca(t){var e=++aa+"";return t?t+e:e}function la(t){var e=to(t);return e._chain=!0,e}function ua(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var s=ko(t.prototype),o=t.apply(s,r);return gs(o)?o:s}var ha=ms(function(t,e){var n=ha.placeholder,i=function(){for(var r=0,s=e.length,o=Array(s),a=0;a<s;a++)o[a]=e[a]===n?arguments[r++]:e[a];for(;r<arguments.length;)o.push(arguments[r++]);return ua(t,i,this,this,o)};return i});ha.placeholder=to;var da=ha,fa=ms(function(t,e,n){if(!As(t))throw new TypeError("Bind must be called on a function");var i=ms(function(r){return ua(t,i,e,this,n.concat(r))});return i}),pa=Hs(Gs);function ma(t,e,n,i){if(i=i||[],e||0===e){if(e<=0)return i.concat(t)}else e=1/0;for(var r=i.length,s=0,o=Gs(t);s<o;s++){var a=t[s];if(pa(a)&&(Ls(a)||Vs(a)))if(e>1)ma(a,e-1,n,i),r=i.length;else for(var c=0,l=a.length;c<l;)i[r++]=a[c++];else n||(i[r++]=a)}return i}var ga=ms(function(t,e){var n=(e=ma(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=e[n];t[i]=fa(t[i],t)}return t});function ba(t,e){var n=function(i){var r=n.cache,s=""+(e?e.apply(this,arguments):i);return Fs(r,s)||(r[s]=t.apply(this,arguments)),r[s]};return n.cache={},n}var ya=ms(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),va=da(ya,to,1);function _a(t,e,n){var i,r,s,o,a=0;n||(n={});var c=function(){a=!1===n.leading?0:$o(),i=null,o=t.apply(r,s),i||(r=s=null)},l=function(){var l=$o();a||!1!==n.leading||(a=l);var u=e-(l-a);return r=this,s=arguments,u<=0||u>e?(i&&(clearTimeout(i),i=null),a=l,o=t.apply(r,s),i||(r=s=null)):i||!1===n.trailing||(i=setTimeout(c,u)),o};return l.cancel=function(){clearTimeout(i),a=0,i=r=s=null},l}function wa(t,e,n){var i,r,s,o,a,c=function(){var l=$o()-r;e>l?i=setTimeout(c,e-l):(i=null,n||(o=t.apply(a,s)),i||(s=a=null))},l=ms(function(l){return a=this,s=l,r=$o(),i||(i=setTimeout(c,e),n&&(o=t.apply(a,s))),o});return l.cancel=function(){clearTimeout(i),i=s=a=null},l}function Ca(t,e){return da(e,t)}function Sa(t){return function(){return!t.apply(this,arguments)}}function Oa(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}}function Ea(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function xa(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}var ka=da(xa,2);function Ta(t,e,n){e=qo(e,n);for(var i,r=Zs(t),s=0,o=r.length;s<o;s++)if(e(t[i=r[s]],i,t))return i}function Ia(t){return function(e,n,i){n=qo(n,i);for(var r=Gs(e),s=t>0?0:r-1;s>=0&&s<r;s+=t)if(n(e[s],s,e))return s;return-1}}var Aa=Ia(1),Da=Ia(-1);function Ra(t,e,n,i){for(var r=(n=qo(n,i,1))(e),s=0,o=Gs(t);s<o;){var a=Math.floor((s+o)/2);n(t[a])<r?s=a+1:o=a}return s}function ja(t,e,n){return function(i,r,s){var o=0,a=Gs(i);if("number"==typeof s)t>0?o=s>=0?s:Math.max(s+a,o):a=s>=0?Math.min(s+1,a):s+a+1;else if(n&&s&&a)return i[s=n(i,r)]===r?s:-1;if(r!=r)return(s=e(es.call(i,o,a),Bs))>=0?s+o:-1;for(s=t>0?o:a-1;s>=0&&s<a;s+=t)if(i[s]===r)return s;return-1}}var Pa=ja(1,Aa,Ra),Na=ja(-1,Da);function La(t,e,n){var i=(pa(t)?Aa:Ta)(t,e,n);if(void 0!==i&&-1!==i)return t[i]}function Fa(t,e){return La(t,Fo(e))}function Ma(t,e,n){var i,r;if(e=Vo(e,n),pa(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var s=Zs(t);for(i=0,r=s.length;i<r;i++)e(t[s[i]],s[i],t)}return t}function Va(t,e,n){e=qo(e,n);for(var i=!pa(t)&&Zs(t),r=(i||t).length,s=Array(r),o=0;o<r;o++){var a=i?i[o]:o;s[o]=e(t[a],a,t)}return s}function Ua(t){var e=function(e,n,i,r){var s=!pa(e)&&Zs(e),o=(s||e).length,a=t>0?0:o-1;for(r||(i=e[s?s[a]:a],a+=t);a>=0&&a<o;a+=t){var c=s?s[a]:a;i=n(i,e[c],c,e)}return i};return function(t,n,i,r){var s=arguments.length>=3;return e(t,Vo(n,r,4),i,s)}}var Ba=Ua(1),qa=Ua(-1);function Ha(t,e,n){var i=[];return e=qo(e,n),Ma(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i}function za(t,e,n){return Ha(t,Sa(qo(e)),n)}function Ka(t,e,n){e=qo(e,n);for(var i=!pa(t)&&Zs(t),r=(i||t).length,s=0;s<r;s++){var o=i?i[s]:s;if(!e(t[o],o,t))return!1}return!0}function Wa(t,e,n){e=qo(e,n);for(var i=!pa(t)&&Zs(t),r=(i||t).length,s=0;s<r;s++){var o=i?i[s]:s;if(e(t[o],o,t))return!0}return!1}function Ya(t,e,n,i){return pa(t)||(t=vo(t)),("number"!=typeof n||i)&&(n=0),Pa(t,e,n)>=0}var $a=ms(function(t,e,n){var i,r;return As(e)?r=e:(e=Ro(e),i=e.slice(0,-1),e=e[e.length-1]),Va(t,function(t){var s=r;if(!s){if(i&&i.length&&(t=jo(t,i)),null==t)return;s=t[e]}return null==s?s:s.apply(t,n)})});function Ga(t,e){return Va(t,Mo(e))}function Qa(t,e){return Ha(t,Fo(e))}function Za(t,e,n){var i,r,s=-1/0,o=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,c=(t=pa(t)?t:vo(t)).length;a<c;a++)null!=(i=t[a])&&i>s&&(s=i);else e=qo(e,n),Ma(t,function(t,n,i){((r=e(t,n,i))>o||r===-1/0&&s===-1/0)&&(s=t,o=r)});return s}function Xa(t,e,n){var i,r,s=1/0,o=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,c=(t=pa(t)?t:vo(t)).length;a<c;a++)null!=(i=t[a])&&i<s&&(s=i);else e=qo(e,n),Ma(t,function(t,n,i){((r=e(t,n,i))<o||r===1/0&&s===1/0)&&(s=t,o=r)});return s}function Ja(t,e,n){if(null==e||n)return pa(t)||(t=vo(t)),t[Yo(t.length-1)];var i=pa(t)?Io(t):vo(t),r=Gs(i);e=Math.max(Math.min(e,r),0);for(var s=r-1,o=0;o<e;o++){var a=Yo(o,s),c=i[o];i[o]=i[a],i[a]=c}return i.slice(0,e)}function tc(t){return Ja(t,1/0)}function ec(t,e,n){var i=0;return e=qo(e,n),Ga(Va(t,function(t,n,r){return{value:t,index:i++,criteria:e(t,n,r)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")}function nc(t,e){return function(n,i,r){var s=e?[[],[]]:{};return i=qo(i,r),Ma(n,function(e,r){var o=i(e,r,n);t(s,e,o)}),s}}var ic=nc(function(t,e,n){Fs(t,n)?t[n].push(e):t[n]=[e]}),rc=nc(function(t,e,n){t[n]=e}),sc=nc(function(t,e,n){Fs(t,n)?t[n]++:t[n]=1}),oc=nc(function(t,e,n){t[n?0:1].push(e)},!0),ac=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function cc(t){return t?Ls(t)?es.call(t):Cs(t)?t.match(ac):pa(t)?Va(t,Lo):vo(t):[]}function lc(t){return null==t?0:pa(t)?t.length:Zs(t).length}function uc(t,e,n){return e in n}var hc=ms(function(t,e){var n={},i=e[0];if(null==t)return n;As(i)?(e.length>1&&(i=Vo(i,e[1])),e=oo(t)):(i=uc,e=ma(e,!1,!1),t=Object(t));for(var r=0,s=e.length;r<s;r++){var o=e[r],a=t[o];i(a,o,t)&&(n[o]=a)}return n}),dc=ms(function(t,e){var n,i=e[0];return As(i)?(i=Sa(i),e.length>1&&(n=e[1])):(e=Va(ma(e,!1,!1),String),i=function(t,n){return!Ya(e,n)}),hc(t,i,n)});function fc(t,e,n){return es.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))}function pc(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[0]:fc(t,t.length-e)}function mc(t,e,n){return es.call(t,null==e||n?1:e)}function gc(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[t.length-1]:mc(t,Math.max(0,t.length-e))}function bc(t){return Ha(t,Boolean)}function yc(t,e){return ma(t,e,!1)}var vc=ms(function(t,e){return e=ma(e,!0,!0),Ha(t,function(t){return!Ya(e,t)})}),_c=ms(function(t,e){return vc(t,e)});function wc(t,e,n,i){vs(e)||(i=n,n=e,e=!1),null!=n&&(n=qo(n,i));for(var r=[],s=[],o=0,a=Gs(t);o<a;o++){var c=t[o],l=n?n(c,o,t):c;e&&!n?(o&&s===l||r.push(c),s=l):n?Ya(s,l)||(s.push(l),r.push(c)):Ya(r,c)||r.push(c)}return r}var Cc=ms(function(t){return wc(ma(t,!0,!0))});function Sc(t){for(var e=[],n=arguments.length,i=0,r=Gs(t);i<r;i++){var s=t[i];if(!Ya(e,s)){var o;for(o=1;o<n&&Ya(arguments[o],s);o++);o===n&&e.push(s)}}return e}function Oc(t){for(var e=t&&Za(t,Gs).length||0,n=Array(e),i=0;i<e;i++)n[i]=Ga(t,i);return n}var Ec=ms(Oc);function xc(t,e){for(var n={},i=0,r=Gs(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n}function kc(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),s=0;s<i;s++,t+=n)r[s]=t;return r}function Tc(t,e){if(null==e||e<1)return[];for(var n=[],i=0,r=t.length;i<r;)n.push(es.call(t,i,i+=e));return n}function Ic(t,e){return t._chain?to(e).chain():e}function Ac(t){return Ma(Co(t),function(e){var n=to[e]=t[e];to.prototype[e]=function(){var t=[this._wrapped];return ts.apply(t,arguments),Ic(this,n.apply(to,t))}}),to}Ma(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=Zr[t];to.prototype[t]=function(){var n=this._wrapped;return null!=n&&(e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0]),Ic(this,n)}}),Ma(["concat","join","slice"],function(t){var e=Zr[t];to.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),Ic(this,t)}});var Dc=to,Rc=Ac(i);Rc._=Rc;var jc=n("XoHu");function Pc(...t){if(1===t.length){const e=t[0];if(Object(Mt.a)(e))return Nc(e,null);if(Object(jc.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Nc(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Nc(t=1===t.length&&Object(Mt.a)(t[0])?t[0]:t,null).pipe(Object(te.a)(t=>e(...t)))}return Nc(t,null)}function Nc(t,e){return new Ht.a(n=>{const i=t.length;if(0===i)return void n.complete();const r=new Array(i);let s=0,o=0;for(let a=0;a<i;a++){const c=Object(Rt.a)(t[a]);let l=!1;n.add(c.subscribe({next:t=>{l||(l=!0,o++),r[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==i&&l||(o===i&&n.next(e?e.reduce((t,e,n)=>(t[e]=r[n],t),{}):r),n.complete())}}))}})}const Lc=new r.s("NgValueAccessor"),Fc={provide:Lc,useExisting:Object(r.W)(()=>Mc),multi:!0};let Mc=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.G),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.bc("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.Cb([Fc])]}),t})();const Vc={provide:Lc,useExisting:Object(r.W)(()=>Bc),multi:!0},Uc=new r.s("CompositionEventMode");let Bc=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.G),r.Ob(r.l),r.Ob(Uc,8))},t.\u0275dir=r.Jb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.bc("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.Cb([Vc])]}),t})();function qc(t){return null==t||0===t.length}function Hc(t){return null!=t&&"number"==typeof t.length}const zc=new r.s("NgValidators"),Kc=new r.s("NgAsyncValidators"),Wc=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Yc{static min(t){return e=>{if(qc(e.value)||qc(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(qc(e.value)||qc(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return qc(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return qc(t.value)||Wc.test(t.value)?null:{email:!0}}static minLength(t){return e=>qc(e.value)||!Hc(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Hc(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Yc.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(qc(t.value))return null;const i=t.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter($c);return 0==e.length?null:function(t){return Qc(Zc(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter($c);return 0==e.length?null:function(t){return Pc(Zc(t,e).map(Gc)).pipe(Object(te.a)(Qc))}}}function $c(t){return null!=t}function Gc(t){const e=Object(r.ub)(t)?Object(Rt.a)(t):t;return Object(r.tb)(e),e}function Qc(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Zc(t,e){return e.map(e=>e(t))}function Xc(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Jc(t){return null!=t?Yc.compose(Xc(t)):null}function tl(t){return null!=t?Yc.composeAsync(Xc(t)):null}function el(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function nl(t){return t._rawValidators}function il(t){return t._rawAsyncValidators}let rl=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Jc(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=tl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t}),t})(),sl=(()=>{class t extends rl{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return ol(e||t)},t.\u0275dir=r.Jb({type:t,features:[r.Ab]}),t})();const ol=r.Wb(sl);class al extends rl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class cl{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let ll=(()=>{class t extends cl{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(al,2))},t.\u0275dir=r.Jb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Gb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.Ab]}),t})(),ul=(()=>{class t extends cl{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(sl,10))},t.\u0275dir=r.Jb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Gb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.Ab]}),t})();const hl={provide:Lc,useExisting:Object(r.W)(()=>dl),multi:!0};let dl=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.G),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.bc("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.Cb([hl])]}),t})();const fl={provide:Lc,useExisting:Object(r.W)(()=>ml),multi:!0};let pl=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),ml=(()=>{class t{constructor(t,e,n,i){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=i,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(al),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.G),r.Ob(r.l),r.Ob(pl),r.Ob(r.t))},t.\u0275dir=r.Jb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.bc("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.Cb([fl])]}),t})();const gl={provide:Lc,useExisting:Object(r.W)(()=>bl),multi:!0};let bl=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.G),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.bc("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.Cb([gl])]}),t})();const yl={provide:Lc,useExisting:Object(r.W)(()=>vl),multi:!0};let vl=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.G),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.bc("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Cb([yl])]}),t})();const _l={provide:Lc,useExisting:Object(r.W)(()=>wl),multi:!0};let wl=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const i=t.item(e),r=this._getOptionValue(i.value);n.push(r)}}else{const t=e.options;for(let e=0;e<t.length;e++){const i=t.item(e);if(i.selected){const t=this._getOptionValue(i.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.G),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.bc("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Cb([_l])]}),t})();function Cl(t,e){El(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&kl(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&kl(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Sl(t,e,n=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),xl(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Ol(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function El(t,e,n){const i=nl(t);null!==e.validator?t.setValidators(el(i,e.validator)):"function"==typeof i&&t.setValidators([i]);const r=il(t);if(null!==e.asyncValidator?t.setAsyncValidators(el(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]),n){const n=()=>t.updateValueAndValidity();Ol(e._rawValidators,n),Ol(e._rawAsyncValidators,n)}}function xl(t,e,n){let i=!1;if(null!==t){if(null!==e.validator){const n=nl(t);if(Array.isArray(n)&&n.length>0){const r=n.filter(t=>t!==e.validator);r.length!==n.length&&(i=!0,t.setValidators(r))}}if(null!==e.asyncValidator){const n=il(t);if(Array.isArray(n)&&n.length>0){const r=n.filter(t=>t!==e.asyncValidator);r.length!==n.length&&(i=!0,t.setAsyncValidators(r))}}}if(n){const t=()=>{};Ol(e._rawValidators,t),Ol(e._rawAsyncValidators,t)}return i}function kl(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Tl(t,e){El(t,e,!1)}const Il=[Mc,bl,dl,vl,wl,ml];function Al(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function Dl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Rl="VALID",jl="INVALID",Pl="PENDING",Nl="DISABLED";function Ll(t){return(Ul(t)?t.validators:t)||null}function Fl(t){return Array.isArray(t)?Jc(t):t||null}function Ml(t,e){return(Ul(e)?e.asyncValidators:t)||null}function Vl(t){return Array.isArray(t)?tl(t):t||null}function Ul(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Bl{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Fl(this._rawValidators),this._composedAsyncValidatorFn=Vl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Rl}get invalid(){return this.status===jl}get pending(){return this.status==Pl}get disabled(){return this.status===Nl}get enabled(){return this.status!==Nl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Fl(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Vl(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Pl,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Nl,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Rl,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Rl&&this.status!==Pl||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Nl:Rl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Pl,this._hasOwnPendingAsyncValidator=!0;const e=Gc(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let i=t;return e.forEach(t=>{i=i instanceof Hl?i.controls.hasOwnProperty(t)?i.controls[t]:null:i instanceof zl&&i.at(t)||null}),i}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.o,this.statusChanges=new r.o}_calculateStatus(){return this._allControlsDisabled()?Nl:this.errors?jl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pl)?Pl:this._anyControlsHaveStatus(jl)?jl:Rl}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ul(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ql extends Bl{constructor(t=null,e,n){super(Ll(e),Ml(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Dl(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Dl(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Hl extends Bl{constructor(t,e,n){super(Ll(e),Ml(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof ql?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,i)=>{n=e(n,t,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class zl extends Bl{constructor(t,e,n){super(Ll(e),Ml(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ql?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Kl={provide:sl,useExisting:Object(r.W)(()=>Yl)},Wl=(()=>Promise.resolve(null))();let Yl=(()=>{class t extends sl{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.o,this.form=new Hl({},Jc(t),tl(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Wl.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Cl(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Wl.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),Dl(this._directives,t)})}addFormGroup(t){Wl.then(()=>{const e=this._findContainer(t.path),n=new Hl({});Tl(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Wl.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Wl.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Al(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(zc,10),r.Ob(Kc,10))},t.\u0275dir=r.Jb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.bc("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Cb([Kl]),r.Ab]}),t})(),$l=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Gl=new r.s("NgModelWithFormControlWarning"),Ql={provide:sl,useExisting:Object(r.W)(()=>Zl)};let Zl=(()=>{class t extends sl{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.o,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(xl(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Cl(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){Sl(t.control||null,t,!1),Dl(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,Al(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(Sl(t.control||null,t),e&&Cl(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);Tl(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return xl(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){El(this.form,this,!1),this._oldForm&&xl(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(zc,10),r.Ob(Kc,10))},t.\u0275dir=r.Jb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.bc("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Cb([Ql]),r.Ab,r.Bb]}),t})();const Xl={provide:al,useExisting:Object(r.W)(()=>Jl)};let Jl=(()=>{class t extends al{constructor(t,e,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new r.o,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,i,r;return Array.isArray(e),e.forEach(t=>{var e;t.constructor===Bc?n=t:(e=t,Il.some(t=>e.constructor===t)?i=t:r=t)}),r||i||n||null}(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return t=null==this.name?this.name:this.name.toString(),[...this._parent.path,t];var t}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(sl,13),r.Ob(zc,10),r.Ob(Kc,10),r.Ob(Lc,10),r.Ob(Gl,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.Cb([Xl]),r.Ab,r.Bb]}),t._ngModelWarningSentOnce=!1,t})(),tu=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})(),eu=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let i,r=null,s=null;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,s=null!=e.asyncValidators?e.asyncValidators:null,i=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,s=null!=e.asyncValidator?e.asyncValidator:null)),new Hl(n,{asyncValidators:s,updateOn:i,validators:r})}control(t,e,n){return new ql(t,e,n)}array(t,e,n){const i=t.map(t=>this._createControl(t));return new zl(i,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof ql||t instanceof Hl||t instanceof zl?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),nu=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[pl],imports:[tu]}),t})(),iu=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Gl,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[eu,pl],imports:[tu]}),t})();function ru(t){return null!=t&&"false"!=`${t}`}function su(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function ou(t){return Array.isArray(t)?t:[t]}function au(t){return null==t?"":"string"==typeof t?t:`${t}px`}function cu(t){return t instanceof r.l?t.nativeElement:t}function lu(t,e){return n=>n.lift(new uu(t,e))}n("3N8a"),n("IjjT"),n("7Hc7");class uu{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new hu(t,this.compare,this.keySelector))}}class hu extends Vt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var du=n("D0XW");class fu{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new pu(t,this.durationSelector))}}class pu extends ee.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const i=Object(ee.c)(n,new ee.a(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var mu=n("Y7HM");function gu(t){const{index:e,period:n,subscriber:i}=t;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}function bu(t,e=du.a){return n=()=>function(t=0,e,n){let i=-1;return Object(mu.a)(e)?i=Number(e)<1?1:Number(e):Object(Ft.a)(e)&&(n=e),Object(Ft.a)(n)||(n=du.a),new Ht.a(e=>{const r=Object(mu.a)(t)?t:+t-n.now();return n.schedule(gu,r,{index:0,period:i,subscriber:e})})}(t,e),function(t){return t.lift(new fu(n))};var n}function yu(t){return e=>e.lift(new vu(t))}class vu{constructor(t){this.notifier=t}call(t,e){const n=new _u(t),i=Object(ee.c)(this.notifier,new ee.a(n));return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class _u extends ee.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function wu(){return t=>t.lift(new Cu)}class Cu{call(t,e){return e.subscribe(new Su(t))}}class Su extends Vt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var Ou=n("qgXg"),Eu=n("pxpQ"),xu=n("Ylt2");class ku extends Pt.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Tu(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,r=n.length;let s;if(this.closed)throw new Nt.a;if(this.isStopped||this.hasError?s=Pe.a.EMPTY:(this.observers.push(t),s=new xu.a(this,t)),i&&t.add(t=new Eu.a(t,i)),e)for(let o=0;o<r&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<r&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||Ou.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length;let s=0;for(;s<r&&!(t-i[s].time<n);)s++;return r>e&&(s=Math.max(s,r-e)),s>0&&i.splice(0,s),i}}class Tu{constructor(t,e){this.time=t,this.value=e}}function Iu(t,e,n){let i;return i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:i}){let r,s,o=0,a=!1,c=!1;return function(l){let u;o++,!r||a?(a=!1,r=new ku(t,e,i),u=r.subscribe(this),s=l.subscribe({next(t){r.next(t)},error(t){a=!0,r.error(t)},complete(){c=!0,s=void 0,r.complete()}}),c&&(s=void 0)):u=r.subscribe(this),this.add(()=>{o--,u.unsubscribe(),u=void 0,s&&!c&&n&&0===o&&(s.unsubscribe(),s=void 0,r=void 0)})}}(i))}let Au;try{Au="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(ML){Au=!1}let Du,Ru=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Q(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Au)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.D))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(r.D))},token:t,providedIn:"root"}),t})(),ju=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})();const Pu=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Nu(){if(Du)return Du;if("object"!=typeof document||!document)return Du=new Set(Pu),Du;let t=document.createElement("input");return Du=new Set(Pu.filter(e=>(t.setAttribute("type",e),t.type===e))),Du}let Lu,Fu,Mu,Vu;function Uu(t){return function(){if(null==Lu&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Lu=!0}))}finally{Lu=Lu||!1}return Lu}()?t:!!t.capture}function Bu(){if(null==Mu){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Mu=!1,Mu;if("scrollBehavior"in document.documentElement.style)Mu=!0;else{const t=Element.prototype.scrollTo;Mu=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return Mu}function qu(){if("object"!=typeof document||!document)return 0;if(null==Fu){const t=document.createElement("div"),e=t.style;t.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const n=document.createElement("div"),i=n.style;i.width="2px",i.height="1px",t.appendChild(n),document.body.appendChild(t),Fu=0,0===t.scrollLeft&&(t.scrollLeft=1,Fu=0===t.scrollLeft?1:2),t.parentNode.removeChild(t)}return Fu}const Hu=new r.s("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.X)(a)}});let zu=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.o,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Hu,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(Hu,8))},token:t,providedIn:"root"}),t})(),Ku=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})();function Wu(t){return t&&"function"==typeof t.connect}class Yu{applyChanges(t,e,n,i,r){t.forEachOperation((t,i,s)=>{let o,a;if(null==t.previousIndex){const r=n(t,i,s);o=e.createEmbeddedView(r.templateRef,r.context,r.index),a=1}else null==s?(e.remove(i),a=3):(o=e.get(i),e.move(o,s),a=2);r&&r({context:null==o?void 0:o.context,operation:a,record:t})})}detach(){}}class $u{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Pt.a,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}let Gu=(()=>{class t{constructor(){this._listeners=[]}notify(t,e){for(let n of this._listeners)n(t,e)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(e=>t!==e)}}ngOnDestroy(){this._listeners=[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Qu=new r.s("_ViewRepeater");let Zu=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new Pt.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ht.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(bu(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(jt.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(fe(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,t)&&e.push(i)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=cu(e),i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Rr(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.B),r.Yb(Ru),r.Yb(a,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(r.B),Object(r.Yb)(Ru),Object(r.Yb)(a,8))},token:t,providedIn:"root"}),t})(),Xu=(()=>{class t{constructor(t,e,n,i){this.elementRef=t,this.scrollDispatcher=e,this.ngZone=n,this.dir=i,this._destroyed=new Pt.a,this._elementScrolled=new Ht.a(t=>this.ngZone.runOutsideAngular(()=>Rr(this.elementRef.nativeElement,"scroll").pipe(yu(this._destroyed)).subscribe(t)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const e=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=n?t.end:t.start),null==t.right&&(t.right=n?t.start:t.end),null!=t.bottom&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),n&&0!=qu()?(null!=t.left&&(t.right=e.scrollWidth-e.clientWidth-t.left),2==qu()?t.left=t.right:1==qu()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const e=this.elementRef.nativeElement;Bu()?e.scrollTo(t):(null!=t.top&&(e.scrollTop=t.top),null!=t.left&&(e.scrollLeft=t.left))}measureScrollOffset(t){const e="left",n="right",i=this.elementRef.nativeElement;if("top"==t)return i.scrollTop;if("bottom"==t)return i.scrollHeight-i.clientHeight-i.scrollTop;const r=this.dir&&"rtl"==this.dir.value;return"start"==t?t=r?n:e:"end"==t&&(t=r?e:n),r&&2==qu()?t==e?i.scrollWidth-i.clientWidth-i.scrollLeft:i.scrollLeft:r&&1==qu()?t==e?i.scrollLeft+i.scrollWidth-i.clientWidth:-i.scrollLeft:t==e?i.scrollLeft:i.scrollWidth-i.clientWidth-i.scrollLeft}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(Zu),r.Ob(r.B),r.Ob(zu,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),t})(),Ju=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new Pt.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,i=n.getBoundingClientRect();return{top:-i.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-i.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(bu(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Ru),r.Yb(r.B),r.Yb(a,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(Ru),Object(r.Yb)(r.B),Object(r.Yb)(a,8))},token:t,providedIn:"root"}),t})(),th=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})(),eh=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[Ku,ju,th],Ku,th]}),t})();class nh{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class ih extends nh{constructor(t,e,n,i){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=i}}class rh extends nh{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class sh extends nh{constructor(t){super(),this.element=t instanceof r.l?t.nativeElement:t}}class oh{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof ih?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof rh?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof sh?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class ah extends oh{constructor(t,e,n,i,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=i,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=r}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),this._attachedPortal=t,n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let ch=(()=>{class t extends oh{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new r.o,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),i=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.j),r.Ob(r.S),r.Ob(a))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.Ab]}),t})(),lh=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})();var uh=n("VRyK");class hh{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new dh(t,this.predicate,this.inclusive))}}class dh extends Vt.a{constructor(t,e,n){super(t),this.predicate=e,this.inclusive=n,this.index=0}_next(t){const e=this.destination;let n;try{n=this.predicate(t,this.index++)}catch(i){return void e.error(i)}this.nextOrComplete(t,n)}nextOrComplete(t,e){const n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())}}function fh(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}const ph=Bu();class mh{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=au(-this._previousScrollPosition.left),t.style.top=au(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,i=e.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),ph&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ph&&(e.scrollBehavior=i,n.scrollBehavior=r)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class gh{constructor(t,e,n,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class bh{enable(){}disable(){}attach(){}}function yh(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function vh(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class _h{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();yh(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let wh=(()=>{class t{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new bh,this.close=t=>new gh(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new mh(this._viewportRuler,this._document),this.reposition=t=>new _h(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=i}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Zu),r.Yb(Ju),r.Yb(r.B),r.Yb(a))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(Zu),Object(r.Yb)(Ju),Object(r.Yb)(r.B),Object(r.Yb)(a))},token:t,providedIn:"root"}),t})();class Ch{constructor(t){if(this.scrollStrategy=new bh,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class Sh{constructor(t,e,n,i,r){this.offsetX=n,this.offsetY=i,this.panelClass=r,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class Oh{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let Eh=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(a))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(a))},token:t,providedIn:"root"}),t})(),xh=(()=>{class t extends Eh{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(a))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(a))},token:t,providedIn:"root"}),t})(),kh=(()=>{class t extends Eh{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let i=n.length-1;i>-1;i--){const r=n[i];if(!(r._outsidePointerEvents.observers.length<1)&&r.hasAttached()){if(r.overlayElement.contains(e))break;r._outsidePointerEvents.next(t)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(a),r.Yb(Ru))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(a),Object(r.Yb)(Ru))},token:t,providedIn:"root"}),t})();const Th=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let Ih=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Th){const e=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const e=this._document.createElement("div");e.classList.add(t),Th?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(a),r.Yb(Ru))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(a),Object(r.Yb)(Ru))},token:t,providedIn:"root"}),t})();class Ah{constructor(t,e,n,i,r,s,o,a,c){this._portalOutlet=t,this._host=e,this._pane=n,this._config=i,this._ngZone=r,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new Pt.a,this._attachments=new Pt.a,this._detachments=new Pt.a,this._locationChanges=Pe.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new Pt.a,this._outsidePointerEvents=new Pt.a,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(oe(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=au(this._config.width),t.height=au(this._config.height),t.minWidth=au(this._config.minWidth),t.minHeight=au(this._config.minHeight),t.maxWidth=au(this._config.maxWidth),t.maxHeight=au(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const i=t.classList;ou(e).forEach(t=>{t&&(n?i.add(t):i.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(yu(Object(uh.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const Dh="cdk-overlay-connected-position-bounding-box",Rh=/([A-Za-z%]+)$/;class jh{constructor(t,e,n,i,r){this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Pt.a,this._resizeSubscription=Pe.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(Dh),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,i=[];let r;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),c=this._getOverlayFit(a,e,n,s);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(c,a,n)?i.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!r||r.overlayFit.visibleArea<c.visibleArea)&&(r={overlayFit:c,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(i.length){let t=null,e=-1;for(const n of i){const i=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);i>e&&(e=i,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(r.position,r.originPoint);this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ph(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Dh),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,i;if("center"==e.originX)n=t.left+t.width/2;else{const i=this._isRtl()?t.right:t.left,r=this._isRtl()?t.left:t.right;n="start"==e.originX?i:r}return i="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:i}}_getOverlayPoint(t,e,n){let i,r;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+i,y:t.y+r}}_getOverlayFit(t,e,n,i){const r=Lh(e);let{x:s,y:o}=t,a=this._getOffset(i,"x"),c=this._getOffset(i,"y");a&&(s+=a),c&&(o+=c);let l=0-o,u=o+r.height-n.height,h=this._subtractOverflows(r.width,0-s,s+r.width-n.width),d=this._subtractOverflows(r.height,l,u),f=h*d;return{visibleArea:f,isCompletelyWithinViewport:r.width*r.height===f,fitsInViewportVertically:d===r.height,fitsInViewportHorizontally:h==r.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const i=n.bottom-e.y,r=n.right-e.x,s=Nh(this._overlayRef.getConfig().minHeight),o=Nh(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=r;return(t.fitsInViewportVertically||null!=s&&s<=i)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=Lh(e),r=this._viewportRect,s=Math.max(t.x+i.width-r.width,0),o=Math.max(t.y+i.height-r.height,0),a=Math.max(r.top-n.top-t.y,0),c=Math.max(r.left-n.left-t.x,0);let l=0,u=0;return l=i.width<=r.width?c||-s:t.x<this._viewportMargin?r.left-n.left-t.x:0,u=i.height<=r.height?a||-o:t.y<this._viewportMargin?r.top-n.top-t.y:0,this._previousPushAmount={x:l,y:u},{x:t.x+l,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new Oh(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,i=this._isRtl();let r,s,o,a,c,l;if("top"===e.overlayY)s=t.y,r=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,r=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),i=this._lastBoundingBoxSize.height;r=2*e,s=t.y-e,r>i&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-i/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)l=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)c=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),i=this._lastBoundingBoxSize.width;a=2*e,c=t.x-e,a>i&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.x-i/2)}return{top:s,left:c,bottom:o,right:l,width:a,height:r}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;i.height=au(n.height),i.top=au(n.top),i.bottom=au(n.bottom),i.width=au(n.width),i.left=au(n.left),i.right=au(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(i.maxHeight=au(t)),r&&(i.maxWidth=au(r))}this._lastBoundingBoxSize=n,Ph(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Ph(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ph(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},i=this._hasExactPosition(),r=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){const i=this._viewportRuler.getViewportScrollPosition();Ph(n,this._getExactOverlayY(e,t,i)),Ph(n,this._getExactOverlayX(e,t,i))}else n.position="static";let o="",a=this._getOffset(e,"x"),c=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),c&&(o+=`translateY(${c}px)`),n.transform=o.trim(),s.maxHeight&&(i?n.maxHeight=au(s.maxHeight):r&&(n.maxHeight="")),s.maxWidth&&(i?n.maxWidth=au(s.maxWidth):r&&(n.maxWidth="")),Ph(this._pane.style,n)}_getExactOverlayY(t,e,n){let i={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=s,"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":i.top=au(r.y),i}_getExactOverlayX(t,e,n){let i,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),i=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===i?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=au(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:vh(t,n),isOriginOutsideView:yh(t,n),isOverlayClipped:vh(e,n),isOverlayOutsideView:yh(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&ou(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function Ph(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Nh(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(Rh);return n&&"px"!==n?null:parseFloat(e)}return t||null}function Lh(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}class Fh{constructor(t,e,n,i,r,s,o){this._preferredPositions=[],this._positionStrategy=new jh(n,i,r,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,i){const r=new Sh(t,e,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const Mh="cdk-global-overlay-wrapper";class Vh{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Mh),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:i,height:r,maxWidth:s,maxHeight:o}=n,a=!("100%"!==i&&"100vw"!==i||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==r&&"100vh"!==r||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(Mh),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Uh=(()=>{class t{constructor(t,e,n,i){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=i}global(){return new Vh}connectedTo(t,e,n){return new Fh(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new jh(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Ju),r.Yb(a),r.Yb(Ru),r.Yb(Ih))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(Ju),Object(r.Yb)(a),Object(r.Yb)(Ru),Object(r.Yb)(Ih))},token:t,providedIn:"root"}),t})(),Bh=0,qh=(()=>{class t{constructor(t,e,n,i,r,s,o,a,c,l,u){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=i,this._keyboardDispatcher=r,this._injector=s,this._ngZone=o,this._document=a,this._directionality=c,this._location=l,this._outsideClickDispatcher=u}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),i=this._createPortalOutlet(n),r=new Ch(t);return r.direction=r.direction||this._directionality.value,new Ah(i,e,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+Bh++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.g)),new ah(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(wh),r.Yb(Ih),r.Yb(r.j),r.Yb(Uh),r.Yb(xh),r.Yb(r.t),r.Yb(r.B),r.Yb(a),r.Yb(zu),r.Yb(C),r.Yb(kh))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const Hh=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],zh=new r.s("cdk-connected-overlay-scroll-strategy");let Kh=(()=>{class t{constructor(t){this.elementRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),Wh=(()=>{class t{constructor(t,e,n,i,s){this._overlay=t,this._dir=s,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Pe.a.EMPTY,this._attachSubscription=Pe.a.EMPTY,this._detachSubscription=Pe.a.EMPTY,this._positionSubscription=Pe.a.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new r.o,this.positionChange=new r.o,this.attach=new r.o,this.detach=new r.o,this.overlayKeydown=new r.o,this.overlayOutsideClick=new r.o,this._templatePortal=new rh(e,n),this._scrollStrategyFactory=i,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=ru(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=ru(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=ru(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=ru(t)}get push(){return this._push}set push(t){this._push=ru(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=Hh);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),27!==t.keyCode||this.disableClose||fh(t)||(t.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(t=>{this.overlayOutsideClick.next(t)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new Ch({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}_updatePositionStrategy(t){const e=this.positions.map(t=>({originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||this.offsetX,offsetY:t.offsetY||this.offsetY,panelClass:t.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(t,e=!1){return n=>n.lift(new hh(t,e))}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(qh),r.Ob(r.N),r.Ob(r.S),r.Ob(zh),r.Ob(zu,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[r.Bb]}),t})();const Yh={provide:zh,deps:[qh],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let $h=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[qh,Yh],imports:[[Ku,lh,eh],eh]}),t})();function Gh(t,e=du.a){return n=>n.lift(new Qh(t,e))}class Qh{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Zh(t,this.dueTime,this.scheduler))}}class Zh extends Vt.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Xh,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Xh(t){t.debouncedNext()}let Jh=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),td=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=cu(t);return new Ht.a(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new Pt.a,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Jh))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(Jh))},token:t,providedIn:"root"}),t})(),ed=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new r.o,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=ru(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=su(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Gh(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(td),r.Ob(r.l),r.Ob(r.B))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),nd=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[Jh]}),t})();class id{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Pt.a,this._typeaheadSubscription=Pe.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Pt.a,this.change=new Pt.a,t instanceof r.F&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(je.a)(t=>this._pressedLetters.push(t)),Gh(t),fe(()=>this._pressedLetters.length>0),Object(te.a)(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const i=(this._activeItemIndex+n)%e.length,r=e[i];if(!this._skipPredicateFn(r)&&0===r.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(i);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||fh(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),i=e[n];this._activeItem=null==i?null:i,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const i=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof r.F?this._items.toArray():this._items}}class rd extends id{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class sd extends id{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let od=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(ML){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){if(-1===cd(e))return!1;if(!this.isVisible(e))return!1}let i=t.nodeName.toLowerCase(),r=cd(t);return t.hasAttribute("contenteditable")?-1!==r:"iframe"!==i&&"object"!==i&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==r:"video"===i?-1!==r&&(null!==r||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||ad(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Ru))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(Ru))},token:t,providedIn:"root"}),t})();function ad(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function cd(t){if(!ad(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class ld{constructor(t,e,n,i,r=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,r||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const e=this._getFirstTabbableElement(t);return null==e||e.focus(),!!e}return t.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(oe(1)).subscribe(t)}}let ud=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new ld(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(od),r.Yb(r.B),r.Yb(a))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(od),Object(r.Yb)(r.B),Object(r.Yb)(a))},token:t,providedIn:"root"}),t})();"undefined"!=typeof Element&&Element;const hd=new r.s("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),dd=new r.s("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let fd=(()=>{class t{constructor(t,e,n,i){this._ngZone=e,this._defaultOptions=i,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let i,r;return 1===e.length&&"number"==typeof e[0]?r=e[0]:[i,r]=e,this.clear(),clearTimeout(this._previousTimeout),i||(i=n&&n.politeness?n.politeness:"polite"),null==r&&n&&(r=n.duration),this._liveElement.setAttribute("aria-live",i),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof r&&(this._previousTimeout=setTimeout(()=>this.clear(),r))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t="cdk-live-announcer-element",e=this._document.getElementsByClassName(t),n=this._document.createElement("div");for(let i=0;i<e.length;i++)e[i].parentNode.removeChild(e[i]);return n.classList.add(t),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),n}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(hd,8),r.Yb(r.B),r.Yb(a),r.Yb(dd,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(hd,8),Object(r.Yb)(r.B),Object(r.Yb)(a),Object(r.Yb)(dd,8))},token:t,providedIn:"root"}),t})();function pd(t){return 0===t.buttons}function md(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const gd=new r.s("cdk-focus-monitor-default-options"),bd=Uu({passive:!0,capture:!0});let yd=(()=>{class t{constructor(t,e,n,i){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=pd(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{md(t)?this._lastTouchTarget||this._setOriginForCurrentEventQueue("keyboard"):(null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=vd(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650))},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=vd(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let i=e;i;i=i.parentElement)n.call(this,t,i)},this._document=n,this._detectionMode=(null==i?void 0:i.detectionMode)||0}monitor(t,e=!1){const n=cu(t);if(!this._platform.isBrowser||1!==n.nodeType)return Object(jt.a)(null);const i=function(t){if(function(){if(null==Vu){const t="undefined"!=typeof document?document.head:null;Vu=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Vu}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),r=this._elementInfo.get(n);if(r)return e&&(r.checkChildren=!0),r.subject;const s={checkChildren:e,subject:new Pt.a,rootNode:i};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){const e=cu(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const i=cu(t);i===this._getDocument().activeElement?this._getClosestElementsInfo(i).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOriginForCurrentEventQueue(e),"function"==typeof i.focus&&i.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=vd(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);n&&(n.checkChildren||e===vd(t))&&this._originChanged(e,this._getFocusOrigin(t),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,bd),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,bd)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,bd),t.addEventListener("mousedown",this._documentMousedownListener,bd),t.addEventListener("touchstart",this._documentTouchstartListener,bd),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,bd),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,bd),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,bd),t.removeEventListener("mousedown",this._documentMousedownListener,bd),t.removeEventListener("touchstart",this._documentTouchstartListener,bd),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,i)=>{(i===t||n.checkChildren&&i.contains(t))&&e.push([i,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.B),r.Yb(Ru),r.Yb(a,8),r.Yb(gd,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(r.B),Object(r.Yb)(Ru),Object(r.Yb)(a,8),Object(r.Yb)(gd,8))},token:t,providedIn:"root"}),t})();function vd(t){return t.composedPath?t.composedPath()[0]:t.target}const _d="cdk-high-contrast-black-on-white",wd="cdk-high-contrast-white-on-black",Cd="cdk-high-contrast-active";let Sd=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,i=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),i){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Cd),t.remove(_d),t.remove(wd);const e=this.getHighContrastMode();1===e?(t.add(Cd),t.add(_d)):2===e&&(t.add(Cd),t.add(wd))}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Ru),r.Yb(a))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(Ru),Object(r.Yb)(a))},token:t,providedIn:"root"}),t})();const Od=new r.R("11.2.9");class Ed{}const xd="*";function kd(t,e){return{type:7,name:t,definitions:e,options:{}}}function Td(t,e=null){return{type:4,styles:e,timings:t}}function Id(t,e=null){return{type:2,steps:t,options:e}}function Ad(t){return{type:6,styles:t,offset:null}}function Dd(t,e,n){return{type:0,name:t,styles:e,options:n}}function Rd(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function jd(t=null){return{type:9,options:t}}function Pd(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function Nd(t){Promise.resolve(null).then(t)}class Ld{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Nd(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Fd{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,i=0;const r=this.players.length;0==r?Nd(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==r&&this._onFinish()}),t.onDestroy(()=>{++n==r&&this._onDestroy()}),t.onStart(()=>{++i==r&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Md(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Vd(t){switch(t.length){case 0:return new Ld;case 1:return t[0];default:return new Fd(t)}}function Ud(t,e,n,i,r={},s={}){const o=[],a=[];let c=-1,l=null;if(i.forEach(t=>{const n=t.offset,i=n==c,u=i&&l||{};Object.keys(t).forEach(n=>{let i=n,a=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,o),a){case"!":a=r[n];break;case xd:a=s[n];break;default:a=e.normalizeStyleValue(n,i,a,o)}u[i]=a}),i||a.push(u),l=u,c=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function Bd(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&qd(n,"start",t)));break;case"done":t.onDone(()=>i(n&&qd(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&qd(n,"destroy",t)))}}function qd(t,e,n){const i=n.totalTime,r=Hd(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),s=t._data;return null!=s&&(r._data=s),r}function Hd(t,e,n,i,r="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function zd(t,e,n){let i;return t instanceof Map?(i=t.get(e),i||t.set(e,i=n)):(i=t[e],i||(i=t[e]=n)),i}function Kd(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Wd=(t,e)=>!1,Yd=(t,e)=>!1,$d=(t,e,n)=>[];const Gd=Md();(Gd||"undefined"!=typeof Element)&&(Wd=(t,e)=>t.contains(e),Yd=(()=>{if(Gd||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Yd}})(),$d=(t,e,n)=>{let i=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)i.push(n[t])}else{const n=t.querySelector(e);n&&i.push(n)}return i});let Qd=null,Zd=!1;function Xd(t){Qd||(Qd=("undefined"!=typeof document?document.body:null)||{},Zd=!!Qd.style&&"WebkitAppearance"in Qd.style);let e=!0;return Qd.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Qd.style,!e&&Zd)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Qd.style),e}const Jd=Yd,tf=Wd,ef=$d;function nf(t){const e={};return Object.keys(t).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}let rf=(()=>{class t{validateStyleProperty(t){return Xd(t)}matchesElement(t,e){return Jd(t,e)}containsElement(t,e){return tf(t,e)}query(t,e,n){return ef(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,i,r,s=[],o){return new Ld(n,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),sf=(()=>{class t{}return t.NOOP=new rf,t})();const of="ng-enter",af="ng-leave",cf="ng-trigger",lf=".ng-trigger",uf="ng-animating",hf=".ng-animating";function df(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ff(parseFloat(e[1]),e[2])}function ff(t,e){switch(e){case"s":return 1e3*t;default:return t}}function pf(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let i,r=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};i=ff(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(r=ff(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else i=t;if(!n){let n=!1,s=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:i,delay:r,easing:s}}(t,e,n)}function mf(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function gf(t,e,n={}){if(e)for(let i in t)n[i]=t[i];else mf(t,n);return n}function bf(t,e,n){return n?e+":"+n+";":""}function yf(t){let e="";for(let n=0;n<t.style.length;n++){const i=t.style.item(n);e+=bf(0,i,t.style.getPropertyValue(i))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=bf(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function vf(t,e,n){t.style&&(Object.keys(e).forEach(i=>{const r=kf(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[r]),t.style[r]=e[i]}),Md()&&yf(t))}function _f(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=kf(e);t.style[n]=""}),Md()&&yf(t))}function wf(t){return Array.isArray(t)?1==t.length?t[0]:Id(t):t}const Cf=new RegExp("{{\\s*(.+?)\\s*}}","g");function Sf(t){let e=[];if("string"==typeof t){let n;for(;n=Cf.exec(t);)e.push(n[1]);Cf.lastIndex=0}return e}function Of(t,e,n){const i=t.toString(),r=i.replace(Cf,(t,i)=>{let r=e[i];return e.hasOwnProperty(i)||(n.push(`Please provide a value for the animation param ${i}`),r=""),r.toString()});return r==i?t:r}function Ef(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const xf=/-+([a-z0-9])/g;function kf(t){return t.replace(xf,(...t)=>t[1].toUpperCase())}function Tf(t,e){return 0===t||0===e}function If(t,e,n){const i=Object.keys(n);if(i.length&&e.length){let s=e[0],o=[];if(i.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var r=1;r<e.length;r++){let n=e[r];o.forEach(function(e){n[e]=Df(t,e)})}}return e}function Af(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Df(t,e){return window.getComputedStyle(t)[e]}const Rf="*";function jf(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const r=i[1],s=i[2],o=i[3];e.push(Lf(r,o)),"<"!=s[0]||r==Rf&&o==Rf||e.push(Lf(o,r))}(t,n,e)):n.push(t),n}const Pf=new Set(["true","1"]),Nf=new Set(["false","0"]);function Lf(t,e){const n=Pf.has(t)||Nf.has(t),i=Pf.has(e)||Nf.has(e);return(r,s)=>{let o=t==Rf||t==r,a=e==Rf||e==s;return!o&&n&&"boolean"==typeof r&&(o=r?Pf.has(t):Nf.has(t)),!a&&i&&"boolean"==typeof s&&(a=s?Pf.has(e):Nf.has(e)),o&&a}}const Ff=new RegExp("s*:selfs*,?","g");function Mf(t,e,n){return new Vf(t).build(e,n)}class Vf{constructor(t){this._driver=t}build(t,e){const n=new Uf(e);return this._resetContextStyleTimingState(n),Af(this,wf(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0;const r=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,i=n.name;i.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,r.push(this.visitState(n,e))}),n.name=i}else if(1==t.type){const r=this.visitTransition(t,e);n+=r.queryCount,i+=r.depCount,s.push(r)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:s,queryCount:n,depCount:i,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){const r=new Set,s=i||{};if(n.styles.forEach(t=>{if(Bf(t)){const e=t;Object.keys(e).forEach(t=>{Sf(e[t]).forEach(t=>{s.hasOwnProperty(t)||r.add(t)})})}}),r.size){const n=Ef(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Af(this,wf(t.animation),e);return{type:1,matchers:jf(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:qf(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Af(this,t,e)),options:qf(t.options)}}visitGroup(t,e){const n=e.currentTime;let i=0;const r=t.steps.map(t=>{e.currentTime=n;const r=Af(this,t,e);return i=Math.max(i,e.currentTime),r});return e.currentTime=i,{type:3,steps:r,options:qf(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Hf(pf(t,e).duration,0,"");const i=t;if(i.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Hf(0,0,"");return t.dynamic=!0,t.strValue=i,t}return n=n||pf(i,e),Hf(n.duration,n.delay,n.easing)}(t.timings,e.errors);let i;e.currentAnimateTimings=n;let r=t.styles?t.styles:Ad({});if(5==r.type)i=this.visitKeyframes(r,e);else{let r=t.styles,s=!1;if(!r){s=!0;const t={};n.easing&&(t.easing=n.easing),r=Ad(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(r,e);o.isEmptyStep=s,i=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==xd?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let i=!1,r=null;return n.forEach(t=>{if(Bf(t)){const e=t,n=e.easing;if(n&&(r=n,delete e.easing),!i)for(let t in e)if(e[t].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let i=e.currentTime,r=e.currentTime;n&&r>0&&(r-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(r!=i&&r>=o.startTime&&i<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${i}ms"`),a=!1),r=o.startTime),a&&(s[n]={startTime:r,endTime:i}),e.options&&function(t,e,n){const i=e.params||{},r=Sf(t);r.length&&r.forEach(t=>{i.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const r=[];let s=!1,o=!1,a=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Bf(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Bf(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),l=0;return null!=c&&(i++,l=n.offset=c),o=o||l<0||l>1,s=s||l<a,a=l,r.push(l),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const l=t.steps.length;let u=0;i>0&&i<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(u=1/(l-1));const h=l-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return c.forEach((t,i)=>{const s=u>0?i==h?1:u*i:r[i],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Af(this,wf(t.animation),e),options:qf(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:qf(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:qf(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[r,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(Ff,"")),[t=t.replace(/@\*/g,lf).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,hf),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+r:r,zd(e.collectedStyles,e.currentQuerySelector,{});const o=Af(this,wf(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:qf(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:pf(t.timings,e.errors,!0);return{type:12,animation:Af(this,wf(t.animation),e),timings:n,options:null}}}class Uf{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Bf(t){return!Array.isArray(t)&&"object"==typeof t}function qf(t){var e;return t?(t=mf(t)).params&&(t.params=(e=t.params)?mf(e):null):t={},t}function Hf(t,e,n){return{duration:t,delay:e,easing:n}}function zf(t,e,n,i,r,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class Kf{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Wf=new RegExp(":enter","g"),Yf=new RegExp(":leave","g");function $f(t,e,n,i,r,s={},o={},a,c,l=[]){return(new Gf).buildKeyframes(t,e,n,i,r,s,o,a,c,l)}class Gf{buildKeyframes(t,e,n,i,r,s,o,a,c,l=[]){c=c||new Kf;const u=new Zf(t,e,c,i,r,l,[]);u.options=a,u.currentTimeline.setStyles([s],null,u.errors,a),Af(this,n,u);const h=u.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,u.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[zf(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const i=e.createSubContext(t.options),r=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,i,i.options);r!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let i=e.currentTimeline.currentTime;const r=null!=n.duration?df(n.duration):null,s=null!=n.delay?df(n.delay):null;return 0!==r&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,r,s);i=Math.max(i,n.duration+n.delay)}),i}visitReference(t,e){e.updateOptions(t.options,!0),Af(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let i=e;const r=t.options;if(r&&(r.params||r.delay)&&(i=e.createSubContext(r),i.transformIntoNewTimeline(),null!=r.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Qf);const t=df(r.delay);i.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Af(this,t,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let i=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?df(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);r&&o.delayNextStep(r),Af(this,s,o),i=Math.max(i,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return pf(e.params?Of(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,i=e.currentTimeline.duration,r=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*r),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(i+r),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,i=t.options||{},r=i.delay?df(i.delay):0;r&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Qf);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,i)=>{e.currentQueryIndex=i;const o=e.createSubContext(t.options,n);r&&o.delayNextStep(r),n===e.element&&(a=o.currentTimeline),Af(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,i=e.currentTimeline,r=t.timings,s=Math.abs(r.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const l=c.currentTime;Af(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-l+(i.startTime-n.currentTimeline.startTime)}}const Qf={};class Zf{constructor(t,e,n,i,r,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=r,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Qf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Xf(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let i=this.options;null!=n.duration&&(i.duration=df(n.duration)),null!=n.delay&&(i.delay=df(n.delay));const r=n.params;if(r){let t=i.params;t||(t=this.options.params={}),Object.keys(r).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Of(r[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const i=e||this.element,r=new Zf(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=Qf,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new Jf(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,r,s){let o=[];if(i&&o.push(this.element),t.length>0){t=(t=t.replace(Wf,"."+this._enterClassName)).replace(Yf,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return r||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class Xf{constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Xf(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||xd,this._currentKeyframe[t]=xd}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&(this._previousKeyframe.easing=e);const r=i&&i.params||{},s=function(t,e){const n={};let i;return t.forEach(t=>{"*"===t?(i=i||Object.keys(e),i.forEach(t=>{n[t]=xd})):gf(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=Of(s[t],r,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:xd),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],i=t._styleSummary[e];(!n||i.time>n.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((r,s)=>{const o=gf(r,!0);Object.keys(o).forEach(n=>{const i=o[n];"!"==i?t.add(n):i==xd&&e.add(n)}),n||(o.offset=s/this.duration),i.push(o)});const r=t.size?Ef(t.values()):[],s=e.size?Ef(e.values()):[];if(n){const t=i[0],e=mf(t);t.offset=0,e.offset=1,i=[t,e]}return zf(this.element,i,r,s,this.duration,this.startTime,this.easing,!1)}}class Jf extends Xf{constructor(t,e,n,i,r,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],s=n+e,o=e/s,a=gf(t[0],!1);a.offset=0,r.push(a);const c=gf(t[0],!1);c.offset=tp(o),r.push(c);const l=t.length-1;for(let i=1;i<=l;i++){let o=gf(t[i],!1);o.offset=tp((e+o.offset*n)/s),r.push(o)}n=s,e=0,i="",t=r}return zf(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}}function tp(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class ep{}class np extends ep{normalizePropertyName(t,e){return kf(t)}normalizeStyleValue(t,e,n,i){let r="";const s=n.toString().trim();if(ip[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&i.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+r}}const ip=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function rp(t,e,n,i,r,s,o,a,c,l,u,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:h,errors:d}}const sp={};class op{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return function(t,e,n,i,r){return t.some(t=>t(e,n,i,r))}(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){const i=this._stateStyles["*"],r=this._stateStyles[t],s=i?i.buildStyles(e,n):{};return r?r.buildStyles(e,n):s}build(t,e,n,i,r,s,o,a,c,l){const u=[],h=this.ast.options&&this.ast.options.params||sp,d=this.buildStyles(n,o&&o.params||sp,u),f=a&&a.params||sp,p=this.buildStyles(i,f,u),m=new Set,g=new Map,b=new Map,y="void"===i,v={params:Object.assign(Object.assign({},h),f)},_=l?[]:$f(t,e,this.ast.animation,r,s,d,p,v,c,u);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),u.length)return rp(e,this._triggerName,n,i,y,d,p,[],[],g,b,w,u);_.forEach(t=>{const n=t.element,i=zd(g,n,{});t.preStyleProps.forEach(t=>i[t]=!0);const r=zd(b,n,{});t.postStyleProps.forEach(t=>r[t]=!0),n!==e&&m.add(n)});const C=Ef(m.values());return rp(e,this._triggerName,n,i,y,d,p,_,C,g,b,w)}}class ap{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},i=mf(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(i[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const r=t;Object.keys(r).forEach(t=>{let s=r[t];s.length>1&&(s=Of(s,i,e)),n[t]=s})}}),n}}class cp{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new ap(t.style,t.options&&t.options.params||{})}),lp(this.states,"true","1"),lp(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new op(t,e,this.states))}),this.fallbackTransition=new op(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(r=>r.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function lp(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const up=new Kf;class hp{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],i=Mf(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=i}_buildPlayer(t,e,n){const i=t.element,r=Ud(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const i=[],r=this._animations[t];let s;const o=new Map;if(r?(s=$f(this._driver,e,r,of,af,{},{},n,up,i),s.forEach(t=>{const e=zd(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),s=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,xd)})});const a=Vd(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,i){const r=Hd(e,"","","");return Bd(this._getPlayer(t),n,r,i),()=>{}}command(t,e,n,i){if("register"==n)return void this.register(t,i[0]);if("create"==n)return void this.create(t,e,i[0]||{});const r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const dp="ng-animate-queued",fp="ng-animate-disabled",pp=".ng-animate-disabled",mp=[],gp={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bp={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class yp{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(i=n?t.value:t)?i:null,n){const e=mf(t);delete e.value,this.options=e}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const vp="void",_p=new yp(vp);class wp{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Tp(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(r=n)&&"done"!=r)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var r;const s=zd(this._elementListeners,t,[]),o={name:e,phase:n,callback:i};s.push(o);const a=zd(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Tp(t,cf),Tp(t,"ng-trigger-"+e),a[e]=_p),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,i=!0){const r=this._getTrigger(e),s=new Sp(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Tp(t,cf),Tp(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const c=new yp(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),o[e]=c,a||(a=_p),c.value!==vp&&a.value===c.value){if(!function(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const i=n[r];if(!e.hasOwnProperty(i)||t[i]!==e[i])return!1}return!0}(a.params,c.params)){const e=[],n=r.matchStyles(a.value,a.params,e),i=r.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{_f(t,n),vf(t,i)})}return}const l=zd(this._engine.playersByElement,t,[]);l.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let u=r.matchTransition(a.value,c.value,t,c.params),h=!1;if(!u){if(!i)return;u=r.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:u,fromState:a,toState:c,player:s,isFallbackTransition:h}),h||(Tp(t,dp),s.onStart(()=>{Ip(t,dp)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),l.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,lf,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,i){const r=this._engine.statesByElement.get(t);if(r){const s=[];if(Object.keys(r).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,vp,i);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Vd(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const i=e.name;if(n.has(i))return;n.add(i);const r=this._triggers[i].fallbackTransition,s=this._engine.statesByElement.get(t)[i]||_p,o=new yp(vp),a=new Sp(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:r,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)i=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)n.markElementAsRemoved(this.id,t,!1,e);else{const i=t.__ng_removed;i&&i!==gp||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Tp(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const r=n.element,s=this._elementListeners.get(r);s&&s.forEach(e=>{if(e.name==n.triggerName){const i=Hd(r,n.triggerName,n.fromState.value,n.toState.value);i._data=t,Bd(n.player,e.phase,i,e.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,i=e.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Cp{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new wp(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=n[t[i]].namespaceId;if(r){const t=this._fetchNamespace(r);t&&e.add(t)}}}return e}trigger(t,e,n,i){if(Op(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!Op(e))return;const r=e.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const i=this._fetchNamespace(t);i&&i.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Tp(t,fp)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ip(t,fp))}removeNode(t,e,n,i){if(Op(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,n,i){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,i,r){return Op(e)?this._fetchNamespace(t).listen(e,n,i,r):()=>{}}_buildInstruction(t,e,n,i,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,lf,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,hf,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Vd(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=gp,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,pp)&&this.markElementAsDisabled(t,!1),this.driver.query(t,pp,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Tp(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Vd(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new Kf,i=[],r=new Map,s=[],o=new Map,a=new Map,c=new Map,l=new Set;this.disabledNodes.forEach(t=>{l.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)l.add(e[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=kp(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=of+p++;f.set(e,n),t.forEach(t=>Tp(t,n))});const m=[],g=new Set,b=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):b.add(t))}const y=new Map,v=kp(h,Array.from(g));v.forEach((t,e)=>{const n=af+p++;y.set(e,n),t.forEach(t=>Tp(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>Ip(t,n))}),v.forEach((t,e)=>{const n=y.get(e);t.forEach(t=>Ip(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,r=t.element;if(_.push(e),this.collectedEnterElements.length){const t=r.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const l=!u||!this.driver.containsElement(u,r),h=y.get(r),d=f.get(r),p=this._buildInstruction(t,n,d,h,l);if(p.errors&&p.errors.length)w.push(p);else{if(l)return e.onStart(()=>_f(r,p.fromStyles)),e.onDestroy(()=>vf(r,p.toStyles)),void i.push(e);if(t.isFallbackTransition)return e.onStart(()=>_f(r,p.fromStyles)),e.onDestroy(()=>vf(r,p.toStyles)),void i.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(r,p.timelines),s.push({instruction:p,player:e,element:r}),p.queriedElements.forEach(t=>zd(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let i=c.get(e);i||c.set(e,i=new Set),n.forEach(t=>i.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const C=new Map,S=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,C))}),i.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{zd(C,e,[]).push(t),t.destroy()})});const O=m.filter(t=>Rp(t,a,c)),E=new Map;xp(E,this.driver,b,c,xd).forEach(t=>{Rp(t,a,c)&&O.push(t)});const x=new Map;d.forEach((t,e)=>{xp(x,this.driver,new Set(t),a,"!")}),O.forEach(t=>{const e=E.get(t),n=x.get(t);E.set(t,Object.assign(Object.assign({},e),n))});const k=[],T=[],I={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(l.has(e))return s.onDestroy(()=>vf(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void i.push(s);let t=I;if(S.size>1){let n=e;const i=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}i.push(n)}i.forEach(e=>S.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,C,r,x,E);if(s.setRealPlayer(n),t===I)k.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=Vd(e)),i.push(s)}}else _f(e,o.fromStyles),s.onDestroy(()=>vf(e,o.toStyles)),T.push(s),l.has(e)&&i.push(s)}),T.forEach(t=>{const e=r.get(t.element);if(e&&e.length){const n=Vd(e);t.setRealPlayer(n)}}),i.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<m.length;A++){const t=m[A],e=t.__ng_removed;if(Ip(t,af),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let i=this.driver.query(t,hf,!0);for(let t=0;t<i.length;t++){let e=o.get(i[t]);e&&e.length&&n.push(...e)}}const i=n.filter(t=>!t.destroyed);i.length?Ap(this,t,i):this.processLeaveNode(t)}return m.length=0,k.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),k}elementContainsData(t,e){let n=!1;const i=e.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,r){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!r||r==vp;e.forEach(e=>{e.queued||(t||e.triggerName==i)&&s.push(e)})}}return(n||i)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||i&&i!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const i=e.element,r=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==i,c=zd(n,t,[]);this._getPreviousPlayers(t,a,r,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}_f(i,e.fromStyles)}_buildAnimation(t,e,n,i,r,s){const o=e.triggerName,a=e.element,c=[],l=new Set,u=new Set,h=e.timelines.map(e=>{const h=e.element;l.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Ld(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return Dp(t,e),e}((n.get(h)||mp).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=r.get(h),g=s.get(h),b=Ud(0,this._normalizer,0,e.keyframes,m,g),y=this._buildPlayer(e,b,p);if(e.subTimeline&&i&&u.add(h),f){const e=new Sp(t,o,h);e.setRealPlayer(y),c.push(e)}return y});c.forEach(t=>{zd(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let i;if(t instanceof Map){if(i=t.get(e),i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&t.delete(e)}}else if(i=t[e],i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&delete t[e]}return i}(this.playersByQueriedElement,t.element,t))}),l.forEach(t=>Tp(t,uf));const d=Vd(h);return d.onDestroy(()=>{l.forEach(t=>Ip(t,uf)),vf(a,e.toStyles)}),u.forEach(t=>{zd(i,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Ld(t.duration,t.delay)}}class Sp{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Ld,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Bd(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){zd(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Op(t){return t&&1===t.nodeType}function Ep(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function xp(t,e,n,i,r){const s=[];n.forEach(t=>s.push(Ep(t)));const o=[];i.forEach((n,i)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(i,t,r);n&&0!=n.length||(i.__ng_removed=bp,o.push(i))}),t.set(i,s)});let a=0;return n.forEach(t=>Ep(t,s[a++])),o}function kp(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const i=new Set(e),r=new Map;function s(t){if(!t)return 1;let e=r.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:i.has(o)?1:s(o),r.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function Tp(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Ip(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Ap(t,e,n){Vd(n).onDone(()=>t.processLeaveNode(e))}function Dp(t,e){for(let n=0;n<t.length;n++){const i=t[n];i instanceof Fd?Dp(i.players,e):e.push(i)}}function Rp(t,e,n){const i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(t=>r.add(t)):e.set(t,i),n.delete(t),!0}class jp{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Cp(t,e,n),this._timelineEngine=new hp(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,i,r){const s=t+"-"+i;let o=this._triggerCache[s];if(!o){const t=[],e=Mf(this._driver,r,t);if(t.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new cp(t,e)}(i,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,i,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if("@"==n.charAt(0)){const[t,r]=Kd(n);this._timelineEngine.command(t,e,r,i)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,r){if("@"==n.charAt(0)){const[t,i]=Kd(n);return this._timelineEngine.listen(t,e,i,r)}return this._transitionEngine.listen(t,e,n,i,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Pp(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=Lp(e[0]),e.length>1&&(i=Lp(e[e.length-1]))):e&&(n=Lp(e)),n||i?new Np(t,n,i):null}let Np=(()=>{class t{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&vf(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(vf(this._element,this._initialStyles),this._endStyles&&(vf(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(_f(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_f(this._element,this._endStyles),this._endStyles=null),vf(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Lp(t){let e=null;const n=Object.keys(t);for(let i=0;i<n.length;i++){const r=n[i];Fp(r)&&(e=e||{},e[r]=t[r])}return e}function Fp(t){return"display"===t||"position"===t}const Mp="animation",Vp="animationend";class Up{constructor(t,e,n,i,r,s,o){this._element=t,this._name=e,this._duration=n,this._delay=i,this._easing=r,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Wp(t,"").trim();n.length&&(function(t,e){let n=0;for(let i=0;i<t.length;i++)","===t.charAt(i)&&n++}(n),e=`${n}, ${e}`),Kp(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),zp(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Bp(this._element,this._name,"paused")}resume(){Bp(this._element,this._name,"running")}setPosition(t){const e=qp(this._element,this._name);this._position=t*this._duration,Kp(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),zp(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Wp(t,"").split(","),i=Hp(n,e);i>=0&&(n.splice(i,1),Kp(t,"",n.join(",")))}(this._element,this._name))}}function Bp(t,e,n){Kp(t,"PlayState",n,qp(t,e))}function qp(t,e){const n=Wp(t,"");return n.indexOf(",")>0?Hp(n.split(","),e):Hp([n],e)}function Hp(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function zp(t,e,n){n?t.removeEventListener(Vp,e):t.addEventListener(Vp,e)}function Kp(t,e,n,i){const r=Mp+e;if(null!=i){const e=t.style[r];if(e.length){const t=e.split(",");t[i]=n,n=t.join(",")}}t.style[r]=n}function Wp(t,e){return t.style[Mp+e]||""}class Yp{constructor(t,e,n,i,r,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=i,this._delay=r,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=i+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Up(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Df(this.element,n))})}this.currentSnapshot=t}}class $p extends Ld{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=nf(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Gp{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return Xd(t)}matchesElement(t,e){return Jd(t,e)}containsElement(t,e){return tf(t,e)}query(t,e,n){return ef(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>nf(t));let i=`@keyframes ${e} {\n`,r="";n.forEach(t=>{r=" ";const e=parseFloat(t.offset);i+=`${r}${100*e}% {\n`,r+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+=`${r}animation-timing-function: ${n};\n`));default:return void(i+=`${r}${e}: ${n};\n`)}}),i+=`${r}}\n`}),i+="}\n";const s=document.createElement("style");return s.textContent=i,s}animate(t,e,n,i,r,s=[],o){const a=s.filter(t=>t instanceof Yp),c={};Tf(n,i)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=If(t,e,c));if(0==n)return new $p(t,l);const u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,u,e);document.querySelector("head").appendChild(h);const d=Pp(t,e),f=new Yp(t,e,u,n,i,r,l,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class Qp{constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Df(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Zp{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Xp().toString()),this._cssKeyframesDriver=new Gp}validateStyleProperty(t){return Xd(t)}matchesElement(t,e){return Jd(t,e)}containsElement(t,e){return tf(t,e)}query(t,e,n){return ef(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,i,r,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,r,s);const a={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(a.easing=r);const c={},l=s.filter(t=>t instanceof Qp);Tf(n,i)&&l.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const u=Pp(t,e=If(t,e=e.map(t=>gf(t,!1)),c));return new Qp(t,e,a,u)}}function Xp(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Jp=(()=>{class t extends Ed{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.T.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Id(t):t;return nm(this._renderer,null,e,"register",[n]),new tm(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.H),r.Yb(a))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class tm extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new em(this._id,t,e||{},this._renderer)}}class em{constructor(t,e,n,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return nm(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function nm(t,e,n,i,r){return t.setProperty(e,`@@${n}:${i}`,r)}const im="@",rm="@.disabled";let sm=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new om("",n,this.engine),this._rendererCache.set(n,t)),t}const i=e.id,r=e.id+"-"+this._currentId;this._currentId++,this.engine.register(r,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(i,r,t,e.name,e)};return e.data.animation.forEach(s),new am(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.H),r.Yb(jp),r.Yb(r.B))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class om{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,i=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==im&&e==rm?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class am extends om{constructor(t,e,n,i){super(e,n,i),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==im?"."==e.charAt(1)&&e==rm?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==im){const i=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let r=e.substr(1),s="";return r.charAt(0)!=im&&([r,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(r)),this.engine.listen(this.namespaceId,i,r,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let cm=(()=>{class t extends jp{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(a),r.Yb(sf),r.Yb(ep))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const lm=new r.s("AnimationModuleType"),um=[{provide:sf,useFactory:function(){return"function"==typeof Xp()?new Zp:new Gp}},{provide:lm,useValue:"BrowserAnimations"},{provide:Ed,useClass:Jp},{provide:ep,useFactory:function(){return new np}},{provide:jp,useClass:cm},{provide:r.H,useFactory:function(t,e,n){return new sm(t,e,n)},deps:[gt,jp,r.B]}];let hm=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:um,imports:[Dt]}),t})();function dm(t,e){if(1&t&&r.Pb(0,"mat-pseudo-checkbox",4),2&t){const t=r.dc();r.jc("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function fm(t,e){if(1&t&&(r.Ub(0,"span",5),r.uc(1),r.Tb()),2&t){const t=r.dc();r.Db(1),r.wc("(",t.group.label,")")}}const pm=["*"],mm=new r.R("11.2.9"),gm=new r.s("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let bm,ym=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Object(r.Y)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&mm.full!==Od.full&&console.warn("The Angular Material version ("+mm.full+") does not match the Angular CDK version ("+Od.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)(r.Yb(Sd),r.Yb(gm,8),r.Yb(a))},imports:[[Ku],Ku]}),t})();function vm(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=ru(t)}}}function _m(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}function wm(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=ru(t)}}}function Cm(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?su(t):this.defaultTabIndex}}}function Sm(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new Pt.a}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}try{bm="undefined"!=typeof Intl}catch(ML){bm=!1}let Om=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Em=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),t})();function xm(t,e,n="mat"){t.changes.pipe(le(t)).subscribe(({length:t})=>{km(e,`${n}-2-line`,!1),km(e,`${n}-3-line`,!1),km(e,`${n}-multi-line`,!1),2===t||3===t?km(e,`${n}-${t}-line`,!0):t>3&&km(e,`${n}-multi-line`,!0)})}function km(t,e,n){const i=t.nativeElement.classList;n?i.add(e):i.remove(e)}let Tm=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[ym],ym]}),t})();class Im{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Am={enterDuration:450,exitDuration:400},Dm=Uu({passive:!0}),Rm=["mousedown","touchstart"],jm=["mouseup","mouseleave","touchend","touchcancel"];class Pm{constructor(t,e,n,i){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=cu(n))}fadeInRipple(t,e,n={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Object.assign(Object.assign({},Am),n.animation);n.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const s=n.radius||function(t,e,n){const i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}(t,e,i),o=t-i.left,a=e-i.top,c=r.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=o-s+"px",l.style.top=a-s+"px",l.style.height=2*s+"px",l.style.width=2*s+"px",null!=n.color&&(l.style.backgroundColor=n.color),l.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(l),window.getComputedStyle(l).getPropertyValue("opacity"),l.style.transform="scale(1)";const u=new Im(this,l,n);return u.state=0,this._activeRipples.add(u),n.persistent||(this._mostRecentTransientRipple=u),this._runTimeoutOutsideZone(()=>{const t=u===this._mostRecentTransientRipple;u.state=1,n.persistent||t&&this._isPointerDown||u.fadeOut()},c),u}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,i=Object.assign(Object.assign({},Am),t.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=cu(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Rm))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(jm),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=pd(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!md(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,Dm)})})}_removeTriggerEvents(){this._triggerElement&&(Rm.forEach(t=>{this._triggerElement.removeEventListener(t,this,Dm)}),this._pointerUpEventsRegistered&&jm.forEach(t=>{this._triggerElement.removeEventListener(t,this,Dm)}))}}const Nm=new r.s("mat-ripple-global-options");let Lm=(()=>{class t{constructor(t,e,n,i,r){this._elementRef=t,this._animationMode=r,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new Pm(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.B),r.Ob(Ru),r.Ob(Nm,8),r.Ob(lm,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.Gb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),Fm=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[ym,ju],ym]}),t})(),Mm=(()=>{class t{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(lm,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&r.Gb("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),Vm=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[ym]]}),t})();const Um=new r.s("MAT_OPTION_PARENT_COMPONENT");class Bm{}const qm=vm(Bm);let Hm=0,zm=(()=>{class t extends qm{constructor(t){var e;super(),this._labelId="mat-optgroup-label-"+Hm++,this._inert=null!==(e=null==t?void 0:t.inertGroups)&&void 0!==e&&e}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Um,8))},t.\u0275dir=r.Jb({type:t,inputs:{label:"label"},features:[r.Ab]}),t})();const Km=new r.s("MatOptgroup");let Wm=0;class Ym{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let $m=(()=>{class t{constructor(t,e,n,i){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=i,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Wm++,this.onSelectionChange=new r.o,this._stateChanges=new Pt.a}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=ru(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,e){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){13!==t.keyCode&&32!==t.keyCode||fh(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new Ym(this,t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.h),r.Ob(void 0),r.Ob(zm))},t.\u0275dir=r.Jb({type:t,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),t})(),Gm=(()=>{class t extends $m{constructor(t,e,n,i){super(t,e,n,i)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.h),r.Ob(Um,8),r.Ob(Km,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,e){1&t&&r.bc("click",function(){return e._selectViaInteraction()})("keydown",function(t){return e._handleKeydown(t)}),2&t&&(r.Xb("id",e.id),r.Eb("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),r.Gb("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},exportAs:["matOption"],features:[r.Ab],ngContentSelectors:pm,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,e){1&t&&(r.ic(),r.tc(0,dm,1,2,"mat-pseudo-checkbox",0),r.Ub(1,"span",1),r.hc(2),r.Tb(),r.tc(3,fm,2,1,"span",2),r.Pb(4,"div",3)),2&t&&(r.jc("ngIf",e.multiple),r.Db(3),r.jc("ngIf",e.group&&e.group._inert),r.Db(1),r.jc("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[B,Lm,Mm],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();function Qm(t,e,n){if(n.length){let i=e.toArray(),r=n.toArray(),s=0;for(let e=0;e<t+1;e++)i[e].group&&i[e].group===r[s]&&s++;return s}return 0}let Zm=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[Fm,G,ym,Vm]]}),t})();function Xm(t,e){}class Jm{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const tg={dialogContainer:kd("dialogContainer",[Dd("void, exit",Ad({opacity:0,transform:"scale(0.7)"})),Dd("enter",Ad({transform:"none"})),Rd("* => enter",Td("150ms cubic-bezier(0, 0, 0.2, 1)",Ad({transform:"none",opacity:1}))),Rd("* => void, * => exit",Td("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Ad({opacity:0})))])};let eg=(()=>{class t extends oh{constructor(t,e,n,i,s,o){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=s,this._focusMonitor=o,this._animationStateChanged=new r.o,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=t=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=s.ariaLabelledBy||null,this._document=i}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=this._getActiveElement(),n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._getActiveElement())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,e=this._getActiveElement();return t===e||t.contains(e)}_getActiveElement(){var t;const e=this._document.activeElement;return(null===(t=null==e?void 0:e.shadowRoot)||void 0===t?void 0:t.activeElement)||e}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(ud),r.Ob(r.h),r.Ob(a,8),r.Ob(Jm),r.Ob(yd))},t.\u0275dir=r.Jb({type:t,viewQuery:function(t,e){if(1&t&&r.yc(ch,3),2&t){let t;r.lc(t=r.cc())&&(e._portalOutlet=t.first)}},features:[r.Ab]}),t})(),ng=(()=>{class t extends eg{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:e}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:e}))}_onAnimationStart({toState:t,totalTime:e}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:e}):"exit"!==t&&"void"!==t||this._animationStateChanged.next({state:"closing",totalTime:e})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return ig(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&r.rc("@dialogContainer.start",function(t){return e._onAnimationStart(t)})("@dialogContainer.done",function(t){return e._onAnimationDone(t)}),2&t&&(r.Xb("id",e._id),r.Eb("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),r.sc("@dialogContainer",e._state))},features:[r.Ab],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&r.tc(0,Xm,0,0,"ng-template",0)},directives:[ch],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[tg.dialogContainer]}}),t})();const ig=r.Wb(ng);let rg=0;class sg{constructor(t,e,n="mat-dialog-"+rg++){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Pt.a,this._afterClosed=new Pt.a,this._beforeClosed=new Pt.a,this._state=0,e._id=n,e._animationStateChanged.pipe(fe(t=>"opened"===t.state),oe(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(fe(t=>"closed"===t.state),oe(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(fe(t=>27===t.keyCode&&!this.disableClose&&!fh(t))).subscribe(t=>{t.preventDefault(),og(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():og(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(fe(t=>"closing"===t.state),oe(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function og(t,e,n){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(n)}const ag=new r.s("MatDialogData"),cg=new r.s("mat-dialog-default-options"),lg=new r.s("mat-dialog-scroll-strategy"),ug={provide:lg,deps:[qh],useFactory:function(t){return()=>t.scrollStrategies.block()}};let hg=(()=>{class t{constructor(t,e,n,i,r,s,o,a,c){this._overlay=t,this._injector=e,this._defaultOptions=n,this._parentDialog=i,this._overlayContainer=r,this._dialogRefConstructor=o,this._dialogContainerType=a,this._dialogDataToken=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Pt.a,this._afterOpenedAtThisLevel=new Pt.a,this._ariaHiddenElements=new Map,this.afterAllClosed=Jt(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(le(void 0))),this._scrollStrategy=s}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,e){(e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new Jm)).id&&this.getDialogById(e.id);const n=this._createOverlay(e),i=this._attachDialogContainer(n,e),r=this._attachDialogContent(t,i,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(r),r.afterClosed().subscribe(()=>this._removeOpenDialog(r)),this.afterOpened.next(r),i._initializeWithAttachedContent(),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new Ch({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=r.t.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:Jm,useValue:e}]}),i=new ih(this._dialogContainerType,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}_attachDialogContent(t,e,n,i){const s=new this._dialogRefConstructor(n,e,i.id);if(t instanceof r.N)e.attachTemplatePortal(new rh(t,null,{$implicit:i.data,dialogRef:s}));else{const n=this._createInjector(i,s,e),r=e.attachComponentPortal(new ih(t,i.viewContainerRef,n));s.componentInstance=r.instance}return s.updateSize(i.width,i.height).updatePosition(i.position),s}_createInjector(t,e,n){const i=t&&t.viewContainerRef&&t.viewContainerRef.injector,s=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||i&&i.get(zu,null)||s.push({provide:zu,useValue:{value:t.direction,change:Object(jt.a)()}}),r.t.create({parent:i||this._injector,providers:s})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let i=e[n];i===t||"SCRIPT"===i.nodeName||"STYLE"===i.nodeName||i.hasAttribute("aria-live")||(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(qh),r.Ob(r.t),r.Ob(void 0),r.Ob(void 0),r.Ob(Ih),r.Ob(void 0),r.Ob(r.P),r.Ob(r.P),r.Ob(r.s))},t.\u0275dir=r.Jb({type:t}),t})(),dg=(()=>{class t extends hg{constructor(t,e,n,i,r,s,o){super(t,e,i,s,o,r,sg,ng,ag)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(qh),r.Yb(r.t),r.Yb(C,8),r.Yb(cg,8),r.Yb(lg),r.Yb(t,12),r.Yb(Ih))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),fg=0,pg=(()=>{class t{constructor(t,e,n){this._dialogRef=t,this._elementRef=e,this._dialog=n,this.id="mat-dialog-title-"+fg++}ngOnInit(){this._dialogRef||(this._dialogRef=function(t,e){let n=t.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?e.find(t=>t.id===n.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(sg,8),r.Ob(r.l),r.Ob(dg))},t.\u0275dir=r.Jb({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,e){2&t&&r.Xb("id",e.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),t})(),mg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),t})(),gg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),t})(),bg=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[dg,ug],imports:[[$h,lh,ym],ym]}),t})();var yg=n("spgP"),vg=n("Jgta"),_g=n("zIRd"),wg=n("qOnz"),Cg=n("q/0M"),Sg=function(t,e){return(Sg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Og(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Eg,xg="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},kg=kg||{},Tg=xg||self;function Ig(){}function Ag(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Dg(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Rg="closure_uid_"+(1e9*Math.random()>>>0),jg=0;function Pg(t,e,n){return t.call.apply(t.bind,arguments)}function Ng(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Lg(t,e,n){return(Lg=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Pg:Ng).apply(null,arguments)}function Fg(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Mg(){return Date.now()}function Vg(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return e.prototype[n].apply(t,r)}}function Ug(){this.j=this.j,this.i=this.i}Ug.prototype.j=!1,Ug.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Rg)&&t[Rg]||(t[Rg]=++jg)}(this)},Ug.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Bg=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},qg=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r="string"==typeof t?t.split(""):t,s=0;s<i;s++)s in r&&e.call(n,r[s],s,t)};function Hg(t){return Array.prototype.concat.apply([],arguments)}function zg(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function Kg(t){return/^[\s\xa0]*$/.test(t)}var Wg,Yg=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function $g(t,e){return-1!=t.indexOf(e)}function Gg(t,e){return t<e?-1:t>e?1:0}t:{var Qg=Tg.navigator;if(Qg){var Zg=Qg.userAgent;if(Zg){Wg=Zg;break t}}Wg=""}function Xg(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function Jg(t){var e={};for(var n in t)e[n]=t[n];return e}var tb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function eb(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var s=0;s<tb.length;s++)n=tb[s],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function nb(t){return nb[" "](t),t}nb[" "]=Ig;var ib,rb,sb=$g(Wg,"Opera"),ob=$g(Wg,"Trident")||$g(Wg,"MSIE"),ab=$g(Wg,"Edge"),cb=ab||ob,lb=$g(Wg,"Gecko")&&!($g(Wg.toLowerCase(),"webkit")&&!$g(Wg,"Edge"))&&!($g(Wg,"Trident")||$g(Wg,"MSIE"))&&!$g(Wg,"Edge"),ub=$g(Wg.toLowerCase(),"webkit")&&!$g(Wg,"Edge");function hb(){var t=Tg.document;return t?t.documentMode:void 0}t:{var db="",fb=(rb=Wg,lb?/rv:([^\);]+)(\)|;)/.exec(rb):ab?/Edge\/([\d\.]+)/.exec(rb):ob?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(rb):ub?/WebKit\/(\S+)/.exec(rb):sb?/(?:Version)[ \/]?(\S+)/.exec(rb):void 0);if(fb&&(db=fb?fb[1]:""),ob){var pb=hb();if(null!=pb&&pb>parseFloat(db)){ib=String(pb);break t}}ib=db}var mb={};function gb(t){return function(t,e){var n=mb;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Yg(String(ib)).split("."),i=Yg(String(t)).split("."),r=Math.max(n.length,i.length),s=0;0==e&&s<r;s++){var o=n[s]||"",a=i[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Gg(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Gg(0==o[2].length,0==a[2].length)||Gg(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var bb=Tg.document&&ob&&(hb()||parseInt(ib,10))||void 0,yb=!ob||9<=Number(bb),vb=ob&&!gb("9"),_b=function(){if(!Tg.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Tg.addEventListener("test",Ig,e),Tg.removeEventListener("test",Ig,e)}catch(n){}return t}();function wb(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Cb(t,e){if(wb.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(lb){t:{try{nb(e.nodeName);var r=!0;break t}catch(s){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Sb[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}wb.prototype.b=function(){this.defaultPrevented=!0},Vg(Cb,wb);var Sb={2:"touch",3:"pen",4:"mouse"};Cb.prototype.b=function(){Cb.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,vb)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Ob="closure_listenable_"+(1e6*Math.random()|0),Eb=0;function xb(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ca=r,this.key=++Eb,this.Y=this.Z=!1}function kb(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Tb(t){this.src=t,this.a={},this.b=0}function Ib(t,e){var n=e.type;if(n in t.a){var i,r=t.a[n],s=Bg(r,e);(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(kb(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Ab(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==i)return r}return-1}Tb.prototype.add=function(t,e,n,i,r){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=Ab(t,e,i,r);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new xb(e,this.src,s,!!i,r)).Z=n,t.push(e)),e};var Db="closure_lm_"+(1e6*Math.random()|0),Rb={};function jb(t,e,n,i,r){if(i&&i.once)return Nb(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)jb(t,e[s],n,i,r);return null}return n=Hb(n),t&&t[Ob]?t.va(e,n,Dg(i)?!!i.capture:!!i,r):Pb(t,e,n,!1,i,r)}function Pb(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=Dg(r)?!!r.capture:!!r;if(o&&!yb)return null;var a=Bb(t);if(a||(t[Db]=a=new Tb(t)),(n=a.add(e,n,i,o,s)).proxy)return n;if(i=function(){var t=Ub,e=yb?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)_b||(r=o),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(Mb(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function Nb(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Nb(t,e[s],n,i,r);return null}return n=Hb(n),t&&t[Ob]?t.wa(e,n,Dg(i)?!!i.capture:!!i,r):Pb(t,e,n,!0,i,r)}function Lb(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)Lb(t,e[s],n,i,r);else i=Dg(i)?!!i.capture:!!i,n=Hb(n),t&&t[Ob]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Ab(s=t.a[e],n,i,r))&&(kb(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=Bb(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Ab(e,n,i,r)),(n=-1<t?e[t]:null)&&Fb(n))}function Fb(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Ob])Ib(e.c,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(Mb(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Bb(e))?(Ib(n,t),0==n.b&&(n.src=null,e[Db]=null)):kb(t)}}}function Mb(t){return t in Rb?Rb[t]:Rb[t]="on"+t}function Vb(t,e){var n=t.listener,i=t.ca||t.src;return t.Z&&Fb(t),n.call(i,e)}function Ub(t,e){if(t.Y)return!0;if(!yb){if(!e)t:{e=["window","event"];for(var n=Tg,i=0;i<e.length;i++)if(null==(n=n[e[i]])){e=null;break t}e=n}return Vb(t,e=new Cb(e,this))}return Vb(t,new Cb(e,this))}function Bb(t){return(t=t[Db])instanceof Tb?t:null}var qb="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hb(t){return"function"==typeof t?t:(t[qb]||(t[qb]=function(e){return t.handleEvent(e)}),t[qb])}function zb(){Ug.call(this),this.c=new Tb(this),this.J=this,this.C=null}function Kb(t,e){var n,i=t.C;if(i)for(n=[];i;i=i.C)n.push(i);if(t=t.J,i=e.type||e,"string"==typeof e)e=new wb(e,t);else if(e instanceof wb)e.target=e.target||t;else{var r=e;eb(e=new wb(i,t),r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];r=Wb(o,i,!0,e)&&r}if(r=Wb(o=e.a=t,i,!0,e)&&r,r=Wb(o,i,!1,e)&&r,n)for(s=0;s<n.length;s++)r=Wb(o=e.a=n[s],i,!1,e)&&r}function Wb(t,e,n,i){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,c=o.ca||o.src;o.Z&&Ib(t.c,o),r=!1!==a.call(c,i)&&r}}return r&&!i.defaultPrevented}Vg(zb,Ug),zb.prototype[Ob]=!0,(Eg=zb.prototype).addEventListener=function(t,e,n,i){jb(this,t,e,n,i)},Eg.removeEventListener=function(t,e,n,i){Lb(this,t,e,n,i)},Eg.G=function(){if(zb.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)kb(n[i]);delete e.a[t],e.b--}}this.C=null},Eg.va=function(t,e,n,i){return this.c.add(String(t),e,!1,n,i)},Eg.wa=function(t,e,n,i){return this.c.add(String(t),e,!0,n,i)};var Yb=Tg.JSON.stringify;function $b(){this.b=this.a=null}var Gb,Qb=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Xb},function(t){t.reset()});function Zb(){var t=ny,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Xb(){this.next=this.b=this.a=null}function Jb(t){Tg.setTimeout(function(){throw t},0)}function ty(t,e){Gb||function(){var t=Tg.Promise.resolve(void 0);Gb=function(){t.then(iy)}}(),ey||(Gb(),ey=!0),ny.add(t,e)}$b.prototype.add=function(t,e){var n=Qb.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Xb.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Xb.prototype.reset=function(){this.next=this.b=this.a=null};var ey=!1,ny=new $b;function iy(){for(var t;t=Zb();){try{t.a.call(t.b)}catch(n){Jb(n)}var e=Qb;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}ey=!1}function ry(t,e){zb.call(this),this.b=t||1,this.a=e||Tg,this.f=Lg(this.Za,this),this.g=Mg()}function sy(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function oy(t,e,n){if("function"==typeof t)n&&(t=Lg(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Lg(t.handleEvent,t)}return 2147483647<Number(e)?-1:Tg.setTimeout(t,e||0)}function ay(t){t.a=oy(function(){t.a=null,t.c&&(t.c=!1,ay(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Vg(ry,zb),(Eg=ry.prototype).aa=!1,Eg.M=null,Eg.Za=function(){if(this.aa){var t=Mg()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Kb(this,"tick"),this.aa&&(sy(this),this.start()))}},Eg.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Mg())},Eg.G=function(){ry.X.G.call(this),sy(this),delete this.a};var cy=function(t){function e(e,n){var i=t.call(this)||this;return i.g=e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}Sg(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:ay(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Tg.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Ug);function ly(t){Ug.call(this),this.b=t,this.a={}}Vg(ly,Ug);var uy=[];function hy(t,e,n,i){Array.isArray(n)||(n&&(uy[0]=n.toString()),n=uy);for(var r=0;r<n.length;r++){var s=jb(e,n[r],i||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function dy(t){Xg(t.a,function(t,e){this.a.hasOwnProperty(e)&&Fb(t)},t),t.a={}}function fy(){this.a=!0}function py(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return Yb(n)}catch(a){return e}}(t,n)+(i?" "+i:"")})}ly.prototype.G=function(){ly.X.G.call(this),dy(this)},ly.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fy.prototype.info=function(){};var my={},gy=null;function by(){return gy=gy||new zb}function yy(t){wb.call(this,my.Fa,t)}function vy(t){var e=by();Kb(e,new yy(e,t))}function _y(t,e){wb.call(this,my.STAT_EVENT,t),this.stat=e}function wy(t){var e=by();Kb(e,new _y(e,t))}function Cy(t){wb.call(this,my.Ga,t)}function Sy(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Tg.setTimeout(function(){t()},e)}my.Fa="serverreachability",Vg(yy,wb),my.STAT_EVENT="statevent",Vg(_y,wb),my.Ga="timingevent",Vg(Cy,wb);var Oy={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Ey={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function xy(){}function ky(){}xy.prototype.a=null;var Ty,Iy={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Ay(){wb.call(this,"d")}function Dy(){wb.call(this,"c")}function Ry(){}function jy(t,e,n,i){this.g=t,this.c=e,this.f=n,this.S=i||1,this.J=new ly(this),this.P=Py,this.R=new ry(t=cb?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Vg(Ay,wb),Vg(Dy,wb),Vg(Ry,xy),Ty=new Ry;var Py=45e3,Ny={},Ly={};function Fy(t,e,n){t.H=1,t.i=sv(Jy(e)),t.j=n,t.I=!0,My(t,null)}function My(t,e){t.u=Mg(),By(t),t.l=Jy(t.i);var n=t.l,i=t.S;Array.isArray(i)||(i=[String(i)]),yv(n.b,"t",i),t.D=0,t.a=d_(t.g,t.g.C?e:null),0<t.O&&(t.F=new cy(Lg(t.Ca,t,t.a),t.O)),hy(t.J,t.a,"readystatechange",t.Xa),e=t.B?Jg(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),vy(1),function(t,e,n,i,r,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Vy(t,e,n){for(var i=!0;!t.A&&t.D<n.length;){var r=Uy(t,n);if(r==Ly){4==e&&(t.h=4,wy(14),i=!1),py(t.c,t.f,null,"[Incomplete Response]");break}if(r==Ny){t.h=4,wy(15),py(t.c,t.f,n,"[Invalid Chunk]"),i=!1;break}py(t.c,t.f,r,null),Wy(t,r)}4==e&&0==n.length&&(t.h=1,wy(16),i=!1),t.b=t.b&&i,i?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),r_(e),e.F=!0,wy(11))):(py(t.c,t.f,n,"[Invalid Chunked Response]"),Ky(t),zy(t))}function Uy(t,e){var n=t.D,i=e.indexOf("\n",n);return-1==i?Ly:(n=Number(e.substring(n,i)),isNaN(n)?Ny:(i+=1)+n>e.length?Ly:(e=e.substr(i,n),t.D=i+n,e))}function By(t){t.T=Mg()+t.P,qy(t,t.P)}function qy(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Sy(Lg(t.Va,t),e)}function Hy(t){t.o&&(Tg.clearTimeout(t.o),t.o=null)}function zy(t){0==t.g.v||t.A||a_(t.g,t)}function Ky(t){Hy(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,sy(t.R),dy(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Wy(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Ev(n.b,t)))if(n.I=t.N,!t.C&&Ev(n.b,t)&&3==n.v){try{var i=n.ka.a.parse(e)}catch(YI){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;o_(n),Gv(n)}i_(n),wy(18)}}else n.oa=r[1],0<n.oa-n.P&&37500>r[2]&&n.H&&0==n.o&&!n.m&&(n.m=Sy(Lg(n.Sa,n),6e3));if(1>=Ov(n.b)&&n.ea){try{n.ea()}catch(YI){}n.ea=void 0}}else l_(n,11)}else if((t.C||n.a==t)&&o_(n),!Kg(e))for(e=i=n.ka.a.parse(e),i=0;i<e.length;i++)if(n.P=(r=e[i])[0],r=r[1],2==n.v)if("c"==r[0]){n.J=r[1],n.ga=r[2];var s=r[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=r[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=r[5];if(null!=a&&"number"==typeof a&&0<a){var c=1.5*a;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var l=t.a;if(l){var u=l.a?l.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(u){var h=c.b;!h.a&&($g(u,"spdy")||$g(u,"quic")||$g(u,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(xv(h,h.b),h.b=null))}if(c.A){var d=l.a?l.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(c.na=d,rv(c.B,c.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Mg()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((c=n).la=h_(c,c.C?c.ga:null,c.fa),f.C){kv(c.b,f);var p=f,m=c.D;m&&p.setTimeout(m),p.o&&(Hy(p),By(p)),c.a=f}else n_(c);0<n.g.length&&Xv(n)}else"stop"!=r[0]&&"close"!=r[0]||l_(n,7);else 3==n.v&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?l_(n,7):$v(n):"noop"!=r[0]&&n.f&&n.f.sa(r),n.o=0);vy(4)}catch(YI){}}function Yy(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Ag(t)||"string"==typeof t)qg(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Ag(t)||"string"==typeof t){n=[];for(var i=t.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,t)n[i++]=r;r=(i=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Ag(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t)).length;for(var s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}}function $y(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof $y)for(n=t.L(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function Gy(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];Qy(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)Qy(r,i=t.a[e])||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function Qy(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Eg=jy.prototype).setTimeout=function(t){this.P=t},Eg.Xa=function(t){t=t.target;var e=this.F;e&&3==zv(t)?e.f():this.Ca(t)},Eg.Ca=function(t){try{if(t==this.a)t:{var e=zv(this.a),n=this.a.ua(),i=this.a.W();if(!(3>e||3==e&&!cb&&!this.a.$())){this.A||4!=e||7==n||vy(8==n||0>=i?3:2),Hy(this);var r=this.a.W();this.N=r;var s=this.a.$();if(this.b=200==r,function(t,e,n,i,r,s,o){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,r),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kg(o)){var c=o;break e}}c=null}if(!c){this.b=!1,this.h=3,wy(12),Ky(this),zy(this);break t}py(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Wy(this,c)}this.I?(Vy(this,e,s),cb&&this.b&&3==e&&(hy(this.J,this.R,"tick",this.Wa),this.R.start())):(py(this.c,this.f,s,null),Wy(this,s)),4==e&&Ky(this),this.b&&!this.A&&(4==e?a_(this.g,this):(this.b=!1,By(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.h=3,wy(12)):(this.h=0,wy(13)),Ky(this),zy(this)}}}catch(l){}},Eg.Wa=function(){if(this.a){var t=zv(this.a),e=this.a.$();this.D<e.length&&(Hy(this),Vy(this,t,e),this.b&&4!=t&&By(this))}},Eg.cancel=function(){this.A=!0,Ky(this)},Eg.Va=function(){this.o=null;var t=Mg();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(vy(3),wy(17)),Ky(this),this.h=2,zy(this)):qy(this,this.T-t)},(Eg=$y.prototype).K=function(){Gy(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Eg.L=function(){return Gy(this),this.a.concat()},Eg.get=function(t,e){return Qy(this.b,t)?this.b[t]:e},Eg.set=function(t,e){Qy(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Eg.forEach=function(t,e){for(var n=this.L(),i=0;i<n.length;i++){var r=n[i],s=this.get(r);t.call(e,s,r,this)}};var Zy=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Xy(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Xy){this.a=void 0!==e?e:t.a,tv(this,t.f),this.j=t.j,ev(this,t.c),nv(this,t.h),this.g=t.g,e=t.b;var n=new pv;n.c=e.c,e.a&&(n.a=new $y(e.a),n.b=e.b),iv(this,n),this.i=t.i}else t&&(n=String(t).match(Zy))?(this.a=!!e,tv(this,n[1]||"",!0),this.j=ov(n[2]||""),ev(this,n[3]||"",!0),nv(this,n[4]),this.g=ov(n[5]||"",!0),iv(this,n[6]||"",!0),this.i=ov(n[7]||"")):(this.a=!!e,this.b=new pv(null,this.a))}function Jy(t){return new Xy(t)}function tv(t,e,n){t.f=n?ov(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function ev(t,e,n){t.c=n?ov(e,!0):e}function nv(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function iv(t,e,n){e instanceof pv?(t.b=e,function(t,e){e&&!t.f&&(mv(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(gv(this,e),yv(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=av(e,dv)),t.b=new pv(e,t.a))}function rv(t,e,n){t.b.set(e,n)}function sv(t){return rv(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Mg()).toString(36)),t}function ov(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function av(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,cv),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function cv(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Xy.prototype.toString=function(){var t=[],e=this.f;e&&t.push(av(e,lv,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(av(e,lv,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(av(n,"/"==n.charAt(0)?hv:uv,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",av(n,fv)),t.join("")};var lv=/[#\/\?@]/g,uv=/[#\?:]/g,hv=/[#\?]/g,dv=/[#\?@]/g,fv=/#/g;function pv(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function mv(t){t.a||(t.a=new $y,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function gv(t,e){mv(t),e=vv(t,e),Qy(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Qy((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Gy(t)))}function bv(t,e){return mv(t),e=vv(t,e),Qy(t.a.b,e)}function yv(t,e,n){gv(t,e),0<n.length&&(t.c=null,t.a.set(vv(t,e),zg(n)),t.b+=n.length)}function vv(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Eg=pv.prototype).add=function(t,e){mv(this),this.c=null,t=vv(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Eg.forEach=function(t,e){mv(this),this.a.forEach(function(n,i){qg(n,function(n){t.call(e,n,i,this)},this)},this)},Eg.L=function(){mv(this);for(var t=this.a.K(),e=this.a.L(),n=[],i=0;i<e.length;i++)for(var r=t[i],s=0;s<r.length;s++)n.push(e[i]);return n},Eg.K=function(t){mv(this);var e=[];if("string"==typeof t)bv(this,t)&&(e=Hg(e,this.a.get(vv(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Hg(e,t[n])}return e},Eg.set=function(t,e){return mv(this),this.c=null,bv(this,t=vv(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Eg.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Eg.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.K(i);for(var s=0;s<i.length;s++){var o=r;""!==i[s]&&(o+="="+encodeURIComponent(String(i[s]))),t.push(o)}}return this.c=t.join("&")};var _v=function(){return function(t,e){this.b=t,this.a=e}}();function wv(t){this.g=t||Cv,t=Tg.PerformanceNavigationTiming?0<(t=Tg.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Tg.ia&&Tg.ia.ya&&Tg.ia.ya()&&Tg.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Cv=10;function Sv(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Ov(t){return t.b?1:t.a?t.a.size:0}function Ev(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function xv(t,e){t.a?t.a.add(e):t.b=e}function kv(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Tv(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var i=t.c;try{for(var r=Og(t.a.values()),s=r.next();!s.done;s=r.next())i=i.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i}return zg(t.c)}function Iv(){}function Av(){this.a=new Iv}function Dv(t,e,n){var i=n||"";try{Yy(t,function(t,n){var r=t;Dg(t)&&(r=Yb(t)),e.push(i+n+"="+encodeURIComponent(r))})}catch(TA){throw e.push(i+"type="+encodeURIComponent("_badmap")),TA}}function Rv(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(s){}}wv.prototype.cancel=function(){var t,e;if(this.c=Tv(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Og(this.a.values()),i=n.next();!i.done;i=n.next())i.value.cancel()}catch(r){t={error:r}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Iv.prototype.stringify=function(t){return Tg.JSON.stringify(t,void 0)},Iv.prototype.parse=function(t){return Tg.JSON.parse(t,void 0)};var jv=Tg.JSON.parse;function Pv(t){zb.call(this),this.headers=new $y,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Nv,this.D=this.F=!1}Vg(Pv,zb);var Nv="",Lv=/^https?$/i,Fv=["POST","PUT"];function Mv(t){return"content-type"==t.toLowerCase()}function Vv(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Uv(t),qv(t)}function Uv(t){t.u||(t.u=!0,Kb(t,"complete"),Kb(t,"error"))}function Bv(t){if(t.b&&void 0!==kg&&(!t.s[1]||4!=zv(t)||2!=t.W()))if(t.l&&4==zv(t))oy(t.za,0,t);else if(Kb(t,"readystatechange"),4==zv(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var s=String(t.B).match(Zy)[1]||null;if(!s&&Tg.self&&Tg.self.location){var o=Tg.self.location.protocol;s=o.substr(0,o.length-1)}r=!Lv.test(s?s.toLowerCase():"")}e=r}if(e)Kb(t,"complete"),Kb(t,"success");else{t.h=6;try{var a=2<zv(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Uv(t)}}finally{qv(t)}}}function qv(t,e){if(t.a){Hv(t);var n=t.a,i=t.s[0]?Ig:null;t.a=null,t.s=null,e||Kb(t,"ready");try{n.onreadystatechange=i}catch(TA){}}}function Hv(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Tg.clearTimeout(t.m),t.m=null)}function zv(t){return t.a?t.a.readyState:0}function Kv(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=function(t){var e="";return Xg(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):rv(t,e,n))}function Wv(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Yv(t){this.pa=0,this.g=[],this.c=new fy,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Wv("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Wv("baseRetryDelayMs",5e3,t),this.Ra=Wv("retryDelaySeedMs",1e4,t),this.Ma=Wv("forwardChannelMaxRetries",2,t),this.ma=Wv("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new wv(t&&t.concurrentRequestLimit),this.ka=new Av,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function $v(t){if(Qv(t),3==t.v){var e=t.R++,n=Jy(t.B);rv(n,"SID",t.J),rv(n,"RID",e),rv(n,"TYPE","terminate"),t_(t,n),(e=new jy(t,t.c,e,void 0)).H=2,e.i=sv(Jy(n)),n=!1,Tg.navigator&&Tg.navigator.sendBeacon&&(n=Tg.navigator.sendBeacon(e.i.toString(),"")),!n&&Tg.Image&&((new Image).src=e.i,n=!0),n||(e.a=d_(e.g,null),e.a.ba(e.i)),e.u=Mg(),By(e)}u_(t)}function Gv(t){t.a&&(r_(t),t.a.cancel(),t.a=null)}function Qv(t){Gv(t),t.j&&(Tg.clearTimeout(t.j),t.j=null),o_(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Tg.clearTimeout(t.h),t.h=null)}function Zv(t,e){t.g.push(new _v(t.Oa++,e)),3==t.v&&Xv(t)}function Xv(t){Sv(t.b)||t.h||(t.h=!0,ty(t.Ba,t),t.u=0)}function Jv(t,e){var n;n=e?e.f:t.R++;var i=Jy(t.B);rv(i,"SID",t.J),rv(i,"RID",n),rv(i,"AID",t.P),t_(t,i),t.i&&t.l&&Kv(i,t.i,t.l),n=new jy(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=e_(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),xv(t.b,n),Fy(n,i,e)}function t_(t,e){t.f&&Yy({},function(t,n){rv(e,n,t)})}function e_(t,e,n){n=Math.min(t.g.length,n);var i=t.f?Lg(t.f.Ja,t.f,t):null;t:for(var r=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=r[0].b)):s=0:o.push("ofs="+s);for(var a=!0,c=0;c<n;c++){var l=r[c].b,u=r[c].a;if(0>(l-=s))s=Math.max(0,r[c].b-100),a=!1;else try{Dv(u,o,"req"+l+"_")}catch(h){i&&i(u)}}if(a){i=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,i}function n_(t){t.a||t.j||(t.T=1,ty(t.Aa,t),t.o=0)}function i_(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Sy(Lg(t.Aa,t),c_(t,t.o)),t.o++,0))}function r_(t){null!=t.s&&(Tg.clearTimeout(t.s),t.s=null)}function s_(t){t.a=new jy(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Jy(t.la);rv(e,"RID","rpc"),rv(e,"SID",t.J),rv(e,"CI",t.H?"0":"1"),rv(e,"AID",t.P),t_(t,e),rv(e,"TYPE","xmlhttp"),t.i&&t.l&&Kv(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=sv(Jy(e)),n.j=null,n.I=!0,My(n,t)}function o_(t){null!=t.m&&(Tg.clearTimeout(t.m),t.m=null)}function a_(t,e){var n=null;if(t.a==e){o_(t),r_(t),t.a=null;var i=2}else{if(!Ev(t.b,e))return;n=e.s,kv(t.b,e),i=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==i){n=e.j?e.j.length:0,e=Mg()-e.u;var r=t.u;Kb(i=by(),new Cy(i,n,e,r)),Xv(t)}else n_(t);else if(3==(r=e.h)||0==r&&0<t.I||!(1==i&&function(t,e){return!(Ov(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Sy(Lg(t.Ba,t,e),c_(t,t.u)),t.u++,0)))}(t,e)||2==i&&i_(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),r){case 1:l_(t,5);break;case 4:l_(t,10);break;case 3:l_(t,6);break;default:l_(t,2)}}function c_(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function l_(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var i=Lg(t.Ya,t);n||(n=new Xy("//www.google.com/images/cleardot.gif"),Tg.location&&"http"==Tg.location.protocol||tv(n,"https"),sv(n)),function(t,e){var n=new fy;if(Tg.Image){var i=new Image;i.onload=Fg(Rv,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Fg(Rv,n,i,"TestLoadImage: error",!1,e),i.onabort=Fg(Rv,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Fg(Rv,n,i,"TestLoadImage: timeout",!1,e),Tg.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}(n.toString(),i)}else wy(2);t.v=0,t.f&&t.f.ra(e),u_(t),Qv(t)}function u_(t){t.v=0,t.I=-1,t.f&&(0==Tv(t.b).length&&0==t.g.length||(t.b.c.length=0,zg(t.g),t.g.length=0),t.f.qa())}function h_(t,e,n){var i=function(t){return t instanceof Xy?Jy(t):new Xy(t,void 0)}(n);if(""!=i.c)e&&ev(i,e+"."+i.c),nv(i,i.h);else{var r=Tg.location;i=function(t,e,n,i){var r=new Xy(null,void 0);return t&&tv(r,t),e&&ev(r,e),n&&nv(r,n),i&&(r.g=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,n)}return t.V&&Xg(t.V,function(t,e){rv(i,e,t)}),n=t.na,(e=t.A)&&n&&rv(i,e,n),rv(i,"VER",t.ha),t_(t,i),i}function d_(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Pv(t.Na)).F=t.C,e}function f_(){}function p_(){if(ob&&!(10<=Number(bb)))throw Error("Environmental error: no available transport.")}function m_(t,e){zb.call(this),this.a=new Yv(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Kg(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Kg(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new y_(this)}function g_(t){Ay.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function b_(){Dy.call(this),this.status=1}function y_(t){this.a=t}(Eg=Pv.prototype).ba=function(t,e,n,i){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Ty),this.a.onreadystatechange=Lg(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void Vv(this,s)}t=n||"";var r=new $y(this.headers);i&&Yy(i,function(t,e){r.set(e,t)}),i=function(t){t:{for(var e=Mv,n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(r.L()),n=Tg.FormData&&t instanceof Tg.FormData,!(0<=Bg(Fv,e))||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Hv(this),0<this.o&&((this.D=function(t){return ob&&gb(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Lg(this.xa,this)):this.m=oy(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){Vv(this,s)}},Eg.xa=function(){void 0!==kg&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Kb(this,"timeout"),this.abort(8))},Eg.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Kb(this,"complete"),Kb(this,"abort"),qv(this))},Eg.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),qv(this,!0)),Pv.X.G.call(this)},Eg.za=function(){this.j||(this.A||this.l||this.g?Bv(this):this.Ua())},Eg.Ua=function(){Bv(this)},Eg.W=function(){try{return 2<zv(this)?this.a.status:-1}catch(rb){return-1}},Eg.$=function(){try{return this.a?this.a.responseText:""}catch(rb){return""}},Eg.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),jv(e)}},Eg.ua=function(){return this.h},Eg.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Eg=Yv.prototype).ha=8,Eg.v=1,Eg.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new jy(this,this.c,t,void 0),i=this.l;if(this.O&&(i?eb(i=Jg(i),this.O):i=this.O),null===this.i&&(n.B=i),this.da)t:{for(var r=e=0;r<this.g.length;r++){var s=this.g[r];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=r;break t}if(4096===e||r===this.g.length-1){e=r+1;break t}}e=1e3}else e=1e3;e=e_(this,n,e),rv(r=Jy(this.B),"RID",t),rv(r,"CVER",22),this.A&&rv(r,"X-HTTP-Session-Id",this.A),t_(this,r),this.i&&i&&Kv(r,this.i,i),xv(this.b,n),this.Ia&&rv(r,"TYPE","init"),this.da?(rv(r,"$req",e),rv(r,"SID","null"),n.U=!0,Fy(n,r,null)):Fy(n,r,e),this.v=2}}else 3==this.v&&(t?Jv(this,t):0==this.g.length||Sv(this.b)||Jv(this))},Eg.Aa=function(){if(this.j=null,s_(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Sy(Lg(this.Ta,this),t)}},Eg.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,wy(10),Gv(this),s_(this))},Eg.Sa=function(){null!=this.m&&(this.m=null,Gv(this),i_(this),wy(19))},Eg.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),wy(2)):(this.c.info("Failed to ping google.com"),wy(1))},(Eg=f_.prototype).ta=function(){},Eg.sa=function(){},Eg.ra=function(){},Eg.qa=function(){},Eg.Ja=function(){},p_.prototype.a=function(t,e){return new m_(t,e)},Vg(m_,zb),m_.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;wy(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=h_(t,null,t.fa),Xv(t)},m_.prototype.close=function(){$v(this.a)},m_.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Zv(this.a,e)}else this.l?((e={}).__data__=Yb(t),Zv(this.a,e)):Zv(this.a,t)},m_.prototype.G=function(){this.a.f=null,delete this.f,$v(this.a),delete this.a,m_.X.G.call(this)},Vg(g_,Ay),Vg(b_,Dy),Vg(y_,f_),y_.prototype.ta=function(){Kb(this.a,"a")},y_.prototype.sa=function(t){Kb(this.a,new g_(t))},y_.prototype.ra=function(t){Kb(this.a,new b_(t))},y_.prototype.qa=function(){Kb(this.a,"b")},p_.prototype.createWebChannel=p_.prototype.a,m_.prototype.send=m_.prototype.h,m_.prototype.open=m_.prototype.g,m_.prototype.close=m_.prototype.close,Oy.NO_ERROR=0,Oy.TIMEOUT=8,Oy.HTTP_ERROR=6,Ey.COMPLETE="complete",ky.EventType=Iy,Iy.OPEN="a",Iy.CLOSE="b",Iy.ERROR="c",Iy.MESSAGE="d",zb.prototype.listen=zb.prototype.va,Pv.prototype.listenOnce=Pv.prototype.wa,Pv.prototype.getLastError=Pv.prototype.Qa,Pv.prototype.getLastErrorCode=Pv.prototype.ua,Pv.prototype.getStatus=Pv.prototype.W,Pv.prototype.getResponseJson=Pv.prototype.Pa,Pv.prototype.getResponseText=Pv.prototype.$,Pv.prototype.send=Pv.prototype.ba;var v_=Oy,__=Ey,w_=my,C_=ky,S_=Pv,O_=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();O_.o=-1;var E_={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},x_=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).code=e,i.message=n,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return Object(Pr.c)(e,t),e}(Error),k_=new Cg.b("@firebase/firestore");function T_(){return k_.logLevel}function I_(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(k_.logLevel<=Cg.a.DEBUG){var i=e.map(R_);k_.debug.apply(k_,Object(Pr.f)(["Firestore (8.4.0): "+t],i))}}function A_(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(k_.logLevel<=Cg.a.ERROR){var i=e.map(R_);k_.error.apply(k_,Object(Pr.f)(["Firestore (8.4.0): "+t],i))}}function D_(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(k_.logLevel<=Cg.a.WARN){var i=e.map(R_);k_.warn.apply(k_,Object(Pr.f)(["Firestore (8.4.0): "+t],i))}}function R_(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(TA){return t}}function j_(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.4.0) INTERNAL ASSERTION FAILED: "+t;throw A_(e),new Error(e)}function P_(t,e){t||j_()}function N_(t,e){return t}function L_(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var F_=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var i=L_(40),r=0;r<i.length;++r)n.length<20&&i[r]<e&&(n+=t.charAt(i[r]%t.length));return n},t}();function M_(t,e){return t<e?-1:t>e?1:0}function V_(t,e,n){return t.length===e.length&&t.every(function(t,i){return n(t,e[i])})}function U_(t){return t+"\0"}var B_=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new x_(E_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new x_(E_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new x_(E_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new x_(E_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?M_(this.nanoseconds,t.nanoseconds):M_(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),q_=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new B_(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function H_(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function z_(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function K_(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var W_=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&j_(),void 0===n?n=t.length-e:n>t.length-e&&j_(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i++){var r=t.get(i),s=e.get(i);if(r<s)return-1;if(r>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Y_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pr.c)(e,t),e.prototype.construct=function(t,n,i){return new e(t,n,i)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=[],r=0,s=t;r<s.length;r++){var o=s[r];if(o.indexOf("//")>=0)throw new x_(E_.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");i.push.apply(i,o.split("/").filter(function(t){return t.length>0}))}return new e(i)},e.emptyPath=function(){return new e([])},e}(W_),$_=/^[_a-zA-Z][_a-zA-Z0-9]*$/,G_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pr.c)(e,t),e.prototype.construct=function(t,n,i){return new e(t,n,i)},e.isValidIdentifier=function(t){return $_.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],i="",r=0,s=function(){if(0===i.length)throw new x_(E_.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(i),i=""},o=!1;r<t.length;){var a=t[r];if("\\"===a){if(r+1===t.length)throw new x_(E_.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[r+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new x_(E_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=c,r+=2}else"`"===a?(o=!o,r++):"."!==a||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new x_(E_.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(W_),Q_=function(){function t(t){this.fields=t,t.sort(G_.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return V_(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Z_=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return M_(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Z_.EMPTY_BYTE_STRING=new Z_("");var X_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function J_(t){if(P_(!!t),"string"==typeof t){var e=0,n=X_.exec(t);if(P_(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}var r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tw(t.seconds),nanos:tw(t.nanos)}}function tw(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ew(t){return"string"==typeof t?Z_.fromBase64String(t):Z_.fromUint8Array(t)}function nw(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function iw(t){var e=t.mapValue.fields.__previous_value__;return nw(e)?iw(e):e}function rw(t){var e=J_(t.mapValue.fields.__local_write_time__.timestampValue);return new B_(e.seconds,e.nanos)}function sw(t){return null==t}function ow(t){return 0===t&&1/t==-1/0}function aw(t){return"number"==typeof t&&Number.isInteger(t)&&!ow(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var cw=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Y_.fromString(e))},t.fromName=function(e){return new t(Y_.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Y_.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Y_.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Y_(e.slice()))},t}();function lw(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?nw(t)?4:10:j_()}function uw(t,e){var n=lw(t);if(n!==lw(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rw(t).isEqual(rw(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=J_(t.timestampValue),i=J_(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ew(t.bytesValue).isEqual(ew(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return tw(t.geoPointValue.latitude)===tw(e.geoPointValue.latitude)&&tw(t.geoPointValue.longitude)===tw(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return tw(t.integerValue)===tw(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=tw(t.doubleValue),i=tw(e.doubleValue);return n===i?ow(n)===ow(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return V_(t.arrayValue.values||[],e.arrayValue.values||[],uw);case 10:return function(t,e){var n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(H_(n)!==H_(i))return!1;for(var r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!uw(n[r],i[r])))return!1;return!0}(t,e);default:return j_()}}function hw(t,e){return void 0!==(t.values||[]).find(function(t){return uw(t,e)})}function dw(t,e){var n=lw(t),i=lw(e);if(n!==i)return M_(n,i);switch(n){case 0:return 0;case 1:return M_(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=tw(t.integerValue||t.doubleValue),i=tw(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return fw(t.timestampValue,e.timestampValue);case 4:return fw(rw(t),rw(e));case 5:return M_(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ew(t),i=ew(e);return n.compareTo(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),i=e.split("/"),r=0;r<n.length&&r<i.length;r++){var s=M_(n[r],i[r]);if(0!==s)return s}return M_(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=M_(tw(t.latitude),tw(e.latitude));return 0!==n?n:M_(tw(t.longitude),tw(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],i=e.values||[],r=0;r<n.length&&r<i.length;++r){var s=dw(n[r],i[r]);if(s)return s}return M_(n.length,i.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},i=Object.keys(n),r=e.fields||{},s=Object.keys(r);i.sort(),s.sort();for(var o=0;o<i.length&&o<s.length;++o){var a=M_(i[o],s[o]);if(0!==a)return a;var c=dw(n[i[o]],r[s[o]]);if(0!==c)return c}return M_(i.length,s.length)}(t.mapValue,e.mapValue);default:throw j_()}}function fw(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return M_(t,e);var n=J_(t),i=J_(e),r=M_(n.seconds,i.seconds);return 0!==r?r:M_(n.nanos,i.nanos)}function pw(t){return mw(t)}function mw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=J_(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ew(t.bytesValue).toBase64():"referenceValue"in t?cw.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,i=0,r=t.values||[];i<r.length;i++)n?n=!1:e+=",",e+=mw(r[i]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,i=0,r=Object.keys(t.fields||{}).sort();i<r.length;i++){var s=r[i];n?n=!1:e+=",",e+=s+":"+mw(t.fields[s])}return e+"}"}(t.mapValue):j_();var e}function gw(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function bw(t){return!!t&&"integerValue"in t}function yw(t){return!!t&&"arrayValue"in t}function vw(t){return!!t&&"nullValue"in t}function _w(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ww(t){return!!t&&"mapValue"in t}var Cw=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(G_.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach(function(t,n){t?e.set(n,t):e.delete(n)})},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return uw(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,i=0;i<t.length-1;++i){var r=t.get(i),s=n.get(r);s instanceof Map?n=s:s&&10===lw(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(r,s),n=s):(s=new Map,n.set(r,s),n=s)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var i=this,r=!1,s=t.extractNestedValue(this.partialValue,e),o=ww(s)?Object.assign({},s.mapValue.fields):{};return n.forEach(function(t,n){if(t instanceof Map){var s=i.applyOverlay(e.child(n),t);null!=s&&(o[n]=s,r=!0)}else null!==t?(o[n]=t,r=!0):o.hasOwnProperty(n)&&(delete o[n],r=!0)}),r?{mapValue:{fields:o}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(G_.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,i=0;i<e.length-1;++i){if(!n.mapValue.fields)return null;if(!ww(n=n.mapValue.fields[e.get(i)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function Sw(t){var e=[];return z_(t.fields||{},function(t,n){var i=new G_([t]);if(ww(n)){var r=Sw(n.mapValue).fields;if(0===r.length)e.push(i);else for(var s=0,o=r;s<o.length;s++)e.push(i.child(o[s]))}else e.push(i)}),new Q_(e)}var Ow=function(){function t(t,e,n,i,r){this.key=t,this.documentType=e,this.version=n,this.data=i,this.documentState=r}return t.newInvalidDocument=function(e){return new t(e,0,q_.min(),Cw.empty(),0)},t.newFoundDocument=function(e,n,i){return new t(e,1,n,i,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Cw.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Cw.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Cw.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Cw.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Ew=function(t,e,n,i,r,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=s,this.endAt=o,this.h=null};function xw(t,e,n,i,r,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===s&&(s=null),void 0===o&&(o=null),new Ew(t,e,n,i,r,s,o)}function kw(t){var e=N_(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+pw(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),sw(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Uw(e.startAt)),e.endAt&&(n+="|ub:",n+=Uw(e.endAt)),e.h=n}return e.h}function Tw(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!qw(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var i=0;i<t.filters.length;i++)if((r=t.filters[i]).op!==(s=e.filters[i]).op||!r.field.isEqual(s.field)||!uw(r.value,s.value))return!1;var r,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zw(t.startAt,e.startAt)&&zw(t.endAt,e.endAt)}function Iw(t){return cw.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Aw=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).field=e,r.op=n,r.value=i,r}return Object(Pr.c)(e,t),e.create=function(t,n,i){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,i):new Dw(t,n,i):"array-contains"===n?new Nw(t,i):"in"===n?new Lw(t,i):"not-in"===n?new Fw(t,i):"array-contains-any"===n?new Mw(t,i):new e(t,n,i)},e.l=function(t,e,n){return"in"===e?new Rw(t,n):new jw(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(dw(e,this.value)):null!==e&&lw(this.value)===lw(e)&&this.m(dw(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return j_()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Dw=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n,i)||this).key=cw.fromName(i.referenceValue),r}return Object(Pr.c)(e,t),e.prototype.matches=function(t){var e=cw.comparator(t.key,this.key);return this.m(e)},e}(Aw),Rw=function(t){function e(e,n){var i=this;return(i=t.call(this,e,"in",n)||this).keys=Pw(0,n),i}return Object(Pr.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Aw),jw=function(t){function e(e,n){var i=this;return(i=t.call(this,e,"not-in",n)||this).keys=Pw(0,n),i}return Object(Pr.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Aw);function Pw(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return cw.fromName(t.referenceValue)})}var Nw=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Pr.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return yw(e)&&hw(e.arrayValue,this.value)},e}(Aw),Lw=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Pr.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&hw(this.value.arrayValue,e)},e}(Aw),Fw=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Pr.c)(e,t),e.prototype.matches=function(t){if(hw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!hw(this.value.arrayValue,e)},e}(Aw),Mw=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Pr.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!yw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return hw(e.value.arrayValue,t)})},e}(Aw),Vw=function(t,e){this.position=t,this.before=e};function Uw(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return pw(t)}).join(",")}var Bw=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function qw(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Hw(t,e,n){for(var i=0,r=0;r<t.position.length;r++){var s=e[r],o=t.position[r];if(i=s.field.isKeyField()?cw.comparator(cw.fromName(o.referenceValue),n.key):dw(o,n.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return t.before?i<=0:i<0}function zw(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!uw(t.position[n],e.position[n]))return!1;return!0}var Kw=function(t,e,n,i,r,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=s,this.startAt=o,this.endAt=a,this.p=null,this.T=null};function Ww(t,e,n,i,r,s,o,a){return new Kw(t,e,n,i,r,s,o,a)}function Yw(t){return new Kw(t)}function $w(t){return!sw(t.limit)&&"F"===t.limitType}function Gw(t){return!sw(t.limit)&&"L"===t.limitType}function Qw(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Zw(t){for(var e=0,n=t.filters;e<n.length;e++){var i=n[e];if(i.g())return i.field}return null}function Xw(t){return null!==t.collectionGroup}function Jw(t){var e=N_(t);if(null===e.p){e.p=[];var n=Zw(e),i=Qw(e);if(null!==n&&null===i)n.isKeyField()||e.p.push(new Bw(n)),e.p.push(new Bw(G_.keyField(),"asc"));else{for(var r=!1,s=0,o=e.explicitOrderBy;s<o.length;s++){var a=o[s];e.p.push(a),a.field.isKeyField()&&(r=!0)}if(!r){var c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Bw(G_.keyField(),c))}}}return e.p}function tC(t){var e=N_(t);if(!e.T)if("F"===e.limitType)e.T=xw(e.path,e.collectionGroup,Jw(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],i=0,r=Jw(e);i<r.length;i++){var s=r[i];n.push(new Bw(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new Vw(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Vw(e.startAt.position,!e.startAt.before):null;e.T=xw(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.T}function eC(t,e,n){return new Kw(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nC(t,e){return Tw(tC(t),tC(e))&&t.limitType===e.limitType}function iC(t){return kw(tC(t))+"|lt:"+t.limitType}function rC(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+pw(e.value);var e}).join(", ")+"]"),sw(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Uw(t.startAt)),t.endAt&&(e+=", endAt: "+Uw(t.endAt)),"Target("+e+")"}(tC(t))+"; limitType="+t.limitType+")"}function sC(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):cw.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,i=t.explicitOrderBy;n<i.length;n++){var r=i[n];if(!r.field.isKeyField()&&null===e.data.field(r.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,i=t.filters;n<i.length;n++)if(!i[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Hw(t.startAt,Jw(t),e)||t.endAt&&Hw(t.endAt,Jw(t),e))}(t,e)}function oC(t){return function(e,n){for(var i=!1,r=0,s=Jw(t);r<s.length;r++){var o=s[r],a=aC(o,e,n);if(0!==a)return a;i=i||o.field.isKeyField()}return 0}}function aC(t,e,n){var i=t.field.isKeyField()?cw.comparator(e.key,n.key):function(t,e,n){var i=e.data.field(t),r=n.data.field(t);return null!==i&&null!==r?dw(i,r):j_()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return j_()}}function cC(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ow(e)?"-0":e}}function lC(t){return{integerValue:""+t}}function uC(t,e){return aw(e)?lC(e):cC(t,e)}var hC=function(){this._=void 0};function dC(t,e,n){return t instanceof mC?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof gC?bC(t,e):t instanceof yC?vC(t,e):function(t,e){var n=pC(t,e),i=wC(n)+wC(t.A);return bw(n)&&bw(t.A)?lC(i):cC(t.R,i)}(t,e)}function fC(t,e,n){return t instanceof gC?bC(t,e):t instanceof yC?vC(t,e):n}function pC(t,e){return t instanceof _C?bw(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var mC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pr.c)(e,t),e}(hC),gC=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Pr.c)(e,t),e}(hC);function bC(t,e){for(var n=CC(e),i=function(t){n.some(function(e){return uw(e,t)})||n.push(t)},r=0,s=t.elements;r<s.length;r++)i(s[r]);return{arrayValue:{values:n}}}var yC=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Pr.c)(e,t),e}(hC);function vC(t,e){for(var n=CC(e),i=function(t){n=n.filter(function(e){return!uw(e,t)})},r=0,s=t.elements;r<s.length;r++)i(s[r]);return{arrayValue:{values:n}}}var _C=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).R=e,i.A=n,i}return Object(Pr.c)(e,t),e}(hC);function wC(t){return tw(t.integerValue||t.doubleValue)}function CC(t){return yw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var SC=function(t,e){this.field=t,this.transform=e},OC=function(t,e){this.version=t,this.transformResults=e},EC=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function xC(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var kC=function(){};function TC(t,e,n){t instanceof jC?function(t,e,n){var i=t.value.clone(),r=LC(t.fieldTransforms,e,n.transformResults);i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):t instanceof PC?function(t,e,n){if(xC(t.precondition,e)){var i=LC(t.fieldTransforms,e,n.transformResults),r=e.data;r.setAll(NC(t)),r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function IC(t,e,n){t instanceof jC?function(t,e,n){if(xC(t.precondition,e)){var i=t.value.clone(),r=FC(t.fieldTransforms,n,e);i.setAll(r),e.convertToFoundDocument(RC(e),i).setHasLocalMutations()}}(t,e,n):t instanceof PC?function(t,e,n){if(xC(t.precondition,e)){var i=FC(t.fieldTransforms,n,e),r=e.data;r.setAll(NC(t)),r.setAll(i),e.convertToFoundDocument(RC(e),r).setHasLocalMutations()}}(t,e,n):function(t,e){xC(t.precondition,e)&&e.convertToNoDocument(q_.min())}(t,e)}function AC(t,e){for(var n=null,i=0,r=t.fieldTransforms;i<r.length;i++){var s=r[i],o=e.data.field(s.field),a=pC(s.transform,o||null);null!=a&&(null==n&&(n=Cw.empty()),n.set(s.field,a))}return n||null}function DC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&V_(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof gC&&e instanceof gC||t instanceof yC&&e instanceof yC?V_(t.elements,e.elements,uw):t instanceof _C&&e instanceof _C?uw(t.A,e.A):t instanceof mC&&e instanceof mC}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function RC(t){return t.isFoundDocument()?t.version:q_.min()}var jC=function(t){function e(e,n,i,r){void 0===r&&(r=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.precondition=i,s.fieldTransforms=r,s.type=0,s}return Object(Pr.c)(e,t),e}(kC),PC=function(t){function e(e,n,i,r,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.fieldMask=i,o.precondition=r,o.fieldTransforms=s,o.type=1,o}return Object(Pr.c)(e,t),e}(kC);function NC(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var i=t.data.field(n);e.set(n,i)}}),e}function LC(t,e,n){var i=new Map;P_(t.length===n.length);for(var r=0;r<n.length;r++){var s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,fC(o,a,n[r]))}return i}function FC(t,e,n){for(var i=new Map,r=0,s=t;r<s.length;r++){var o=s[r],a=o.transform,c=n.data.field(o.field);i.set(o.field,dC(a,c,e))}return i}var MC,VC,UC=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.precondition=n,i.type=2,i.fieldTransforms=[],i}return Object(Pr.c)(e,t),e}(kC),BC=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.precondition=n,i.type=3,i.fieldTransforms=[],i}return Object(Pr.c)(e,t),e}(kC),qC=function(t){this.count=t};function HC(t){switch(t){case E_.OK:return j_();case E_.CANCELLED:case E_.UNKNOWN:case E_.DEADLINE_EXCEEDED:case E_.RESOURCE_EXHAUSTED:case E_.INTERNAL:case E_.UNAVAILABLE:case E_.UNAUTHENTICATED:return!1;case E_.INVALID_ARGUMENT:case E_.NOT_FOUND:case E_.ALREADY_EXISTS:case E_.PERMISSION_DENIED:case E_.FAILED_PRECONDITION:case E_.ABORTED:case E_.OUT_OF_RANGE:case E_.UNIMPLEMENTED:case E_.DATA_LOSS:return!0;default:return j_()}}function zC(t){if(void 0===t)return A_("GRPC error has no .code"),E_.UNKNOWN;switch(t){case MC.OK:return E_.OK;case MC.CANCELLED:return E_.CANCELLED;case MC.UNKNOWN:return E_.UNKNOWN;case MC.DEADLINE_EXCEEDED:return E_.DEADLINE_EXCEEDED;case MC.RESOURCE_EXHAUSTED:return E_.RESOURCE_EXHAUSTED;case MC.INTERNAL:return E_.INTERNAL;case MC.UNAVAILABLE:return E_.UNAVAILABLE;case MC.UNAUTHENTICATED:return E_.UNAUTHENTICATED;case MC.INVALID_ARGUMENT:return E_.INVALID_ARGUMENT;case MC.NOT_FOUND:return E_.NOT_FOUND;case MC.ALREADY_EXISTS:return E_.ALREADY_EXISTS;case MC.PERMISSION_DENIED:return E_.PERMISSION_DENIED;case MC.FAILED_PRECONDITION:return E_.FAILED_PRECONDITION;case MC.ABORTED:return E_.ABORTED;case MC.OUT_OF_RANGE:return E_.OUT_OF_RANGE;case MC.UNIMPLEMENTED:return E_.UNIMPLEMENTED;case MC.DATA_LOSS:return E_.DATA_LOSS;default:return j_()}}(VC=MC||(MC={}))[VC.OK=0]="OK",VC[VC.CANCELLED=1]="CANCELLED",VC[VC.UNKNOWN=2]="UNKNOWN",VC[VC.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",VC[VC.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",VC[VC.NOT_FOUND=5]="NOT_FOUND",VC[VC.ALREADY_EXISTS=6]="ALREADY_EXISTS",VC[VC.PERMISSION_DENIED=7]="PERMISSION_DENIED",VC[VC.UNAUTHENTICATED=16]="UNAUTHENTICATED",VC[VC.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",VC[VC.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",VC[VC.ABORTED=10]="ABORTED",VC[VC.OUT_OF_RANGE=11]="OUT_OF_RANGE",VC[VC.UNIMPLEMENTED=12]="UNIMPLEMENTED",VC[VC.INTERNAL=13]="INTERNAL",VC[VC.UNAVAILABLE=14]="UNAVAILABLE",VC[VC.DATA_LOSS=15]="DATA_LOSS";var KC=function(){function t(t,e){this.comparator=t,this.root=e||YC.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,YC.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,YC.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new WC(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new WC(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new WC(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new WC(this.root,t,this.comparator,!0)},t}(),WC=function(){function t(t,e,n,i){this.isReverse=i,this.nodeStack=[];for(var r=1;!t.isEmpty();)if(r=e?n(t.key,e):1,i&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(0===r){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),YC=function(){function t(e,n,i,r,s){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,i,r,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var i=this,r=n(t,i.key);return(i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===n(e,r.key)){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw j_();if(this.right.isRed())throw j_();var t=this.left.check();if(t!==this.right.check())throw j_();return t+(this.isRed()?0:1)},t}();YC.EMPTY=null,YC.RED=!0,YC.BLACK=!1,YC.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw j_()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw j_()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw j_()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw j_()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw j_()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,i,r){return this},t.prototype.insert=function(t,e,n){return new YC(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var $C=function(){function t(t){this.comparator=t,this.data=new KC(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new GC(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new GC(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),i=e.data.getIterator();n.hasNext();){var r=n.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),GC=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),QC=new KC(cw.comparator);function ZC(){return QC}var XC=new KC(cw.comparator);function JC(){return XC}var tS=new KC(cw.comparator);function eS(){return tS}var nS=new $C(cw.comparator);function iS(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=nS,i=0,r=t;i<r.length;i++){var s=r[i];n=n.add(s)}return n}var rS=new $C(M_);function sS(){return rS}var oS=function(){function t(t,e,n,i,r){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var i=new Map;return i.set(e,aS.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(q_.min(),i,sS(),ZC(),iS())},t}(),aS=function(){function t(t,e,n,i,r){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Z_.EMPTY_BYTE_STRING,n,iS(),iS(),iS())},t}(),cS=function(t,e,n,i){this.v=t,this.removedTargetIds=e,this.key=n,this.P=i},lS=function(t,e){this.targetId=t,this.V=e},uS=function(t,e,n,i){void 0===n&&(n=Z_.EMPTY_BYTE_STRING),void 0===i&&(i=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i},hS=function(){function t(){this.S=0,this.D=pS(),this.C=Z_.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=iS(),e=iS(),n=iS();return this.D.forEach(function(i,r){switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:j_()}}),new aS(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=pS()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),dS=function(){function t(t){this.W=t,this.G=new Map,this.H=ZC(),this.J=fS(),this.Y=new $C(M_)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var i=n[e];t.P&&t.P.isFoundDocument()?this.Z(i,t.P):this.tt(i,t.key,t.P)}for(var r=0,s=t.removedTargetIds;r<s.length;r++)this.tt(i=s[r],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var i=e.nt(n);switch(t.state){case 0:e.st(n)&&i.$(t.resumeToken);break;case 1:i.K(),i.k||i.L(),i.$(t.resumeToken);break;case 2:i.K(),i.k||e.removeTarget(n);break;case 3:e.st(n)&&(i.j(),i.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),i.$(t.resumeToken));break;default:j_()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,i){n.st(i)&&e(i)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,i=this.ot(e);if(i){var r=i.target;if(Iw(r))if(0===n){var s=new cw(r.path);this.tt(e,s,Ow.newNoDocument(s,q_.min()))}else P_(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(i,r){var s=e.ot(r);if(s){if(i.current&&Iw(s.target)){var o=new cw(s.target.path);null!==e.H.get(o)||e.at(r,o)||e.tt(r,o,Ow.newNoDocument(o,t))}i.O&&(n.set(r,i.M()),i.L())}});var i=iS();this.J.forEach(function(t,n){var r=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(r=!1,!1)}),r&&(i=i.add(t))});var r=new oS(t,n,this.Y,this.H,i);return this.H=ZC(),this.J=fS(),this.Y=new $C(M_),r},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var i=this.nt(t);this.at(t,e)?i.B(e,1):i.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new hS,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new $C(M_),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||I_("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new hS),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function fS(){return new KC(cw.comparator)}function pS(){return new KC(cw.comparator)}var mS={asc:"ASCENDING",desc:"DESCENDING"},gS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bS=function(t,e){this.databaseId=t,this.I=e};function yS(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function vS(t,e){return t.I?e.toBase64():e.toUint8Array()}function _S(t,e){return yS(t,e.toTimestamp())}function wS(t){return P_(!!t),q_.fromTimestamp(function(t){var e=J_(t);return new B_(e.seconds,e.nanos)}(t))}function CS(t,e){return function(t){return new Y_(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function SS(t){var e=Y_.fromString(t);return P_(YS(e)),e}function OS(t,e){return CS(t.databaseId,e.path)}function ES(t,e){var n=SS(e);if(n.get(1)!==t.databaseId.projectId)throw new x_(E_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new x_(E_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new cw(IS(n))}function xS(t,e){return CS(t.databaseId,e)}function kS(t){var e=SS(t);return 4===e.length?Y_.emptyPath():IS(e)}function TS(t){return new Y_(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function IS(t){return P_(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function AS(t,e,n){return{name:OS(t,e),fields:n.toProto().mapValue.fields}}function DS(t,e,n){var i=ES(t,e.name),r=wS(e.updateTime),s=new Cw({mapValue:{fields:e.fields}}),o=Ow.newFoundDocument(i,r,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function RS(t,e){var n;if(e instanceof jC)n={update:AS(t,e.key,e.value)};else if(e instanceof UC)n={delete:OS(t,e.key)};else if(e instanceof PC)n={update:AS(t,e.key,e.data),updateMask:WS(e.fieldMask)};else{if(!(e instanceof BC))return j_();n={verify:OS(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof mC)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof gC)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof yC)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof _C)return{fieldPath:e.field.canonicalString(),increment:n.A};throw j_()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:_S(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:j_()}(t,e.precondition)),n}function jS(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?EC.updateTime(wS(t.updateTime)):void 0!==t.exists?EC.exists(t.exists):EC.none()}(e.currentDocument):EC.none(),i=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(P_("REQUEST_TIME"===e.setToServerValue),n=new mC):"appendMissingElements"in e?n=new gC(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new yC(e.removeAllFromArray.values||[]):"increment"in e?n=new _C(t,e.increment):j_();var i=G_.fromServerFormat(e.fieldPath);return new SC(i,n)}(t,e)}):[];if(e.update){var r=ES(t,e.update.name),s=new Cw({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new Q_((t.fieldPaths||[]).map(function(t){return G_.fromServerFormat(t)}))}(e.updateMask);return new PC(r,s,o,n,i)}return new jC(r,s,n,i)}if(e.delete){var a=ES(t,e.delete);return new UC(a,n)}if(e.verify){var c=ES(t,e.verify);return new BC(c,n)}return j_()}function PS(t,e){return{documents:[xS(t,e.path)]}}function NS(t,e){var n={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(n.parent=xS(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=xS(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var r=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(_w(t.value))return{unaryFilter:{field:qS(t.field),op:"IS_NAN"}};if(vw(t.value))return{unaryFilter:{field:qS(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(_w(t.value))return{unaryFilter:{field:qS(t.field),op:"IS_NOT_NAN"}};if(vw(t.value))return{unaryFilter:{field:qS(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qS(t.field),op:BS(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);r&&(n.structuredQuery.where=r);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:qS(t.field),direction:US(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.I||sw(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=MS(e.startAt)),e.endAt&&(n.structuredQuery.endAt=MS(e.endAt)),n}function LS(t){var e=kS(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){P_(1===i);var s=n.from[0];s.allDescendants?r=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=FS(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Bw(HS(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var c=null;n.limit&&(c=function(t){var e;return sw(e="object"==typeof t?t.value:t)?null:e}(n.limit));var l=null;n.startAt&&(l=VS(n.startAt));var u=null;return n.endAt&&(u=VS(n.endAt)),Ww(e,r,a,o,c,"F",l,u)}function FS(t){return t?void 0!==t.unaryFilter?[KS(t)]:void 0!==t.fieldFilter?[zS(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return FS(t)}).reduce(function(t,e){return t.concat(e)}):j_():[]}function MS(t){return{before:t.before,values:t.position}}function VS(t){return new Vw(t.values||[],!!t.before)}function US(t){return mS[t]}function BS(t){return gS[t]}function qS(t){return{fieldPath:t.canonicalString()}}function HS(t){return G_.fromServerFormat(t.fieldPath)}function zS(t){return Aw.create(HS(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return j_()}}(t.fieldFilter.op),t.fieldFilter.value)}function KS(t){switch(t.unaryFilter.op){case"IS_NAN":var e=HS(t.unaryFilter.field);return Aw.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=HS(t.unaryFilter.field);return Aw.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=HS(t.unaryFilter.field);return Aw.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var r=HS(t.unaryFilter.field);return Aw.create(r,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return j_()}}function WS(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function YS(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function $S(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=QS(e)),e=GS(t.get(n),e);return QS(e)}function GS(t,e){for(var n=e,i=t.length,r=0;r<i;r++){var s=t.charAt(r);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function QS(t){return t+"\x01\x01"}function ZS(t){var e=t.length;if(P_(e>=2),2===e)return P_("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Y_.emptyPath();for(var n=e-2,i=[],r="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&j_(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),c=void 0;0===r.length?c=a:(c=r+=a,r=""),i.push(c);break;case"\x10":r+=t.substring(s,o),r+="\0";break;case"\x11":r+=t.substring(s,o+1);break;default:j_()}s=o+2}return new Y_(i)}var XS=function(t,e){this.seconds=t,this.nanoseconds=e},JS=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};JS.store="owner",JS.key="owner";var tO=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};tO.store="mutationQueues",tO.keyPath="userId";var eO=function(t,e,n,i,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=r};eO.store="mutations",eO.keyPath="batchId",eO.userMutationsIndex="userMutationsIndex",eO.userMutationsKeyPath=["userId","batchId"];var nO=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,$S(e)]},t.key=function(t,e,n){return[t,$S(e),n]},t}();nO.store="documentMutations",nO.PLACEHOLDER=new nO;var iO=function(t,e){this.path=t,this.readTime=e},rO=function(t,e){this.path=t,this.version=e},sO=function(t,e,n,i,r,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=i,this.readTime=r,this.parentPath=s};sO.store="remoteDocuments",sO.readTimeIndex="readTimeIndex",sO.readTimeIndexPath="readTime",sO.collectionReadTimeIndex="collectionReadTimeIndex",sO.collectionReadTimeIndexPath=["parentPath","readTime"];var oO=function(t){this.byteSize=t};oO.store="remoteDocumentGlobal",oO.key="remoteDocumentGlobalKey";var aO=function(t,e,n,i,r,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=r,this.lastLimboFreeSnapshotVersion=s,this.query=o};aO.store="targets",aO.keyPath="targetId",aO.queryTargetsIndexName="queryTargetsIndex",aO.queryTargetsKeyPath=["canonicalId","targetId"];var cO=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};cO.store="targetDocuments",cO.keyPath=["targetId","path"],cO.documentTargetsIndex="documentTargetsIndex",cO.documentTargetsKeyPath=["path","targetId"];var lO=function(t,e,n,i){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=i};lO.key="targetGlobalKey",lO.store="targetGlobal";var uO=function(t,e){this.collectionId=t,this.parent=e};uO.store="collectionParents",uO.keyPath=["collectionId","parent"];var hO=function(t,e,n,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=i};hO.store="clientMetadata",hO.keyPath="clientId";var dO=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};dO.store="bundles",dO.keyPath="bundleId";var fO=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};fO.store="namedQueries",fO.keyPath="name";var pO=Object(Pr.f)(Object(Pr.f)([],Object(Pr.f)(Object(Pr.f)([],Object(Pr.f)(Object(Pr.f)([],Object(Pr.f)(Object(Pr.f)([],[tO.store,eO.store,nO.store,sO.store,aO.store,JS.store,lO.store,cO.store]),[hO.store])),[oO.store])),[uO.store])),[dO.store,fO.store]),mO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",gO=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),bO=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},yO=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var i=this;return this.callbackAttached&&j_(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,r){i.nextCallback=function(n){i.wrapSuccess(e,n).next(t,r)},i.catchCallback=function(e){i.wrapFailure(n,e).next(t,r)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var i=0,r=0,s=!1;e.forEach(function(e){++i,e.next(function(){++r,s&&r===i&&t()},function(t){return n(t)})}),s=!0,r===i&&t()})},t.or=function(e){for(var n=t.resolve(!1),i=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},r=0,s=e;r<s.length;r++)i(s[r]);return n},t.forEach=function(t,e){var n=this,i=[];return t.forEach(function(t,r){i.push(e.call(n,t,r))}),this.waitFor(i)},t}(),vO=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new bO,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new CO(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var i=kO(e.target.error);n.ft.reject(new CO(t,i))}}return t.open=function(e,n,i,r){try{return new t(n,e.transaction(r,i))}catch(e){throw new CO(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(I_("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new OO(e)},t}(),_O=function(){function t(e,n,i){this.name=e,this.version=n,this.wt=i,12.2===t._t(Object(wg.h)())&&A_("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return I_("SimpleDb","Removing database:",t),EO(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(wg.h)(),n=t._t(e),i=0<n&&n<10,r=t.Et(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(Pr.b)(this,void 0,void 0,function(){var e,n=this;return Object(Pr.d)(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(I_("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,i){var r=indexedDB.open(n.name,n.version);r.onsuccess=function(t){e(t.target.result)},r.onblocked=function(){i(new CO(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=function(e){var n=e.target.error;i("VersionError"===n.name?new x_(E_.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new CO(t,n))},r.onupgradeneeded=function(t){I_("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,r.transaction,t.oldVersion,n.version).next(function(){I_("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,i){return Object(Pr.b)(this,void 0,void 0,function(){var r,s,o,a,c;return Object(Pr.d)(this,function(l){switch(l.label){case 0:r="readonly"===e,s=0,o=function(){var e,o,c,l,u;return Object(Pr.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=vO.open(a.db,t,r?"readonly":"readwrite",n),o=i(e).catch(function(t){return e.abort(t),yO.reject(t)}).toPromise(),c={},o.catch(function(){}),[4,e.dt];case 3:return[2,(c.value=(h.sent(),o),c)];case 4:return I_("SimpleDb","Transaction failed with error:",(l=h.sent()).message,"Retrying:",u="FirebaseError"!==l.name&&s<3),a.close(),u?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}})},a=this,l.label=1;case 1:return[5,o()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),wO=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return EO(this.Pt.delete())},t}(),CO=function(t){function e(e,n){var i=this;return(i=t.call(this,E_.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",i}return Object(Pr.c)(e,t),e}(x_);function SO(t){return"IndexedDbTransactionError"===t.name}var OO=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(I_("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(I_("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),EO(n)},t.prototype.add=function(t){return I_("SimpleDb","ADD",this.store.name,t,t),EO(this.store.add(t))},t.prototype.get=function(t){var e=this;return EO(this.store.get(t)).next(function(n){return void 0===n&&(n=null),I_("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return I_("SimpleDb","DELETE",this.store.name,t),EO(this.store.delete(t))},t.prototype.count=function(){return I_("SimpleDb","COUNT",this.store.name),EO(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),i=[];return this.xt(n,function(t,e){i.push(e)}).next(function(){return i})},t.prototype.Ft=function(t,e){I_("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var i=this.cursor(n);return this.xt(i,function(t,e,n){return n.delete()})},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var i=this.cursor(n);return this.xt(i,e)},t.prototype.$t=function(t){var e=this.cursor({});return new yO(function(n,i){e.onerror=function(t){var e=kO(t.target.error);i(e)},e.onsuccess=function(e){var i=e.target.result;i?t(i.primaryKey,i.value).next(function(t){t?i.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new yO(function(i,r){t.onerror=function(t){r(t.target.error)},t.onsuccess=function(t){var r=t.target.result;if(r){var s=new wO(r),o=e(r.primaryKey,r.value,s);if(o instanceof yO){var a=o.catch(function(t){return s.done(),yO.reject(t)});n.push(a)}s.isDone?i():null===s.Dt?r.continue():r.continue(s.Dt)}else i()}}).next(function(){return yO.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function EO(t){return new yO(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=kO(t.target.error);n(e)}})}var xO=!1;function kO(t){var e=_O._t(Object(wg.h)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var i=new x_("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return xO||(xO=!0,setTimeout(function(){throw i},0)),i}}return t}var TO=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).Mt=e,i.currentSequenceNumber=n,i}return Object(Pr.c)(e,t),e}(gO);function IO(t,e){var n=N_(t);return _O.It(n.Mt,e)}var AO=function(){function t(t,e,n,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=i}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,i=0;i<this.mutations.length;i++){var r=this.mutations[i];r.key.isEqual(t.key)&&TC(r,t,n[i])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(s=n[e]).key.isEqual(t.key)&&IC(s,t,this.localWriteTime);for(var i=0,r=this.mutations;i<r.length;i++){var s;(s=r[i]).key.isEqual(t.key)&&IC(s,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var i=t.get(n.key),r=i;e.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(q_.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},iS())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&V_(this.mutations,t.mutations,function(t,e){return DC(t,e)})&&V_(this.baseMutations,t.baseMutations,function(t,e){return DC(t,e)})},t}(),DO=function(){function t(t,e,n,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=i}return t.from=function(e,n,i){P_(e.mutations.length===i.length);for(var r=eS(),s=e.mutations,o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new t(e,n,i,r)},t}(),RO=function(){function t(t,e,n,i,r,s,o){void 0===r&&(r=q_.min()),void 0===s&&(s=q_.min()),void 0===o&&(o=Z_.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),jO=function(t){this.Lt=t};function PO(t,e){if(e.document)return DS(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=cw.fromSegments(e.noDocument.path),i=VO(e.noDocument.readTime),r=Ow.newNoDocument(n,i);return e.hasCommittedMutations?r.setHasCommittedMutations():r}if(e.unknownDocument){var s=cw.fromSegments(e.unknownDocument.path);return i=VO(e.unknownDocument.version),Ow.newUnknownDocument(s,i)}return j_()}function NO(t,e,n){var i=LO(n),r=e.key.path.popLast().toArray();if(e.isFoundDocument()){var s=function(t,e){return{name:OS(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:yS(t,e.version.toTimestamp())}}(t.Lt,e),o=e.hasCommittedMutations;return new sO(null,null,s,o,i,r)}if(e.isNoDocument()){var a=e.key.path.toArray(),c=MO(e.version);return o=e.hasCommittedMutations,new sO(null,new iO(a,c),null,o,i,r)}if(e.isUnknownDocument()){var l=e.key.path.toArray(),u=MO(e.version);return new sO(new rO(l,u),null,null,!0,i,r)}return j_()}function LO(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function FO(t){var e=new B_(t[0],t[1]);return q_.fromTimestamp(e)}function MO(t){var e=t.toTimestamp();return new XS(e.seconds,e.nanoseconds)}function VO(t){var e=new B_(t.seconds,t.nanoseconds);return q_.fromTimestamp(e)}function UO(t,e){for(var n=(e.baseMutations||[]).map(function(e){return jS(t.Lt,e)}),i=0;i<e.mutations.length-1;++i)i+1<e.mutations.length&&void 0!==e.mutations[i+1].transform&&(e.mutations[i].updateTransforms=e.mutations[i+1].transform.fieldTransforms,e.mutations.splice(i+1,1),++i);var r=e.mutations.map(function(e){return jS(t.Lt,e)}),s=B_.fromMillis(e.localWriteTimeMs);return new AO(e.batchId,s,n,r)}function BO(t){var e,n,i=VO(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?VO(t.lastLimboFreeSnapshotVersion):q_.min();return void 0!==t.query.documents?(P_(1===(n=t.query).documents.length),e=tC(Yw(kS(n.documents[0])))):e=function(t){return tC(LS(t))}(t.query),new RO(e,t.targetId,0,t.lastListenSequenceNumber,i,r,Z_.fromBase64String(t.resumeToken))}function qO(t,e){var n,i=MO(e.snapshotVersion),r=MO(e.lastLimboFreeSnapshotVersion);n=Iw(e.target)?PS(t.Lt,e.target):NS(t.Lt,e.target);var s=e.resumeToken.toBase64();return new aO(e.targetId,kw(e.target),i,s,e.sequenceNumber,r,n)}function HO(t){var e=LS({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?eC(e,e.limit,"L"):e}var zO=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return KO(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:VO(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return KO(t).put({bundleId:(n=e).id,createTime:MO(wS(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return WO(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:HO(e.bundledQuery),readTime:VO(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return WO(t).put(function(t){return{name:t.name,readTime:MO(wS(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function KO(t){return IO(t,dO.store)}function WO(t){return IO(t,fO.store)}var YO=function(){function t(){this.Bt=new $O}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),yO.resolve()},t.prototype.getCollectionParents=function(t,e){return yO.resolve(this.Bt.getEntries(e))},t}(),$O=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new $C(Y_.comparator),r=!i.has(n);return this.index[e]=i.add(n),r},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new $C(Y_.comparator)).toArray()},t}(),GO=function(){function t(){this.qt=new $O}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var s={collectionId:i,parent:$S(r)};return QO(t).put(s)}return yO.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],i=IDBKeyRange.bound([e,""],[U_(e),""],!1,!0);return QO(t).Nt(i).next(function(t){for(var i=0,r=t;i<r.length;i++){var s=r[i];if(s.collectionId!==e)break;n.push(ZS(s.parent))}return n})},t}();function QO(t){return IO(t,uO.store)}var ZO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XO=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function JO(t,e,n){var i=t.store(eO.store),r=t.store(nO.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,c=i.Ot({range:o},function(t,e,n){return a++,n.delete()});s.push(c.next(function(){P_(1===a)}));for(var l=[],u=0,h=n.mutations;u<h.length;u++){var d=h[u],f=nO.key(e,d.key.path,n.batchId);s.push(r.delete(f)),l.push(d.key)}return yO.waitFor(s).next(function(){return l})}function tE(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw j_();e=t.noDocument}return JSON.stringify(e).length}XO.DEFAULT_COLLECTION_PERCENTILE=10,XO.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,XO.DEFAULT=new XO(41943040,XO.DEFAULT_COLLECTION_PERCENTILE,XO.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),XO.DISABLED=new XO(-1,0,0);var eE=function(){function t(t,e,n,i){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=i,this.Qt={}}return t.Kt=function(e,n,i,r){return P_(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,i,r)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return iE(t).Ot({index:eO.userMutationsIndex,range:n},function(t,n,i){e=!1,i.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,i){var r=this,s=rE(t),o=iE(t);return o.add({}).next(function(a){P_("number"==typeof a);for(var c=new AO(a,e,n,i),l=function(t,e,n){var i=n.baseMutations.map(function(e){return RS(t.Lt,e)}),r=n.mutations.map(function(e){return RS(t.Lt,e)});return new eO(e,n.batchId,n.localWriteTime.toMillis(),i,r)}(r.R,r.userId,c),u=[],h=new $C(function(t,e){return M_(t.canonicalString(),e.canonicalString())}),d=0,f=i;d<f.length;d++){var p=f[d],m=nO.key(r.userId,p.key.path,a);h=h.add(p.key.path.popLast()),u.push(o.put(l)),u.push(s.put(m,nO.PLACEHOLDER))}return h.forEach(function(e){u.push(r.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){r.Qt[a]=c.keys()}),yO.waitFor(u).next(function(){return c})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return iE(t).get(e).next(function(t){return t?(P_(t.userId===n.userId),UO(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?yO.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var i=t.keys();return n.Qt[e]=i,i}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]),s=null;return iE(t).Ot({index:eO.userMutationsIndex,range:r},function(t,e,r){e.userId===n.userId&&(P_(e.batchId>=i),s=UO(n.R,e)),r.done()}).next(function(){return s})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return iE(t).Ot({index:eO.userMutationsIndex,range:e,reverse:!0},function(t,e,i){n=e.batchId,i.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return iE(t).Nt(eO.userMutationsIndex,n).next(function(t){return t.map(function(t){return UO(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,i=nO.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return rE(t).Ot({range:r},function(i,r,o){var a=i[0],c=i[2],l=ZS(i[1]);if(a===n.userId&&e.path.isEqual(l))return iE(t).get(c).next(function(t){if(!t)throw j_();P_(t.userId===n.userId),s.push(UO(n.R,t))});o.done()}).next(function(){return s})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,i=new $C(M_),r=[];return e.forEach(function(e){var s=nO.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=rE(t).Ot({range:o},function(t,r,s){var o=t[0],a=t[2],c=ZS(t[1]);o===n.userId&&e.path.isEqual(c)?i=i.add(a):s.done()});r.push(a)}),yO.waitFor(r).next(function(){return n.Wt(t,i)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,i=e.path,r=i.length+1,s=nO.prefixForPath(this.userId,i),o=IDBKeyRange.lowerBound(s),a=new $C(M_);return rE(t).Ot({range:o},function(t,e,s){var o=t[0],c=t[2],l=ZS(t[1]);o===n.userId&&i.isPrefixOf(l)?l.length===r&&(a=a.add(c)):s.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,i=[],r=[];return e.forEach(function(e){r.push(iE(t).get(e).next(function(t){if(null===t)throw j_();P_(t.userId===n.userId),i.push(UO(n.R,t))}))}),yO.waitFor(r).next(function(){return i})},t.prototype.removeMutationBatch=function(t,e){var n=this;return JO(t.Mt,this.userId,e).next(function(i){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),yO.forEach(i,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return yO.resolve();var i=IDBKeyRange.lowerBound(nO.prefixForUser(e.userId)),r=[];return rE(t).Ot({range:i},function(t,n,i){if(t[0]===e.userId){var s=ZS(t[1]);r.push(s)}else i.done()}).next(function(){P_(0===r.length)})})},t.prototype.containsKey=function(t,e){return nE(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return sE(t).get(this.userId).next(function(t){return t||new tO(e.userId,-1,"")})},t}();function nE(t,e,n){var i=nO.prefixForPath(e,n.path),r=i[1],s=IDBKeyRange.lowerBound(i),o=!1;return rE(t).Ot({range:s,kt:!0},function(t,n,i){t[0]===e&&t[1]===r&&(o=!0),i.done()}).next(function(){return o})}function iE(t){return IO(t,eO.store)}function rE(t){return IO(t,nO.store)}function sE(t){return IO(t,tO.store)}var oE=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),aE=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var i=new oE(n.highestTargetId);return n.highestTargetId=i.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return q_.fromTimestamp(new B_(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var i=this;return this.Xt(t).next(function(r){return r.highestListenSequenceNumber=e,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),i.Zt(t,r)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(i){return i.targetCount+=1,n.ee(e,i),n.Zt(t,i)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return cE(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return P_(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var i=this,r=0,s=[];return cE(t).Ot(function(o,a){var c=BO(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(r++,s.push(i.removeTargetData(t,c)))}).next(function(){return yO.waitFor(s)}).next(function(){return r})},t.prototype.forEachTarget=function(t,e){return cE(t).Ot(function(t,n){var i=BO(n);e(i)})},t.prototype.Xt=function(t){return lE(t).get(lO.key).next(function(t){return P_(null!==t),t})},t.prototype.Zt=function(t,e){return lE(t).put(lO.key,e)},t.prototype.te=function(t,e){return cE(t).put(qO(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=kw(e),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),r=null;return cE(t).Ot({range:i,index:aO.queryTargetsIndexName},function(t,n,i){var s=BO(n);Tw(e,s.target)&&(r=s,i.done())}).next(function(){return r})},t.prototype.addMatchingKeys=function(t,e,n){var i=this,r=[],s=uE(t);return e.forEach(function(e){var o=$S(e.path);r.push(s.put(new cO(n,o))),r.push(i.referenceDelegate.addReference(t,n,e))}),yO.waitFor(r)},t.prototype.removeMatchingKeys=function(t,e,n){var i=this,r=uE(t);return yO.forEach(e,function(e){var s=$S(e.path);return yO.waitFor([r.delete([n,s]),i.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=uE(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(i)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),i=uE(t),r=iS();return i.Ot({range:n,kt:!0},function(t,e,n){var i=ZS(t[1]),s=new cw(i);r=r.add(s)}).next(function(){return r})},t.prototype.containsKey=function(t,e){var n=$S(e.path),i=IDBKeyRange.bound([n],[U_(n)],!1,!0),r=0;return uE(t).Ot({index:cO.documentTargetsIndex,kt:!0,range:i},function(t,e,n){0!==t[0]&&(r++,n.done())}).next(function(){return r>0})},t.prototype.lt=function(t,e){return cE(t).get(e).next(function(t){return t?BO(t):null})},t}();function cE(t){return IO(t,aO.store)}function lE(t){return IO(t,lO.store)}function uE(t){return IO(t,cO.store)}function hE(t){return Object(Pr.b)(this,void 0,void 0,function(){return Object(Pr.d)(this,function(e){if(t.code!==E_.FAILED_PRECONDITION||t.message!==mO)throw t;return I_("LocalStore","Unexpectedly lost primary lease"),[2]})})}function dE(t,e){var n=t[1],i=e[1],r=M_(t[0],e[0]);return 0===r?M_(n,i):r}var fE=function(){function t(t){this.ne=t,this.buffer=new $C(dE),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();dE(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),pE=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;I_("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(Pr.b)(e,void 0,void 0,function(){var e;return Object(Pr.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return SO(e=n.sent())?(I_("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,hE(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),mE=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return yO.resolve(O_.o);var i=new fE(e);return this.ae.forEachTarget(t,function(t){return i.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return i.re(t)})}).next(function(){return i.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(I_("LruGarbageCollector","Garbage collection skipped; disabled"),yO.resolve(ZO)):this.getCacheSize(t).next(function(i){return i<n.params.cacheSizeCollectionThreshold?(I_("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),ZO):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,i,r,s,o,a,c,l=this,u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>l.params.maximumSequenceNumbersToCollect?(I_("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+e),i=l.params.maximumSequenceNumbersToCollect):i=e,s=Date.now(),l.nthSequenceNumber(t,i)}).next(function(i){return n=i,o=Date.now(),l.removeTargets(t,n,e)}).next(function(e){return r=e,a=Date.now(),l.removeOrphanedDocuments(t,n)}).next(function(t){return c=Date.now(),T_()<=Cg.a.DEBUG&&I_("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-u)+"ms\n\tDetermined least recently used "+i+" in "+(o-s)+"ms\n\tRemoved "+r+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(c-a)+"ms\nTotal Duration: "+(c-u)+"ms"),yO.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:t})})},t}(),gE=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new mE(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return bE(t,n)},t.prototype.removeReference=function(t,e,n){return bE(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return bE(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return sE(t).$t(function(i){return nE(t,i,e).next(function(t){return t&&(n=!0),yO.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],s=0;return this.we(t,function(o,a){if(a<=e){var c=n._e(t,o).next(function(e){if(!e)return s++,i.getEntry(t,o).next(function(){return i.removeEntry(o),uE(t).delete([0,$S(o.path)])})});r.push(c)}}).next(function(){return yO.waitFor(r)}).next(function(){return i.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return bE(t,e)},t.prototype.we=function(t,e){var n,i=uE(t),r=O_.o;return i.Ot({index:cO.documentTargetsIndex},function(t,i){var s=i.path,o=i.sequenceNumber;0===t[0]?(r!==O_.o&&e(new cw(ZS(n)),r),r=o,n=s):r=O_.o}).next(function(){r!==O_.o&&e(new cw(ZS(n)),r)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function bE(t,e){return uE(t).put(function(t,e){return new cO(0,$S(t.path),e)}(e,t.currentSequenceNumber))}var yE=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var i=0,r=n;i<r.length;i++){var s=r[i],o=s[1];if(this.equalsFn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),i=this.inner[n];if(void 0!==i){for(var r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return void(i[r]=[t,e]);i.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return 1===n.length?delete this.inner[e]:n.splice(i,1),!0;return!1},t.prototype.forEach=function(t){z_(this.inner,function(e,n){for(var i=0,r=n;i<r.length;i++){var s=r[i];t(s[0],s[1])}})},t.prototype.isEmpty=function(){return K_(this.inner)},t}(),vE=function(){function t(){this.changes=new yE(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:q_.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Ow.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?yO.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),_E=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return SE(t).put(OE(e),n)},t.prototype.removeEntry=function(t,e){var n=SE(t),i=OE(e);return n.delete(i)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(i){return i.byteSize+=e,n.me(t,i)})},t.prototype.getEntry=function(t,e){var n=this;return SE(t).get(OE(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return SE(t).get(OE(e)).next(function(t){return{document:n.ye(e,t),size:tE(t)}})},t.prototype.getEntries=function(t,e){var n=this,i=ZC();return this.pe(t,e,function(t,e){var r=n.ye(t,e);i=i.insert(t,r)}).next(function(){return i})},t.prototype.Ee=function(t,e){var n=this,i=ZC(),r=new KC(cw.comparator);return this.pe(t,e,function(t,e){var s=n.ye(t,e);i=i.insert(t,s),r=r.insert(t,tE(e))}).next(function(){return{documents:i,Te:r}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return yO.resolve();var i=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),r=e.getIterator(),s=r.getNext();return SE(t).Ot({range:i},function(t,e,i){for(var o=cw.fromSegments(t);s&&cw.comparator(s,o)<0;)n(s,null),s=r.getNext();s&&s.isEqual(o)&&(n(s,e),s=r.hasNext()?r.getNext():null),s?i.Ct(s.path.toArray()):i.done()}).next(function(){for(;s;)n(s,null),s=r.hasNext()?r.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var i=this,r=ZC(),s=e.path.length+1,o={};if(n.isEqual(q_.min())){var a=e.path.toArray();o.range=IDBKeyRange.lowerBound(a)}else{var c=e.path.toArray(),l=LO(n);o.range=IDBKeyRange.lowerBound([c,l],!0),o.index=sO.collectionReadTimeIndex}return SE(t).Ot(o,function(t,n,o){if(t.length===s){var a=PO(i.R,n);e.path.isPrefixOf(a.key.path)?sC(e,a)&&(r=r.insert(a.key,a)):o.done()}}).next(function(){return r})},t.prototype.newChangeBuffer=function(t){return new wE(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return CE(t).get(oO.key).next(function(t){return P_(!!t),t})},t.prototype.me=function(t,e){return CE(t).put(oO.key,e)},t.prototype.ye=function(t,e){if(e){var n=PO(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(q_.min()))return n}return Ow.newInvalidDocument(t)},t}(),wE=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).Ie=e,i.trackRemovals=n,i.Ae=new yE(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),i}return Object(Pr.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],i=0,r=new $C(function(t,e){return M_(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(s,o){var a=e.Ae.get(s);if(o.document.isValidDocument()){var c=NO(e.Ie.R,o.document,e.getReadTime(s));r=r.add(s.path.popLast());var l=tE(c);i+=l-a,n.push(e.Ie.addEntry(t,s,c))}else if(i-=a,e.trackRemovals){var u=NO(e.Ie.R,Ow.newNoDocument(s,q_.min()),e.getReadTime(s));n.push(e.Ie.addEntry(t,s,u))}else n.push(e.Ie.removeEntry(t,s))}),r.forEach(function(i){n.push(e.Ie.Ut.addToCollectionParentIndex(t,i))}),n.push(this.Ie.updateMetadata(t,i)),yO.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(vE);function CE(t){return IO(t,oO.store)}function SE(t){return IO(t,sO.store)}function OE(t){return t.path.toArray()}var EE=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,i){var r=this;P_(n<i&&n>=0&&i<=11);var s=new vO("createOrUpgrade",e);n<1&&i>=1&&(function(t){t.createObjectStore(JS.store)}(t),function(t){t.createObjectStore(tO.store,{keyPath:tO.keyPath}),t.createObjectStore(eO.store,{keyPath:eO.keyPath,autoIncrement:!0}).createIndex(eO.userMutationsIndex,eO.userMutationsKeyPath,{unique:!0}),t.createObjectStore(nO.store)}(t),xE(t),function(t){t.createObjectStore(sO.store)}(t));var o=yO.resolve();return n<3&&i>=3&&(0!==n&&(function(t){t.deleteObjectStore(cO.store),t.deleteObjectStore(aO.store),t.deleteObjectStore(lO.store)}(t),xE(t)),o=o.next(function(){return function(t){var e=t.store(lO.store),n=new lO(0,0,q_.min().toTimestamp(),0);return e.put(lO.key,n)}(s)})),n<4&&i>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(eO.store).Nt().next(function(n){t.deleteObjectStore(eO.store),t.createObjectStore(eO.store,{keyPath:eO.keyPath,autoIncrement:!0}).createIndex(eO.userMutationsIndex,eO.userMutationsKeyPath,{unique:!0});var i=e.store(eO.store),r=n.map(function(t){return i.put(t)});return yO.waitFor(r)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(hO.store,{keyPath:hO.keyPath})}(t)})),n<5&&i>=5&&(o=o.next(function(){return r.Re(s)})),n<6&&i>=6&&(o=o.next(function(){return function(t){t.createObjectStore(oO.store)}(t),r.be(s)})),n<7&&i>=7&&(o=o.next(function(){return r.ve(s)})),n<8&&i>=8&&(o=o.next(function(){return r.Pe(t,s)})),n<9&&i>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(sO.store);e.createIndex(sO.readTimeIndex,sO.readTimeIndexPath,{unique:!1}),e.createIndex(sO.collectionReadTimeIndex,sO.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&i>=10&&(o=o.next(function(){return r.Ve(s)})),n<11&&i>=11&&(o=o.next(function(){!function(t){t.createObjectStore(dO.store,{keyPath:dO.keyPath})}(t),function(t){t.createObjectStore(fO.store,{keyPath:fO.keyPath})}(t)})),o},t.prototype.be=function(t){var e=0;return t.store(sO.store).Ot(function(t,n){e+=tE(n)}).next(function(){var n=new oO(e);return t.store(oO.store).put(oO.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(tO.store),i=t.store(eO.store);return n.Nt().next(function(n){return yO.forEach(n,function(n){var r=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return i.Nt(eO.userMutationsIndex,r).next(function(i){return yO.forEach(i,function(i){P_(i.userId===n.userId);var r=UO(e.R,i);return JO(t,n.userId,r).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(cO.store),n=t.store(sO.store);return t.store(lO.store).get(lO.key).next(function(t){var i=[];return n.Ot(function(n,r){var s=new Y_(n),o=function(t){return[0,$S(t)]}(s);i.push(e.get(o).next(function(n){return n?yO.resolve():function(n){return e.put(new cO(0,$S(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return yO.waitFor(i)})})},t.prototype.Pe=function(t,e){t.createObjectStore(uO.store,{keyPath:uO.keyPath});var n=e.store(uO.store),i=new $O,r=function(t){if(i.add(t)){var e=t.lastSegment(),r=t.popLast();return n.put({collectionId:e,parent:$S(r)})}};return e.store(sO.store).Ot({kt:!0},function(t,e){var n=new Y_(t);return r(n.popLast())}).next(function(){return e.store(nO.store).Ot({kt:!0},function(t,e){var n=ZS(t[1]);return r(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(aO.store);return n.Ot(function(t,i){var r=BO(i),s=qO(e.R,r);return n.put(s)})},t}();function xE(t){t.createObjectStore(cO.store,{keyPath:cO.keyPath}).createIndex(cO.documentTargetsIndex,cO.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(aO.store,{keyPath:aO.keyPath}).createIndex(aO.queryTargetsIndexName,aO.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(lO.store)}var kE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",TE=function(){function t(e,n,i,r,s,o,a,c,l,u){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.Se=s,this.window=o,this.document=a,this.De=l,this.Ce=u,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new x_(E_.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new gE(this,r),this.Le=n+"main",this.R=new jO(c),this.Be=new _O(this.Le,11,new EE(this.R)),this.qe=new aE(this.referenceDelegate,this.R),this.Ut=new GO,this.Ue=function(t,e){return new _E(t,e)}(this.R,this.Ut),this.Qe=new zO,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===u&&A_("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new x_(E_.FAILED_PRECONDITION,kE);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new O_(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(Pr.b)(e,void 0,void 0,function(){return Object(Pr.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(Pr.b)(e,void 0,void 0,function(){return Object(Pr.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(Pr.b)(e,void 0,void 0,function(){return Object(Pr.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return AE(e).put(new hO(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(SO(e))return I_("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return I_("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return IE(t).get(JS.key).next(function(t){return yO.resolve(e.tn(t))})},t.prototype.en=function(t){return AE(t).delete(this.clientId)},t.prototype.nn=function(){return Object(Pr.b)(this,void 0,void 0,function(){var t,e,n,i=this;return Object(Pr.d)(this,function(r){switch(r.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=IO(t,hO.store);return e.Nt().next(function(t){var n=i.rn(t,18e5),r=t.filter(function(t){return-1===n.indexOf(t)});return yO.forEach(r,function(t){return e.delete(t.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(t=r.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));r.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?yO.resolve(!0):IE(t).get(JS.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new x_(E_.FAILED_PRECONDITION,kE);return!1}}return!(!e.networkEnabled||!e.inForeground)||AE(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&I_("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(Pr.b)(this,void 0,void 0,function(){var t=this;return Object(Pr.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[JS.store,hO.store],function(e){var n=new TO(e,O_.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return AE(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return eE.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var i,r=this;return I_("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",pO,function(s){return i=new TO(s,r.Ne?r.Ne.next():O_.o),"readwrite-primary"===e?r.Je(i).next(function(t){return!!t||r.Ye(i)}).next(function(e){if(!e)throw A_("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable(function(){return r.Me(!1)}),new x_(E_.FAILED_PRECONDITION,mO);return n(i)}).next(function(t){return r.Ze(i).next(function(){return t})}):r.dn(i).next(function(){return n(i)})}).then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return IE(t).get(JS.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new x_(E_.FAILED_PRECONDITION,kE)})},t.prototype.Ze=function(t){var e=new JS(this.clientId,this.allowTabSynchronization,Date.now());return IE(t).put(JS.key,e)},t.yt=function(){return _O.yt()},t.prototype.Xe=function(t){var e=this,n=IE(t);return n.get(JS.key).next(function(t){return e.tn(t)?(I_("IndexedDbPersistence","Releasing primary lease."),n.delete(JS.key)):yO.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(A_("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return I_("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return A_("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){A_("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function IE(t){return IO(t,JS.store)}function AE(t){return IO(t,hO.store)}function DE(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var RE=function(t,e){this.progress=t,this.wn=e},jE=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(i){return n.yn(t,e,i)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,i=n;e<i.length;e++)i[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var i=0,r=e;i<r.length;i++)r[i].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return cw.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Xw(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new cw(e)).next(function(t){var e=JC();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var i=this,r=e.collectionGroup,s=JC();return this.Ut.getCollectionParents(t,r).next(function(o){return yO.forEach(o,function(o){var a=function(t,e){return new Kw(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(r));return i.An(t,a,n).next(function(t){t.forEach(function(t,e){s=s.insert(t,e)})})}).next(function(){return s})})},t.prototype.An=function(t,e,n){var i,r,s=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return i=n,s._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return s.Rn(t,r=e,i).next(function(t){i=t;for(var e=0,n=r;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var c=a[o],l=c.key,u=i.get(l);null==u&&(u=Ow.newInvalidDocument(l),i=i.insert(l,u)),IC(c,u,s.localWriteTime),u.isFoundDocument()||(i=i.remove(l))}})}).next(function(){return i.forEach(function(t,n){sC(e,n)||(i=i.remove(t))}),i})},t.prototype.Rn=function(t,e,n){for(var i=iS(),r=0,s=e;r<s.length;r++)for(var o=0,a=s[r].mutations;o<a.length;o++){var c=a[o];c instanceof PC&&null===n.get(c.key)&&(i=i.add(c.key))}var l=n;return this.Ue.getEntries(t,i).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(l=l.insert(t,e))}),l})},t}(),PE=function(){function t(t,e,n,i){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=i}return t.Pn=function(e,n){for(var i=iS(),r=iS(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}}return new t(e,n.fromCache,i,r)},t}(),NE=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,i){var r=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(q_.min())?this.Dn(t,e):this.Sn.pn(t,i).next(function(s){var o=r.Cn(e,s);return($w(e)||Gw(e))&&r.Nn(e.limitType,o,i,n)?r.Dn(t,e):(T_()<=Cg.a.DEBUG&&I_("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),rC(e)),r.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return o.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new $C(oC(t));return e.forEach(function(e,i){sC(t,i)&&(n=n.add(i))}),n},t.prototype.Nn=function(t,e,n,i){if(n.size!==e.size)return!0;var r="F"===t?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)},t.prototype.Dn=function(t,e){return T_()<=Cg.a.DEBUG&&I_("QueryEngine","Using full collection scan to execute query:",rC(e)),this.Sn.getDocumentsMatchingQuery(t,e,q_.min())},t}(),LE=function(){function t(t,e,n,i){this.persistence=t,this.xn=e,this.R=i,this.Fn=new KC(M_),this.kn=new yE(function(t){return kw(t)},Tw),this.On=q_.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new jE(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function FE(t,e,n,i){return new LE(t,e,n,i)}function ME(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,i,r,s;return Object(Pr.d)(this,function(o){switch(o.label){case 0:return n=N_(t),i=n._n,r=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n._n.getAllMutationBatches(t).next(function(o){return s=o,i=n.persistence.getMutationQueue(e),r=new jE(n.$n,i,n.persistence.getIndexManager()),i.getAllMutationBatches(t)}).next(function(e){for(var n=[],i=[],o=iS(),a=0,c=s;a<c.length;a++){var l=c[a];n.push(l.batchId);for(var u=0,h=l.mutations;u<h.length;u++)o=o.add(h[u].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];i.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return r.pn(t,o).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:i}})})})];case 1:return s=o.sent(),[2,(n._n=i,n.Mn=r,n.xn.Vn(n.Mn),s)]}})})}function VE(t,e){var n=N_(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var i=e.batch.keys(),r=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,i){var r=n.batch,s=r.keys(),o=yO.resolve();return s.forEach(function(t){o=o.next(function(){return i.getEntry(e,t)}).next(function(e){var s=n.docVersions.get(t);P_(null!==s),e.version.compareTo(s)<0&&(r.applyToRemoteDocument(e,n),e.isValidDocument()&&i.addEntry(e,n.commitVersion))})}),o.next(function(){return t._n.removeMutationBatch(e,r)})}(n,t,e,r).next(function(){return r.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,i)})})}function UE(t){var e=N_(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function BE(t,e){var n=N_(t),i=e.snapshotVersion,r=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.$n.newChangeBuffer({trackRemovals:!0});r=n.Fn;var o=[];e.targetChanges.forEach(function(e,s){var a=r.get(s);if(a){o.push(n.qe.removeMatchingKeys(t,e.removedDocuments,s).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,s)}));var c=e.resumeToken;if(c.approximateByteSize()>0){var l=a.withResumeToken(c,i).withSequenceNumber(t.currentSequenceNumber);r=r.insert(s,l),function(t,e,n){return P_(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,l,e)&&o.push(n.qe.updateTargetData(t,l))}}});var a=ZC();if(e.documentUpdates.forEach(function(i,r){e.resolvedLimboDocuments.has(i)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,i))}),o.push(qE(t,s,e.documentUpdates,i,void 0).next(function(t){a=t})),!i.isEqual(q_.min())){var c=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,i)});o.push(c)}return yO.waitFor(o).next(function(){return s.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=r,t})}function qE(t,e,n,i,r){var s=iS();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=ZC();return n.forEach(function(n,o){var a=t.get(n),c=(null==r?void 0:r.get(n))||i;o.isNoDocument()&&o.version.isEqual(q_.min())?(e.removeEntry(n,c),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,c),s=s.insert(n,o)):I_("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function HE(t,e){var n=N_(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function zE(t,e){var n=N_(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var i;return n.qe.getTargetData(t,e).next(function(r){return r?yO.resolve(i=r):n.qe.allocateTargetId(t).next(function(r){return i=new RO(e,r,0,t.currentSequenceNumber),n.qe.addTargetData(t,i).next(function(){return i})})})}).then(function(t){var i=n.Fn.get(t.targetId);return(null===i||t.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function KE(t,e,n){return Object(Pr.b)(this,void 0,void 0,function(){var i,r,s,o;return Object(Pr.d)(this,function(a){switch(a.label){case 0:i=N_(t),r=i.Fn.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",s,function(t){return i.persistence.referenceDelegate.removeTarget(t,r)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!SO(o=a.sent()))throw o;return I_("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return i.Fn=i.Fn.remove(e),i.kn.delete(r.target),[2]}})})}function WE(t,e,n){var i=N_(t),r=q_.min(),s=iS();return i.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var i=N_(t),r=i.kn.get(n);return void 0!==r?yO.resolve(i.Fn.get(r)):i.qe.getTargetData(e,n)}(i,t,tC(e)).next(function(e){if(e)return r=e.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){s=t})}).next(function(){return i.xn.getDocumentsMatchingQuery(t,e,n?r:q_.min(),n?s:iS())}).next(function(t){return{documents:t,Bn:s}})})}function YE(t,e){var n=N_(t),i=N_(n.qe),r=n.Fn.get(e);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",function(t){return i.lt(t,e).next(function(t){return t?t.target:null})})}function $E(t){var e=N_(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var i=N_(t),r=ZC(),s=LO(n),o=SE(e),a=IDBKeyRange.lowerBound(s,!0);return o.Ot({index:sO.readTimeIndex,range:a},function(t,e){var n=PO(i.R,e);r=r.insert(n.key,n),s=e.readTime}).next(function(){return{wn:r,readTime:FO(s)}})}(e.$n,t,e.On)}).then(function(t){var n=t.wn;return e.On=t.readTime,n})}function GE(t){return Object(Pr.b)(this,void 0,void 0,function(){var e;return Object(Pr.d)(this,function(n){return[2,(e=N_(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=SE(t),n=q_.min();return e.Ot({index:sO.readTimeIndex,reverse:!0},function(t,e,i){e.readTime&&(n=FO(e.readTime)),i.done()}).next(function(){return n})}(t)}).then(function(t){e.On=t})]})})}function QE(t,e,n,i){return Object(Pr.b)(this,void 0,void 0,function(){var r,s,o,a,c,l,u,h,d,f;return Object(Pr.d)(this,function(p){switch(p.label){case 0:for(r=N_(t),s=iS(),o=ZC(),a=eS(),c=0,l=n;c<l.length;c++)h=e.qn((u=l[c]).metadata.name),u.document&&(s=s.add(h)),o=o.insert(h,e.Un(u)),a=a.insert(h,e.Qn(u.metadata.readTime));return d=r.$n.newChangeBuffer({trackRemovals:!0}),[4,zE(r,function(t){return tC(Yw(Y_.fromString("__bundle__/docs/"+t)))}(i))];case 1:return f=p.sent(),[2,r.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return qE(t,d,o,q_.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return r.qe.removeMatchingKeysForTargetId(t,f.targetId).next(function(){return r.qe.addMatchingKeys(t,s,f.targetId)}).next(function(){return r.Mn.En(t,e)}).next(function(){return e})})})]}})})}function ZE(t,e,n){return void 0===n&&(n=iS()),Object(Pr.b)(this,void 0,void 0,function(){var i,r;return Object(Pr.d)(this,function(s){switch(s.label){case 0:return[4,zE(t,tC(HO(e.bundledQuery)))];case 1:return i=s.sent(),[2,(r=N_(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=wS(e.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.Qe.saveNamedQuery(t,e);var o=i.withResumeToken(Z_.EMPTY_BYTE_STRING,s);return r.Fn=r.Fn.insert(o.targetId,o),r.qe.updateTargetData(t,o).next(function(){return r.qe.removeMatchingKeysForTargetId(t,i.targetId)}).next(function(){return r.qe.addMatchingKeys(t,n,i.targetId)}).next(function(){return r.Qe.saveNamedQuery(t,e)})})]}})})}var XE=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return yO.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:wS(n.createTime)}),yO.resolve()},t.prototype.getNamedQuery=function(t,e){return yO.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:HO(t.bundledQuery),readTime:wS(t.readTime)}}(e)),yO.resolve()},t}(),JE=function(){function t(){this.Wn=new $C(tx.Gn),this.zn=new $C(tx.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new tx(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new tx(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new cw(new Y_([])),i=new tx(n,t),r=new tx(n,t+1),s=[];return this.zn.forEachInRange([i,r],function(t){e.Yn(t),s.push(t.key)}),s},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new cw(new Y_([])),n=new tx(e,t),i=new tx(e,t+1),r=iS();return this.zn.forEachInRange([n,i],function(t){r=r.add(t.key)}),r},t.prototype.containsKey=function(t){var e=new tx(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),tx=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return cw.comparator(t.key,e.key)||M_(t.ns,e.ns)},t.Hn=function(t,e){return M_(t.ns,e.ns)||cw.comparator(t.key,e.key)},t}(),ex=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new $C(tx.Gn)}return t.prototype.checkEmpty=function(t){return yO.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,i){var r=this.ss;this.ss++;var s=new AO(r,e,n,i);this._n.push(s);for(var o=0,a=i;o<a.length;o++){var c=a[o];this.rs=this.rs.add(new tx(c.key,r)),this.Ut.addToCollectionParentIndex(t,c.key.path.popLast())}return yO.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return yO.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),i=n<0?0:n;return yO.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return yO.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return yO.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,i=new tx(e,0),r=new tx(e,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([i,r],function(t){var e=n.os(t.ns);s.push(e)}),yO.resolve(s)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,i=new $C(M_);return e.forEach(function(t){var e=new tx(t,0),r=new tx(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,r],function(t){i=i.add(t.ns)})}),yO.resolve(this.us(i))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,i=n.length+1,r=n;cw.isDocumentKey(r)||(r=r.child(""));var s=new tx(new cw(r),0),o=new $C(M_);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===i&&(o=o.add(t.ns)),!0)},s),yO.resolve(this.us(o))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var i=e.os(t);null!==i&&n.push(i)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;P_(0===this.hs(e.batchId,"removed")),this._n.shift();var i=this.rs;return yO.forEach(e.mutations,function(r){var s=new tx(r.key,e.batchId);return i=i.delete(s),n.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(function(){n.rs=i})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new tx(e,0),i=this.rs.firstAfterOrEqual(n);return yO.resolve(e.isEqual(i&&i.key))},t.prototype.performConsistencyCheck=function(t){return yO.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),nx=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new KC(cw.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var i=e.key,r=this.docs.get(i),s=r?r.size:0,o=this.ls(e);return this.docs=this.docs.insert(i,{document:e.clone(),size:o,readTime:n}),this.size+=o-s,this.Ut.addToCollectionParentIndex(t,i.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return yO.resolve(n?n.document.clone():Ow.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,i=ZC();return e.forEach(function(t){var e=n.docs.get(t);i=i.insert(t,e?e.document.clone():Ow.newInvalidDocument(t))}),yO.resolve(i)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var i=ZC(),r=new cw(e.path.child("")),s=this.docs.getIteratorFrom(r);s.hasNext();){var o=s.getNext(),a=o.value,c=a.document,l=a.readTime;if(!e.path.isPrefixOf(o.key.path))break;l.compareTo(n)<=0||sC(e,c)&&(i=i.insert(c.key,c.clone()))}return yO.resolve(i)},t.prototype.fs=function(t,e){return yO.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new ix(this)},t.prototype.getSize=function(t){return yO.resolve(this.size)},t}(),ix=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(Pr.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(i,r){r.document.isValidDocument()?n.push(e.Ie.addEntry(t,r.document,e.getReadTime(i))):e.Ie.removeEntry(i)}),yO.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(vE),rx=function(){function t(t){this.persistence=t,this.ds=new yE(function(t){return kw(t)},Tw),this.lastRemoteSnapshotVersion=q_.min(),this.highestTargetId=0,this.ws=0,this._s=new JE,this.targetCount=0,this.ys=oE.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),yO.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return yO.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return yO.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),yO.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),yO.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new oE(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,yO.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),yO.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,yO.resolve()},t.prototype.removeTargets=function(t,e,n){var i=this,r=0,s=[];return this.ds.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i.ds.delete(o),s.push(i.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),yO.waitFor(s).next(function(){return r})},t.prototype.getTargetCount=function(t){return yO.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return yO.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),yO.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var i=this.persistence.referenceDelegate,r=[];return i&&e.forEach(function(e){r.push(i.markPotentiallyOrphaned(t,e))}),yO.waitFor(r)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),yO.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return yO.resolve(n)},t.prototype.containsKey=function(t,e){return yO.resolve(this._s.containsKey(e))},t}(),sx=function(){function t(t,e){var n=this;this.gs={},this.Ne=new O_(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new rx(this),this.Ut=new YO,this.Ue=function(t,e){return new nx(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new jO(e),this.Qe=new XE(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new ex(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var i=this;I_("MemoryPersistence","Starting transaction:",t);var r=new ox(this.Ne.next());return this.referenceDelegate.Es(),n(r).next(function(t){return i.referenceDelegate.Ts(r).next(function(){return t})}).toPromise().then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return yO.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),ox=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(Pr.c)(e,t),e}(gO),ax=function(){function t(t){this.persistence=t,this.As=new JE,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw j_()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),yO.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),yO.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),yO.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return i.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return yO.forEach(this.vs,function(i){var r=cw.fromPath(i);return e.Ps(t,r).next(function(t){t||n.removeEntry(r)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return yO.or([function(){return yO.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),cx=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function lx(t,e){return"firestore_clients_"+t+"_"+e}function ux(t,e,n){var i="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(i+="_"+e.uid),i}function hx(t,e){return"firestore_targets_"+t+"_"+e}cx.UNAUTHENTICATED=new cx(null),cx.GOOGLE_CREDENTIALS=new cx("google-credentials-uid"),cx.FIRST_PARTY=new cx("first-party-uid");var dx=function(){function t(t,e,n,i){this.user=t,this.batchId=e,this.state=n,this.error=i}return t.Vs=function(e,n,i){var r,s=JSON.parse(i),o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(r=new x_(s.error.code,s.error.message)),o?new t(e,n,s.state,r):(A_("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),fx=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var i,r=JSON.parse(n),s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(i=new x_(r.error.code,r.error.message)),s?new t(e,r.state,i):(A_("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),px=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var i=JSON.parse(n),r="object"==typeof i&&i.activeTargetIds instanceof Array,s=sS(),o=0;r&&o<i.activeTargetIds.length;++o)r=aw(i.activeTargetIds[o]),s=s.add(i.activeTargetIds[o]);return r?new t(e,s):(A_("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),mx=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(A_("SharedClientState","Failed to parse online state: "+e),null)},t}(),gx=function(){function t(){this.activeTargetIds=sS()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),bx=function(){function t(t,e,n,i,r){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new KC(M_),this.started=!1,this.Os=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=r,this.$s=lx(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new gx),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Pr.b)(this,void 0,void 0,function(){var t,e,n,i,r,s,o,a,c,l,u=this;return Object(Pr.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this.Ns&&(r=this.getItem(lx(this.persistenceKey,i)))&&(s=px.Vs(i,r))&&(this.ks=this.ks.insert(s.clientId,s));for(this.Ks(),(o=this.storage.getItem(this.Us))&&(a=this.js(o))&&this.Ws(a),c=0,l=this.Os;c<l.length;c++)this.Fs(l[c]);return this.Os=[],this.window.addEventListener("unload",function(){return u.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,i){i.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(hx(this.persistenceKey,t));if(n){var i=fx.Vs(t,n);i&&(e=i.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(hx(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var i=this;e.forEach(function(t){i.Hs(t)}),this.currentUser=t,n.forEach(function(t){i.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return I_("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){I_("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){I_("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(I_("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void A_("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(Pr.b)(e,void 0,void 0,function(){var t,e,i,r,s,o;return Object(Pr.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(i=this.si(n.key,n.newValue)))return[2,this.ii(i)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(r=this.ri(n.key,n.newValue)))return[2,this.oi(r)]}else if(n.key===this.Us){if(null!==n.newValue&&(s=this.js(n.newValue)))return[2,this.Ws(s)]}else if(n.key===this.Ms)(o=function(t){var e=O_.o;if(null!=t)try{var n=JSON.parse(t);P_("number"==typeof n),e=n}catch(t){A_("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==O_.o&&this.sequenceNumberHandler(o);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var i=new dx(this.currentUser,t,e,n),r=ux(this.persistenceKey,this.currentUser,t);this.setItem(r,i.Ss())},t.prototype.Hs=function(t){var e=ux(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var i=hx(this.persistenceKey,t),r=new fx(t,e,n);this.setItem(i,r.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return px.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),i=Number(n[1]);return dx.Vs(new cx(void 0!==n[2]?n[2]:null),i,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),i=Number(n[1]);return fx.Vs(i,e)},t.prototype.js=function(t){return mx.Vs(t)},t.prototype.ii=function(t){return Object(Pr.b)(this,void 0,void 0,function(){return Object(Pr.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(I_("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,i=e?this.ks.insert(t,e):this.ks.remove(t),r=this.Gs(this.ks),s=this.Gs(i),o=[],a=[];return s.forEach(function(t){r.has(t)||o.push(t)}),r.forEach(function(t){s.has(t)||a.push(t)}),this.syncEngine.hi(o,a).then(function(){n.ks=i})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=sS();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),yx=function(){function t(){this.li=new gx,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new gx,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),vx=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),_x=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){I_("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){I_("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),wx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Cx=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Sx=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(Pr.c)(e,t),e.prototype.ki=function(t,e,n,i){return new Promise(function(r,s){var o=new S_;o.listenOnce(__.COMPLETE,function(){try{switch(o.getLastErrorCode()){case v_.NO_ERROR:var e=o.getResponseJson();I_("Connection","XHR received:",JSON.stringify(e)),r(e);break;case v_.TIMEOUT:I_("Connection",'RPC "'+t+'" timed out'),s(new x_(E_.DEADLINE_EXCEEDED,"Request time out"));break;case v_.HTTP_ERROR:var n=o.getStatus();if(I_("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var i=o.getResponseJson().error;if(i&&i.status&&i.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(E_).indexOf(e)>=0?e:E_.UNKNOWN}(i.status);s(new x_(a,i.message))}else s(new x_(E_.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new x_(E_.UNAVAILABLE,"Connection failed."));break;default:j_()}}finally{I_("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(i);o.send(e,"POST",a,n,15)})},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new p_,r=by(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(s.initMessageHeaders,e),Object(wg.m)()||Object(wg.o)()||Object(wg.k)()||Object(wg.l)()||Object(wg.p)()||Object(wg.j)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");I_("Connection","Creating WebChannel: "+o,s);var a=i.createWebChannel(o,s),c=!1,l=!1,u=new Cx({Ei:function(t){l?I_("Connection","Not sending because WebChannel is closed:",t):(c||(I_("Connection","Opening WebChannel transport."),a.open(),c=!0),I_("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,C_.EventType.OPEN,function(){l||I_("Connection","WebChannel transport opened.")}),h(a,C_.EventType.CLOSE,function(){l||(l=!0,I_("Connection","WebChannel transport closed"),u.Vi())}),h(a,C_.EventType.ERROR,function(t){l||(l=!0,D_("Connection","WebChannel transport errored:",t),u.Vi(new x_(E_.UNAVAILABLE,"The operation could not be completed")))}),h(a,C_.EventType.MESSAGE,function(t){var e;if(!l){var n=t.data[0];P_(!!n);var i=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(i){I_("Connection","WebChannel received error:",i);var r=i.status,s=function(t){var e=MC[t];if(void 0!==e)return zC(e)}(r),o=i.message;void 0===s&&(s=E_.INTERNAL,o="Unknown error status: "+r+" with message "+i.message),l=!0,u.Vi(new x_(s,o)),a.close()}else I_("Connection","WebChannel received:",n),u.Si(n)}}),h(r,w_.STAT_EVENT,function(t){10===t.stat?I_("Connection","Detected buffering proxy"):11===t.stat&&I_("Connection","Detected no buffering proxy")}),setTimeout(function(){u.Pi()},0),u},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,i){var r=this.xi(t,e);I_("RestConnection","Sending: ",r,n);var s={};return this.Fi(s,i),this.ki(t,r,s,n).then(function(t){return I_("RestConnection","Received: ",t),t},function(e){throw D_("RestConnection",t+" failed with error: ",e,"url: ",r,"request:",n),e})},t.prototype.Oi=function(t,e,n,i){return this.Ni(t,e,n,i)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.4.0",t["X-Firebase-GMPID"]=this.databaseInfo.appId,t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+wx[t]},t}());function Ox(){return"undefined"!=typeof window?window:null}function Ex(){return"undefined"!=typeof document?document:null}function xx(t){return new bS(t,!0)}var kx=function(){function t(t,e,n,i,r){void 0===n&&(n=1e3),void 0===i&&(i=1.5),void 0===r&&(r=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=i,this.Bi=r,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Qi),r=Math.max(0,n-i);r>0&&I_("ExponentialBackoff","Backing off for "+r+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,r,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Tx=function(){function t(t,e,n,i,r,s){this.Se=t,this.zi=n,this.Hi=i,this.Ji=r,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new kx(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(Pr.b)(this,void 0,void 0,function(){return Object(Pr.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(Pr.b)(this,void 0,void 0,function(){return Object(Pr.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(Pr.b)(this,void 0,void 0,function(){return Object(Pr.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===E_.RESOURCE_EXHAUSTED?(A_(e.toString()),A_("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===E_.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new x_(E_.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(Pr.b)(t,void 0,void 0,function(){return Object(Pr.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return I_("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(I_("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Ix=function(t){function e(e,n,i,r,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,i,s)||this).R=r,o}return Object(Pr.c)(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var i=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:j_()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(t,e){return t.I?(P_(void 0===e||"string"==typeof e),Z_.fromBase64String(e||"")):(P_(void 0===e||e instanceof Uint8Array),Z_.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?E_.UNKNOWN:zC(t.code);return new x_(e,t.message||"")}(a);n=new uS(i,r,s,o||null)}else if("documentChange"in e){r=ES(t,(i=e.documentChange).document.name),s=wS(i.document.updateTime);var a=new Cw({mapValue:{fields:i.document.fields}}),c=(o=Ow.newFoundDocument(r,s,a),i.targetIds||[]);n=new cS(c,i.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)r=ES(t,(i=e.documentDelete).document),s=i.readTime?wS(i.readTime):q_.min(),a=Ow.newNoDocument(r,s),n=new cS([],o=i.removedTargetIds||[],a.key,a);else if("documentRemove"in e)r=ES(t,(i=e.documentRemove).document),n=new cS([],s=i.removedTargetIds||[],r,null);else{if(!("filter"in e))return j_();var l=e.filter;r=new qC(i=l.count||0),n=new lS(s=l.targetId,r)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return q_.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?q_.min():e.readTime?wS(e.readTime):q_.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=TS(this.R),e.addTarget=function(t,e){var n,i=e.target;return(n=Iw(i)?{documents:PS(t,i)}:{query:NS(t,i)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=vS(t,e.resumeToken):e.snapshotVersion.compareTo(q_.min())>0&&(n.readTime=yS(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return j_()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=TS(this.R),e.removeTarget=t,this.cr(e)},e}(Tx),Ax=function(t){function e(e,n,i,r,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,i,s)||this).R=r,o.gr=!1,o}return Object(Pr.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(P_(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(P_(void 0!==e),t.map(function(t){return function(t,e){var n=wS(t.updateTime?t.updateTime:e);return n.isEqual(q_.min())&&(n=wS(e)),new OC(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=wS(t.commitTime);return this.listener.Tr(n,e)}return P_(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=TS(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return RS(e.R,t)})};this.cr(n)},e}(Tx),Dx=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).credentials=e,r.Hi=n,r.R=i,r.Rr=!1,r}return Object(Pr.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new x_(E_.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var i=this;return this.br(),this.credentials.getToken().then(function(r){return i.Hi.Ni(t,e,n,r)}).catch(function(t){throw t.code===E_.UNAUTHENTICATED&&i.credentials.invalidateToken(),t})},e.prototype.Oi=function(t,e,n){var i=this;return this.br(),this.credentials.getToken().then(function(r){return i.Hi.Oi(t,e,n,r)}).catch(function(t){throw t.code===E_.UNAUTHENTICATED&&i.credentials.invalidateToken(),t})},e.prototype.terminate=function(){this.Rr=!1},e}(function(){}),Rx=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(A_(e),this.Vr=!1):I_("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),jx=function(t,e,n,i,r){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=r,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(Pr.b)(s,void 0,void 0,function(){return Object(Pr.d)(this,function(t){switch(t.label){case 0:return qx(this)?(I_("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Pr.b)(this,void 0,void 0,function(){var e;return Object(Pr.d)(this,function(n){switch(n.label){case 0:return(e=N_(t)).$r.add(4),[4,Nx(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,Px(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new Rx(n,i)};function Px(t){return Object(Pr.b)(this,void 0,void 0,function(){var e,n;return Object(Pr.d)(this,function(i){switch(i.label){case 0:if(!qx(t))return[3,4];e=0,n=t.Mr,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Nx(t){return Object(Pr.b)(this,void 0,void 0,function(){var e,n;return Object(Pr.d)(this,function(i){switch(i.label){case 0:e=0,n=t.Mr,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Lx(t,e){var n=N_(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),Bx(n)?Ux(n):ik(n).er()&&Mx(n,e))}function Fx(t,e){var n=N_(t),i=ik(n);n.Or.delete(e),i.er()&&Vx(n,e),0===n.Or.size&&(i.er()?i.ir():qx(n)&&n.Br.set("Unknown"))}function Mx(t,e){t.qr.U(e.targetId),ik(t).mr(e)}function Vx(t,e){t.qr.U(e),ik(t).yr(e)}function Ux(t){t.qr=new dS({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),ik(t).start(),t.Br.Sr()}function Bx(t){return qx(t)&&!ik(t).tr()&&t.Or.size>0}function qx(t){return 0===N_(t).$r.size}function Hx(t){t.qr=void 0}function zx(t){return Object(Pr.b)(this,void 0,void 0,function(){return Object(Pr.d)(this,function(e){return t.Or.forEach(function(e,n){Mx(t,e)}),[2]})})}function Kx(t,e){return Object(Pr.b)(this,void 0,void 0,function(){return Object(Pr.d)(this,function(n){return Hx(t),Bx(t)?(t.Br.Nr(e),Ux(t)):t.Br.set("Unknown"),[2]})})}function Wx(t,e,n){return Object(Pr.b)(this,void 0,void 0,function(){var i,r,s;return Object(Pr.d)(this,function(o){switch(o.label){case 0:if(t.Br.set("Online"),!(e instanceof uS&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,i,r,s;return Object(Pr.d)(this,function(o){switch(o.label){case 0:n=e.cause,i=0,r=e.targetIds,o.label=1;case 1:return i<r.length?t.Or.has(s=r[i])?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Or.delete(s),t.qr.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return i++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return i=o.sent(),I_("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,Yx(t,i)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof cS?t.qr.X(e):e instanceof lS?t.qr.rt(e):t.qr.et(e),n.isEqual(q_.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,UE(t.localStore)];case 8:return r=o.sent(),n.compareTo(r)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,i){if(n.resumeToken.approximateByteSize()>0){var r=t.Or.get(i);r&&t.Or.set(i,r.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(Z_.EMPTY_BYTE_STRING,n.snapshotVersion)),Vx(t,e);var i=new RO(n.target,e,1,n.sequenceNumber);Mx(t,i)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return I_("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,Yx(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function Yx(t,e,n){return Object(Pr.b)(this,void 0,void 0,function(){var i=this;return Object(Pr.d)(this,function(r){switch(r.label){case 0:if(!SO(e))throw e;return t.$r.add(1),[4,Nx(t)];case 1:return r.sent(),t.Br.set("Offline"),n||(n=function(){return UE(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(Pr.b)(i,void 0,void 0,function(){return Object(Pr.d)(this,function(e){switch(e.label){case 0:return I_("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,Px(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function $x(t,e){return e().catch(function(n){return Yx(t,n,e)})}function Gx(t){return Object(Pr.b)(this,void 0,void 0,function(){var e,n,i,r,s;return Object(Pr.d)(this,function(o){switch(o.label){case 0:e=N_(t),n=rk(e),i=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return qx(t)&&t.kr.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,HE(e.localStore,i)];case 3:return null===(r=o.sent())?(0===e.kr.length&&n.ir(),[3,7]):(i=r.batchId,function(t,e){t.kr.push(e);var n=rk(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,r),[3,6]);case 4:return s=o.sent(),[4,Yx(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return Qx(e)&&Zx(e),[2]}})})}function Qx(t){return qx(t)&&!rk(t).tr()&&t.kr.length>0}function Zx(t){rk(t).start()}function Xx(t){return Object(Pr.b)(this,void 0,void 0,function(){return Object(Pr.d)(this,function(e){return rk(t).Ar(),[2]})})}function Jx(t){return Object(Pr.b)(this,void 0,void 0,function(){var e,n,i;return Object(Pr.d)(this,function(r){for(e=rk(t),n=0,i=t.kr;n<i.length;n++)e.Er(i[n].mutations);return[2]})})}function tk(t,e,n){return Object(Pr.b)(this,void 0,void 0,function(){var i,r;return Object(Pr.d)(this,function(s){switch(s.label){case 0:return i=t.kr.shift(),r=DO.from(i,e,n),[4,$x(t,function(){return t.remoteSyncer.applySuccessfulWrite(r)})];case 1:return s.sent(),[4,Gx(t)];case 2:return s.sent(),[2]}})})}function ek(t,e){return Object(Pr.b)(this,void 0,void 0,function(){return Object(Pr.d)(this,function(n){switch(n.label){case 0:return e&&rk(t).pr?[4,function(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,i;return Object(Pr.d)(this,function(r){switch(r.label){case 0:return HC(i=e.code)&&i!==E_.ABORTED?(n=t.kr.shift(),rk(t).sr(),[4,$x(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return r.sent(),[4,Gx(t)];case 2:r.sent(),r.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Qx(t)&&Zx(t),[2]}})})}function nk(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n;return Object(Pr.d)(this,function(i){switch(i.label){case 0:return n=N_(t),e?(n.$r.delete(2),[4,Px(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,Nx(n)]);case 3:i.sent(),n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function ik(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var i=N_(t);return i.br(),new Ix(e,i.Hi,i.credentials,i.R,n)}(t.datastore,t.asyncQueue,{Ii:zx.bind(null,t),Ri:Kx.bind(null,t),_r:Wx.bind(null,t)}),t.Mr.push(function(n){return Object(Pr.b)(e,void 0,void 0,function(){return Object(Pr.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Bx(t)?Ux(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Hx(t),e.label=3;case 3:return[2]}})})})),t.Ur}function rk(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var i=N_(t);return i.br(),new Ax(e,i.Hi,i.credentials,i.R,n)}(t.datastore,t.asyncQueue,{Ii:Xx.bind(null,t),Ri:ek.bind(null,t),Ir:Jx.bind(null,t),Tr:tk.bind(null,t)}),t.Mr.push(function(n){return Object(Pr.b)(e,void 0,void 0,function(){return Object(Pr.d)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,Gx(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(I_("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var sk=function(){function t(t,e,n,i,r){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new bO,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,i,r,s){var o=new t(e,n,Date.now()+i,r,s);return o.start(i),o},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new x_(E_.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function ok(t,e){if(A_("AsyncQueue",e+": "+t),SO(t))return new x_(E_.UNAVAILABLE,e+": "+t);throw t}var ak=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||cw.comparator(e.key,n.key)}:function(t,e){return cw.comparator(t.key,e.key)},this.keyedMap=JC(),this.sortedSet=new KC(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();n.hasNext();){var r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i},t}(),ck=function(){function t(){this.Kr=new KC(cw.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):j_():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),lk=function(){function t(t,e,n,i,r,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,i,r){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,ak.emptySet(n),s,i,r,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&nC(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0},t}(),uk=function(){this.Wr=void 0,this.listeners=[]},hk=function(){this.queries=new yE(function(t){return iC(t)},nC),this.onlineState="Unknown",this.Gr=new Set};function dk(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,i,r,s,o,a,c;return Object(Pr.d)(this,function(l){switch(l.label){case 0:if(n=N_(t),r=!1,(s=n.queries.get(i=e.query))||(r=!0,s=new uk),!r)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),o=s,[4,n.onListen(i)];case 2:return o.Wr=l.sent(),[3,4];case 3:return a=l.sent(),c=ok(a,"Initialization of query '"+rC(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(i,s),s.listeners.push(e),e.zr(n.onlineState),s.Wr&&e.Hr(s.Wr)&&gk(n),[2]}})})}function fk(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,i,r,s,o;return Object(Pr.d)(this,function(a){return n=N_(t),r=!1,(s=n.queries.get(i=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),r=0===s.listeners.length),r?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function pk(t,e){for(var n=N_(t),i=!1,r=0,s=e;r<s.length;r++){var o=s[r],a=n.queries.get(o.query);if(a){for(var c=0,l=a.listeners;c<l.length;c++)l[c].Hr(o)&&(i=!0);a.Wr=o}}i&&gk(n)}function mk(t,e,n){var i=N_(t),r=i.queries.get(e);if(r)for(var s=0,o=r.listeners;s<o.length;s++)o[s].onError(n);i.queries.delete(e)}function gk(t){t.Gr.forEach(function(t){t.next()})}var bk=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,i=t.docChanges;n<i.length;n++){var r=i[n];3!==r.type&&e.push(r)}t=new lk(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=lk.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),yk=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),vk=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return ES(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?DS(this.R,t.document,!1):Ow.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return wS(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new vk(this.R),i=0,r=t;i<r.length;i++){var s=r[i];if(s.metadata.queries)for(var o=n.qn(s.metadata.name),a=0,c=s.metadata.queries;a<c.length;a++){var l=c[a],u=(e.get(l)||iS()).add(o);e.set(l,u)}}return e},t.prototype.complete=function(){return Object(Pr.b)(this,void 0,void 0,function(){var t,e,n,i,r;return Object(Pr.d)(this,function(s){switch(s.label){case 0:return[4,QE(this.localStore,new vk(this.R),this.documents,this.ro.id)];case 1:t=s.sent(),e=this.co(this.documents),n=0,i=this.queries,s.label=2;case 2:return n<i.length?[4,ZE(this.localStore,r=i[n],e.get(r.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new RE(Object.assign({},this.progress),t))]}})})}}();var _k=function(t){this.key=t},wk=function(t){this.key=t},Ck=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=iS(),this.mutatedKeys=iS(),this.lo=oC(t),this.fo=new ak(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,i=e?e.mo:new ck,r=e?e.fo:this.fo,s=e?e.mutatedKeys:this.mutatedKeys,o=r,a=!1,c=$w(this.query)&&r.size===this.query.limit?r.last():null,l=Gw(this.query)&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(function(t,e){var u=r.get(t),h=sC(n.query,e)?e:null,d=!!u&&n.mutatedKeys.has(u.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;u&&h?u.data.isEqual(h.data)?d!==f&&(i.track({type:3,doc:h}),p=!0):n.yo(u,h)||(i.track({type:2,doc:h}),p=!0,(c&&n.lo(h,c)>0||l&&n.lo(h,l)<0)&&(a=!0)):!u&&h?(i.track({type:0,doc:h}),p=!0):u&&!h&&(i.track({type:1,doc:u}),p=!0,(c||l)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),$w(this.query)||Gw(this.query))for(;o.size>this.query.limit;){var u=$w(this.query)?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{fo:o,mo:i,Nn:a,mutatedKeys:s}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var i=this,r=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return j_()}};return n(t)-n(e)}(t.type,e.type)||i.lo(t.doc,e.doc)}),this.po(n);var o=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,c=a!==this.ao;return this.ao=a,0!==s.length||c?{snapshot:new lk(this.query,t.fo,r,s,t.mutatedKeys,0===a,c,!1),To:o}:{To:o}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new ck,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=iS(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new wk(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new _k(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=iS();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return lk.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Sk=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Ok=function(t){this.key=t,this.bo=!1},Ek=function(){function t(t,e,n,i,r,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new yE(function(t){return iC(t)},nC),this.Vo=new Map,this.So=new Set,this.Do=new KC(cw.comparator),this.Co=new Map,this.No=new JE,this.xo={},this.Fo=new Map,this.ko=oE.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function xk(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,i,r,s,o;return Object(Pr.d)(this,function(a){switch(a.label){case 0:return n=eT(t),(r=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(r.targetId),i=r.view.Ro(),[3,4]):[3,1];case 1:return[4,zE(n.localStore,tC(e))];case 2:return s=a.sent(),o=n.sharedClientState.addLocalQueryTarget(s.targetId),[4,kk(n,e,s.targetId,"current"===o)];case 3:i=a.sent(),n.isPrimaryClient&&Lx(n.remoteStore,s),a.label=4;case 4:return[2,i]}})})}function kk(t,e,n,i){return Object(Pr.b)(this,void 0,void 0,function(){var r,s,o,a,c,l;return Object(Pr.d)(this,function(u){switch(u.label){case 0:return t.$o=function(e,n,i){return function(t,e,n,i){return Object(Pr.b)(this,void 0,void 0,function(){var r,s,o;return Object(Pr.d)(this,function(a){switch(a.label){case 0:return(r=e.view._o(n)).Nn?[4,WE(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,r)})]:[3,2];case 1:r=a.sent(),a.label=2;case 2:return s=i&&i.targetChanges.get(e.targetId),o=e.view.applyChanges(r,t.isPrimaryClient,s),[2,(Uk(t,e.targetId,o.To),o.snapshot)]}})})}(t,e,n,i)},[4,WE(t.localStore,e,!0)];case 1:return r=u.sent(),s=new Ck(e,r.Bn),o=s._o(r.documents),a=aS.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState),c=s.applyChanges(o,t.isPrimaryClient,a),Uk(t,n,c.To),l=new Sk(e,n,s),[2,(t.Po.set(e,l),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),c.snapshot)]}})})}function Tk(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,i,r;return Object(Pr.d)(this,function(s){switch(s.label){case 0:return n=N_(t),i=n.Po.get(e),(r=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,r.filter(function(t){return!nC(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,KE(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),Fx(n.remoteStore,i.targetId),Mk(n,i.targetId)}).catch(hE)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Mk(n,i.targetId),[4,KE(n.localStore,i.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function Ik(t,e,n){return Object(Pr.b)(this,void 0,void 0,function(){var i,r,s,o;return Object(Pr.d)(this,function(a){switch(a.label){case 0:i=nT(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,i=N_(t),r=B_.now(),s=e.reduce(function(t,e){return t.add(e.key)},iS());return i.persistence.runTransaction("Locally write mutations","readwrite",function(t){return i.Mn.pn(t,s).next(function(s){n=s;for(var o=[],a=0,c=e;a<c.length;a++){var l=c[a],u=AC(l,n.get(l.key));null!=u&&o.push(new PC(l.key,u,Sw(u.toProto().mapValue),EC.exists(!0)))}return i._n.addMutationBatch(t,r,o,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(i.localStore,e)];case 2:return r=a.sent(),i.sharedClientState.addPendingMutation(r.batchId),function(t,e,n){var i=t.xo[t.currentUser.toKey()];i||(i=new KC(M_)),i=i.insert(e,n),t.xo[t.currentUser.toKey()]=i}(i,r.batchId,n),[4,Hk(i,r.changes)];case 3:return a.sent(),[4,Gx(i.remoteStore)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=ok(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function Ak(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,i;return Object(Pr.d)(this,function(r){switch(r.label){case 0:n=N_(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,BE(n.localStore,e)];case 2:return i=r.sent(),e.targetChanges.forEach(function(t,e){var i=n.Co.get(e);i&&(P_(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?i.bo=!0:t.modifiedDocuments.size>0?P_(i.bo):t.removedDocuments.size>0&&(P_(i.bo),i.bo=!1))}),[4,Hk(n,i,e)];case 3:return r.sent(),[3,6];case 4:return[4,hE(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})}function Dk(t,e,n){var i=N_(t);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){var r=[];i.Po.forEach(function(t,n){var i=n.view.zr(e);i.snapshot&&r.push(i.snapshot)}),function(t,e){var n=N_(t);n.onlineState=e;var i=!1;n.queries.forEach(function(t,n){for(var r=0,s=n.listeners;r<s.length;r++)s[r].zr(e)&&(i=!0)}),i&&gk(n)}(i.eventManager,e),r.length&&i.vo._r(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Rk(t,e,n){return Object(Pr.b)(this,void 0,void 0,function(){var i,r,s,o,a,c;return Object(Pr.d)(this,function(l){switch(l.label){case 0:return(i=N_(t)).sharedClientState.updateQueryState(e,"rejected",n),r=i.Co.get(e),(s=r&&r.key)?(o=(o=new KC(cw.comparator)).insert(s,Ow.newNoDocument(s,q_.min())),a=iS().add(s),c=new oS(q_.min(),new Map,new $C(M_),o,a),[4,Ak(i,c)]):[3,2];case 1:return l.sent(),i.Do=i.Do.remove(s),i.Co.delete(e),qk(i),[3,4];case 2:return[4,KE(i.localStore,e,!1).then(function(){return Mk(i,e,n)}).catch(hE)];case 3:l.sent(),l.label=4;case 4:return[2]}})})}function jk(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,i,r;return Object(Pr.d)(this,function(s){switch(s.label){case 0:n=N_(t),i=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,VE(n.localStore,e)];case 2:return r=s.sent(),Fk(n,i,null),Lk(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,Hk(n,r)];case 3:return s.sent(),[3,6];case 4:return[4,hE(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Pk(t,e,n){return Object(Pr.b)(this,void 0,void 0,function(){var i,r;return Object(Pr.d)(this,function(s){switch(s.label){case 0:i=N_(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=N_(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var i;return n._n.lookupMutationBatch(t,e).next(function(e){return P_(null!==e),i=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,i)})})}(i.localStore,e)];case 2:return r=s.sent(),Fk(i,e,n),Lk(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),[4,Hk(i,r)];case 3:return s.sent(),[3,6];case 4:return[4,hE(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Nk(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,i,r,s,o;return Object(Pr.d)(this,function(a){switch(a.label){case 0:qx((n=N_(t)).remoteStore)||I_("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=N_(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(i=a.sent())?[2,void e.resolve()]:((r=n.Fo.get(i)||[]).push(e),n.Fo.set(i,r),[3,4]);case 3:return s=a.sent(),o=ok(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function Lk(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function Fk(t,e,n){var i=N_(t),r=i.xo[i.currentUser.toKey()];if(r){var s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.xo[i.currentUser.toKey()]=r}}function Mk(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var i=0,r=t.Vo.get(e);i<r.length;i++){var s=r[i];t.Po.delete(s),n&&t.vo.Mo(s,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Vk(t,e)})}function Vk(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Fx(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),qk(t))}function Uk(t,e,n){for(var i=0,r=n;i<r.length;i++){var s=r[i];s instanceof _k?(t.No.addReference(s.key,e),Bk(t,s)):s instanceof wk?(I_("SyncEngine","Document no longer in limbo: "+s.key),t.No.removeReference(s.key,e),t.No.containsKey(s.key)||Vk(t,s.key)):j_()}}function Bk(t,e){var n=e.key,i=n.path.canonicalString();t.Do.get(n)||t.So.has(i)||(I_("SyncEngine","New document in limbo: "+n),t.So.add(i),qk(t))}function qk(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new cw(Y_.fromString(e)),i=t.ko.next();t.Co.set(i,new Ok(n)),t.Do=t.Do.insert(n,i),Lx(t.remoteStore,new RO(tC(Yw(n.path)),i,2,O_.o))}}function Hk(t,e,n){return Object(Pr.b)(this,void 0,void 0,function(){var i,r,s,o;return Object(Pr.d)(this,function(a){switch(a.label){case 0:return i=N_(t),r=[],s=[],o=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(t,a){o.push(i.$o(a,e,n).then(function(t){if(t){i.isPrimaryClient&&i.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),r.push(t);var e=PE.Pn(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),i.vo._r(r),[4,function(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,i,r,s,o,a,c,l;return Object(Pr.d)(this,function(u){switch(u.label){case 0:n=N_(t),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return yO.forEach(e,function(e){return yO.forEach(e.bn,function(i){return n.persistence.referenceDelegate.addReference(t,e.targetId,i)}).next(function(){return yO.forEach(e.vn,function(i){return n.persistence.referenceDelegate.removeReference(t,e.targetId,i)})})})})];case 2:return u.sent(),[3,4];case 3:if(!SO(i=u.sent()))throw i;return I_("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(r=0,s=e;r<s.length;r++)a=(o=s[r]).targetId,o.fromCache||(c=n.Fn.get(a),l=c.withLastLimboFreeSnapshotVersion(c.snapshotVersion),n.Fn=n.Fn.insert(a,l));return[2]}})})}(i.localStore,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function zk(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,i;return Object(Pr.d)(this,function(r){switch(r.label){case 0:return(n=N_(t)).currentUser.isEqual(e)?[3,3]:(I_("SyncEngine","User change. New user:",e.toKey()),[4,ME(n.localStore,e)]);case 1:return i=r.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new x_(E_.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),[4,Hk(n,i.Ln)];case 2:r.sent(),r.label=3;case 3:return[2]}})})}function Kk(t,e){var n=N_(t),i=n.Co.get(e);if(i&&i.bo)return iS().add(i.key);var r=iS(),s=n.Vo.get(e);if(!s)return r;for(var o=0,a=s;o<a.length;o++){var c=n.Po.get(a[o]);r=r.unionWith(c.view.wo)}return r}function Wk(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,i,r;return Object(Pr.d)(this,function(s){switch(s.label){case 0:return[4,WE((n=N_(t)).localStore,e.query,!0)];case 1:return i=s.sent(),r=e.view.Ao(i),[2,(n.isPrimaryClient&&Uk(n,e.targetId,r.To),r)]}})})}function Yk(t){return Object(Pr.b)(this,void 0,void 0,function(){var e;return Object(Pr.d)(this,function(n){return[2,$E((e=N_(t)).localStore).then(function(t){return Hk(e,t)})]})})}function $k(t,e,n,i){return Object(Pr.b)(this,void 0,void 0,function(){var r,s;return Object(Pr.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=N_(t),i=N_(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return i.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):yO.resolve(null)})})}((r=N_(t)).localStore,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,Gx(r.remoteStore)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Fk(r,e,i||null),Lk(r,e),function(t,e){N_(N_(t)._n).Gt(e)}(r.localStore,e)):j_(),o.label=4;case 4:return[4,Hk(r,s)];case 5:return o.sent(),[3,7];case 6:I_("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function Gk(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,i,r,s,o,a,c;return Object(Pr.d)(this,function(l){switch(l.label){case 0:return eT(n=N_(t)),nT(n),!0!==e||!0===n.Oo?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,Qk(n,i.toArray())]);case 1:return r=l.sent(),n.Oo=!0,[4,nk(n.remoteStore,!0)];case 2:for(l.sent(),s=0,o=r;s<o.length;s++)Lx(n.remoteStore,o[s]);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(a=[],c=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):c=c.then(function(){return Mk(n,e),KE(n.localStore,e,!0)}),Fx(n.remoteStore,e)}),[4,c]);case 4:return l.sent(),[4,Qk(n,a)];case 5:return l.sent(),function(t){var e=N_(t);e.Co.forEach(function(t,n){Fx(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new KC(cw.comparator)}(n),n.Oo=!1,[4,nk(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}})})}function Qk(t,e,n){return Object(Pr.b)(this,void 0,void 0,function(){var n,i,r,s,o,a,c,l,u,h,d,f,p;return Object(Pr.d)(this,function(m){switch(m.label){case 0:n=N_(t),i=[],r=[],s=0,o=e,m.label=1;case 1:return s<o.length?(c=void 0,(l=n.Vo.get(a=o[s]))&&0!==l.length?[4,zE(n.localStore,tC(l[0]))]:[3,7]):[3,13];case 2:c=m.sent(),u=0,h=l,m.label=3;case 3:return u<h.length?(d=n.Po.get(h[u]),[4,Wk(n,d)]):[3,6];case 4:(f=m.sent()).snapshot&&r.push(f.snapshot),m.label=5;case 5:return u++,[3,3];case 6:return[3,11];case 7:return[4,YE(n.localStore,a)];case 8:return p=m.sent(),[4,zE(n.localStore,p)];case 9:return c=m.sent(),[4,kk(n,Zk(p),a,!1)];case 10:m.sent(),m.label=11;case 11:i.push(c),m.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(r),i)]}})})}function Zk(t){return Ww(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Xk(t){var e=N_(t);return N_(N_(e.localStore).persistence).fn()}function Jk(t,e,n,i){return Object(Pr.b)(this,void 0,void 0,function(){var r,s,o;return Object(Pr.d)(this,function(a){switch(a.label){case 0:return(r=N_(t)).Oo?(I_("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!r.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,$E(r.localStore)];case 3:return s=a.sent(),o=oS.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Hk(r,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,KE(r.localStore,e,!0)];case 6:return a.sent(),Mk(r,e,i),[3,8];case 7:j_(),a.label=8;case 8:return[2]}})})}function tT(t,e,n){return Object(Pr.b)(this,void 0,void 0,function(){var i,r,s,o,a,c,l,u,h;return Object(Pr.d)(this,function(d){switch(d.label){case 0:if(!(i=eT(t)).Oo)return[3,10];r=0,s=e,d.label=1;case 1:return r<s.length?i.Vo.has(o=s[r])?(I_("SyncEngine","Adding an already active target "+o),[3,5]):[4,YE(i.localStore,o)]:[3,6];case 2:return a=d.sent(),[4,zE(i.localStore,a)];case 3:return c=d.sent(),[4,kk(i,Zk(a),c.targetId,!1)];case 4:d.sent(),Lx(i.remoteStore,c),d.label=5;case 5:return r++,[3,1];case 6:l=function(t){return Object(Pr.d)(this,function(e){switch(e.label){case 0:return i.Vo.has(t)?[4,KE(i.localStore,t,!1).then(function(){Fx(i.remoteStore,t),Mk(i,t)}).catch(hE)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},u=0,h=n,d.label=7;case 7:return u<h.length?[5,l(h[u])]:[3,10];case 8:d.sent(),d.label=9;case 9:return u++,[3,7];case 10:return[2]}})})}function eT(t){var e=N_(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ak.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Rk.bind(null,e),e.vo._r=pk.bind(null,e.eventManager),e.vo.Mo=mk.bind(null,e.eventManager),e}function nT(t){var e=N_(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Pk.bind(null,e),e}var iT=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Pr.b)(this,void 0,void 0,function(){return Object(Pr.d)(this,function(e){switch(e.label){case 0:return this.R=xx(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return FE(this.persistence,new NE,t.initialUser,this.R)},t.prototype.qo=function(t){return new sx(ax.bs,this.R)},t.prototype.Bo=function(t){return new yx},t.prototype.terminate=function(){return Object(Pr.b)(this,void 0,void 0,function(){return Object(Pr.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),rT=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).Ko=e,r.cacheSizeBytes=n,r.forceOwnership=i,r.synchronizeTabs=!1,r}return Object(Pr.c)(e,t),e.prototype.initialize=function(e){return Object(Pr.b)(this,void 0,void 0,function(){return Object(Pr.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,GE(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,nT(this.Ko.syncEngine)];case 4:return n.sent(),[4,Gx(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return FE(this.persistence,new NE,t.initialUser,this.R)},e.prototype.Uo=function(t){return new pE(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=DE(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?XO.withCacheSize(this.cacheSizeBytes):XO.DEFAULT;return new TE(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Ox(),Ex(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new yx},e}(iT),sT=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n,!1)||this).Ko=e,i.cacheSizeBytes=n,i.synchronizeTabs=!0,i}return Object(Pr.c)(e,t),e.prototype.initialize=function(e){return Object(Pr.b)(this,void 0,void 0,function(){var n,i=this;return Object(Pr.d)(this,function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof bx?(this.sharedClientState.syncEngine={ui:$k.bind(null,n),ai:Jk.bind(null,n),hi:tT.bind(null,n),fn:Xk.bind(null,n),ci:Yk.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:r.sent(),r.label=3;case 3:return[4,this.persistence.He(function(t){return Object(Pr.b)(i,void 0,void 0,function(){return Object(Pr.d)(this,function(e){switch(e.label){case 0:return[4,Gk(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return r.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Ox();if(!bx.yt(e))throw new x_(E_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=DE(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new bx(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(rT),oT=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n=this;return Object(Pr.d)(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Dk(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=zk.bind(null,this.syncEngine),[4,nk(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new hk},t.prototype.createDatastore=function(t){var e=xx(t.databaseInfo.databaseId),n=new Sx(t.databaseInfo);return function(t,e,n){return new Dx(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,i,r,s,o=this;return e=this.localStore,n=this.datastore,i=t.asyncQueue,r=function(t){return Dk(o.syncEngine,t,0)},s=_x.yt()?new _x:new vx,new jx(e,n,i,r,s)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,i,r,s,o){var a=new Ek(t,e,n,i,r,s);return o&&(a.Oo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(Pr.b)(this,void 0,void 0,function(){var e;return Object(Pr.d)(this,function(n){switch(n.label){case 0:return e=N_(t),I_("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,Nx(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),aT=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),cT=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new bO,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(Pr.b)(this,void 0,void 0,function(){return Object(Pr.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(Pr.b)(this,void 0,void 0,function(){return Object(Pr.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(Pr.b)(this,void 0,void 0,function(){var t,e,n,i;return Object(Pr.d)(this,function(r){switch(r.label){case 0:return[4,this.Jo()];case 1:return null===(t=r.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return i=r.sent(),[2,new yk(JSON.parse(i),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(Pr.b)(this,void 0,void 0,function(){var t,e;return Object(Pr.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(Pr.b)(this,void 0,void 0,function(){var e;return Object(Pr.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(Pr.b)(this,void 0,void 0,function(){var t,e;return Object(Pr.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(Pr.b)(this,void 0,void 0,function(){var e,n=this;return Object(Pr.d)(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new x_(E_.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,i,r,s,o,a;return Object(Pr.d)(this,function(c){switch(c.label){case 0:return n=N_(t),i=TS(n.R)+"/documents",r={documents:e.map(function(t){return OS(n.R,t)})},[4,n.Oi("BatchGetDocuments",i,r)];case 1:return s=c.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){P_(!!e.found);var n=ES(t,e.found.name),i=wS(e.found.updateTime),r=new Cw({mapValue:{fields:e.found.fields}});return Ow.newFoundDocument(n,i,r)}(t,e):"missing"in e?function(t,e){P_(!!e.missing),P_(!!e.readTime);var n=ES(t,e.missing),i=wS(e.readTime);return Ow.newNoDocument(n,i)}(t,e):j_()}(n.R,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());P_(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=i.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new UC(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(Pr.b)(this,void 0,void 0,function(){var t,e=this;return Object(Pr.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var i=cw.fromPath(n);e.mutations.push(new BC(i,e.precondition(i)))}),[4,function(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,i,r;return Object(Pr.d)(this,function(s){switch(s.label){case 0:return n=N_(t),i=TS(n.R)+"/documents",r={writes:e.map(function(t){return RS(n.R,t)})},[4,n.Ni("Commit",i,r)];case 1:return s.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw j_();e=q_.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new x_(E_.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?EC.updateTime(e):EC.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(q_.min()))throw new x_(E_.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return EC.updateTime(e)}return EC.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),lT=function(){function t(t,e,n,i){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=i,this.ec=5,this.Zi=new kx(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(Pr.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Pr.d)(this,function(i){return t=new cT(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!sw(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!HC(e)}return!1},t}(),uT=function(){function t(t,e,n){var i=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=cx.UNAUTHENTICATED,this.clientId=F_.u(),this.credentialListener=function(){},this.receivedInitialUser=new bO,this.credentials.setChangeListener(function(t){I_("FirestoreClient","Received user=",t.uid),i.user=t,i.credentialListener(t),i.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(Pr.b)(this,void 0,void 0,function(){return Object(Pr.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new x_(E_.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new bO;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Pr.b)(t,void 0,void 0,function(){var t,n;return Object(Pr.d)(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:i.sent(),i.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:i.sent(),i.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=i.sent(),n=ok(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function hT(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,i,r=this;return Object(Pr.d)(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),I_("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),i=n.initialUser,t.setCredentialChangeListener(function(n){i.isEqual(n)||(i=n,t.asyncQueue.enqueueRetryable(function(){return Object(Pr.b)(r,void 0,void 0,function(){return Object(Pr.d)(this,function(t){switch(t.label){case 0:return[4,ME(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function dT(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,i;return Object(Pr.d)(this,function(r){switch(r.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,fT(t)];case 1:return n=r.sent(),I_("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return i=r.sent(),[4,e.initialize(n,i)];case 3:return r.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(Pr.b)(this,void 0,void 0,function(){var n,i;return Object(Pr.d)(this,function(r){switch(r.label){case 0:return(n=N_(t)).asyncQueue.verifyOperationInProgress(),I_("RemoteStore","RemoteStore received new credentials"),i=qx(n),n.$r.add(3),[4,Nx(n)];case 1:return r.sent(),i&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return r.sent(),n.$r.delete(3),[4,Px(n)];case 3:return r.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function fT(t){return Object(Pr.b)(this,void 0,void 0,function(){return Object(Pr.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(I_("FirestoreClient","Using default OfflineComponentProvider"),[4,hT(t,new iT)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function pT(t){return Object(Pr.b)(this,void 0,void 0,function(){return Object(Pr.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(I_("FirestoreClient","Using default OnlineComponentProvider"),[4,dT(t,new oT)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function mT(t){return fT(t).then(function(t){return t.persistence})}function gT(t){return fT(t).then(function(t){return t.localStore})}function bT(t){return pT(t).then(function(t){return t.remoteStore})}function yT(t){return pT(t).then(function(t){return t.syncEngine})}function vT(t){return Object(Pr.b)(this,void 0,void 0,function(){var e,n;return Object(Pr.d)(this,function(i){switch(i.label){case 0:return[4,pT(t)];case 1:return e=i.sent(),[2,((n=e.eventManager).onListen=xk.bind(null,e.syncEngine),n.onUnlisten=Tk.bind(null,e.syncEngine),n)]}})})}function _T(t,e,n){var i=this;void 0===n&&(n={});var r=new bO;return t.asyncQueue.enqueueAndForget(function(){return Object(Pr.b)(i,void 0,void 0,function(){var i;return Object(Pr.d)(this,function(s){switch(s.label){case 0:return i=function(t,e,n,i,r){var s=new aT({next:function(s){e.enqueueAndForget(function(){return fk(t,o)});var a=s.docs.has(n);!a&&s.fromCache?r.reject(new x_(E_.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&i&&"server"===i.source?r.reject(new x_(E_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(s)},error:function(t){return r.reject(t)}}),o=new bk(Yw(n.path),s,{includeMetadataChanges:!0,so:!0});return dk(t,o)},[4,vT(t)];case 1:return[2,i.apply(void 0,[s.sent(),t.asyncQueue,e,n,r])]}})})}),r.promise}function wT(t,e,n){var i=this;void 0===n&&(n={});var r=new bO;return t.asyncQueue.enqueueAndForget(function(){return Object(Pr.b)(i,void 0,void 0,function(){var i;return Object(Pr.d)(this,function(s){switch(s.label){case 0:return i=function(t,e,n,i,r){var s=new aT({next:function(n){e.enqueueAndForget(function(){return fk(t,o)}),n.fromCache&&"server"===i.source?r.reject(new x_(E_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:function(t){return r.reject(t)}}),o=new bk(n,s,{includeMetadataChanges:!0,so:!0});return dk(t,o)},[4,vT(t)];case 1:return[2,i.apply(void 0,[s.sent(),t.asyncQueue,e,n,r])]}})})}),r.promise}var CT=function(t,e,n,i,r,s,o){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=o},ST=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),OT=new Map,ET=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},xT=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(cx.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),kT=function(){function t(t){var e=this;this.oc=null,this.currentUser=cx.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(I_("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(P_("string"==typeof n.accessToken),new ET(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return P_(null===t||"string"==typeof t),new cx(t)},t}(),TT=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=cx.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),IT=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new TT(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(cx.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function AT(t,e,n){if(!n)throw new x_(E_.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function DT(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new x_(E_.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function RT(t,e,n,i){if(!0===e&&!0===i)throw new x_(E_.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function jT(t){if(!cw.isDocumentKey(t))throw new x_(E_.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function PT(t){if(cw.isDocumentKey(t))throw new x_(E_.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function NT(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":j_()}function LT(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new x_(E_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=NT(t);throw new x_(E_.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function FT(t,e){if(e<=0)throw new x_(E_.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var MT=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new x_(E_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new x_(E_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,RT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),VT=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new MT({}),this._settingsFrozen=!1,t instanceof ST?(this._databaseId=t,this._credentials=new xT):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new x_(E_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ST(t.options.projectId)}(t),this._credentials=new kT(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new x_(E_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new x_(E_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MT(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new xT;switch(t.type){case"gapi":var e=t.client;return P_(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new IT(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new x_(E_.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=OT.get(this))&&(I_("ComponentProvider","Removing Datastore"),OT.delete(this),t.terminate()),Promise.resolve();var t},t}(),UT=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new qT(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),BT=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),qT=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n,Yw(i))||this)._path=i,r.type="collection",r}return Object(Pr.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new UT(this.firestore,null,new cw(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(BT);function HT(t,e){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(t=Object(wg.g)(t),AT("collection","path",e),t instanceof VT)return PT(n=Y_.fromString.apply(Y_,Object(Pr.f)([e],i))),new qT(t,null,n);if(!(t instanceof UT||t instanceof qT))throw new x_(E_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return PT(n=Y_.fromString.apply(Y_,Object(Pr.f)([t.path],i)).child(Y_.fromString(e))),new qT(t.firestore,null,n)}function zT(t,e){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(t=Object(wg.g)(t),1===arguments.length&&(e=F_.u()),AT("doc","path",e),t instanceof VT)return jT(n=Y_.fromString.apply(Y_,Object(Pr.f)([e],i))),new UT(t,null,new cw(n));if(!(t instanceof UT||t instanceof qT))throw new x_(E_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return jT(n=t._path.child(Y_.fromString.apply(Y_,Object(Pr.f)([e],i)))),new UT(t.firestore,t instanceof qT?t._converter:null,new cw(n))}function KT(t,e){return t=Object(wg.g)(t),e=Object(wg.g)(e),(t instanceof UT||t instanceof qT)&&(e instanceof UT||e instanceof qT)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function WT(t,e){return t=Object(wg.g)(t),e=Object(wg.g)(e),t instanceof BT&&e instanceof BT&&t.firestore===e.firestore&&nC(t._query,e._query)&&t._converter===e._converter}var YT=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new kx(this,"async_queue_retry"),this.Ec=function(){var e=Ex();e&&I_("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Ex();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=Ex();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise(function(t){}):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.dc.push(t),e.Ac()})},t.prototype.Ac=function(){return Object(Pr.b)(this,void 0,void 0,function(){var t,e=this;return Object(Pr.d)(this,function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!SO(t=n.sent()))throw t;return I_("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji(function(){return e.Ac()}),n.label=5;case 5:return[2]}})})},t.prototype.Ic=function(t){var e=this,n=this.fc.then(function(){return e.yc=!0,t().catch(function(t){throw e.mc=t,e.yc=!1,A_("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.yc=!1,t})});return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var i=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var r=sk.createAndSchedule(this,t,e,n,function(t){return i.Rc(t)});return this._c.push(r),r},t.prototype.Tc=function(){this.mc&&j_()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return Object(Pr.b)(this,void 0,void 0,function(){var t;return Object(Pr.d)(this,function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then(function(){e._c.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,i=e._c;n<i.length;n++){var r=i[n];if(r.skipDelay(),"all"!==t&&r.timerId===t)break}return e.bc()})},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function $T(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,i=0,r=["next","error","complete"];i<r.length;i++){var s=r[i];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new bO,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var GT=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n)||this)._queue=new YT,i._persistenceKey="name"in e?e.name:"[DEFAULT]",i}return Object(Pr.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||ZT(this),this._firestoreClient.terminate()},e}(VT);function QT(t){return t._firestoreClient||ZT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function ZT(t){var e,n=t._freezeSettings(),i=function(t,e,n,i){return new CT(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new uT(t._credentials,t._queue,i)}function XT(t,e,n){var i=this,r=new bO;return t.asyncQueue.enqueue(function(){return Object(Pr.b)(i,void 0,void 0,function(){var i;return Object(Pr.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,hT(t,n)];case 1:return s.sent(),[4,dT(t,e)];case 2:return s.sent(),r.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===E_.FAILED_PRECONDITION||t.code===E_.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(i=s.sent()))throw i;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i),[3,4];case 4:return[2]}})})}).then(function(){return r.promise})}function JT(t){if(t._initialized||t._terminated)throw new x_(E_.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var tI=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new x_(E_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new G_(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),eI=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Z_.fromBase64String(e))}catch(e){throw new x_(E_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Z_.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),nI=function(t){this._methodName=t},iI=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new x_(E_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new x_(E_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return M_(this._lat,t._lat)||M_(this._long,t._long)},t}(),rI=/^__.*__$/,sI=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new PC(t,this.data,this.fieldMask,e,this.fieldTransforms):new jC(t,this.data,e,this.fieldTransforms)},t}(),oI=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new PC(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function aI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw j_()}}var cI=function(){function t(t,e,n,i,r,s){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=i,void 0===r&&this.Sc(),this.fieldTransforms=r||[],this.fieldMask=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.Cc({path:n,xc:!1});return i.Fc(t),i},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.Cc({path:n,xc:!1});return i.Sc(),i},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return TI(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(aI(this.Dc)&&rI.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),lI=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||xx(t)}return t.prototype.Bc=function(t,e,n,i){return void 0===i&&(i=!1),new cI({Dc:t,methodName:e,Lc:n,path:G_.emptyPath(),xc:!1,Mc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function uI(t){var e=t._freezeSettings(),n=xx(t._databaseId);return new lI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hI(t,e,n,i,r,s){void 0===s&&(s={});var o=t.Bc(s.merge||s.mergeFields?2:0,e,n,r);OI("Data must be an object, but it was:",o,i);var a,c,l=CI(i,o);if(s.merge)a=new Q_(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){for(var u=[],h=0,d=s.mergeFields;h<d.length;h++){var f=EI(e,d[h],n);if(!o.contains(f))throw new x_(E_.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");II(u,f)||u.push(f)}a=new Q_(u),c=o.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,c=o.fieldTransforms;return new sI(new Cw(l),a,c)}var dI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pr.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw t.$c(1===t.Dc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(nI);function fI(t,e,n){return new cI({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var pI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pr.c)(e,t),e.prototype._toFieldTransform=function(t){return new SC(t.path,new mC)},e.prototype.isEqual=function(t){return t instanceof e},e}(nI),mI=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).qc=n,i}return Object(Pr.c)(e,t),e.prototype._toFieldTransform=function(t){var e=fI(this,t,!0),n=this.qc.map(function(t){return wI(t,e)}),i=new gC(n);return new SC(t.path,i)},e.prototype.isEqual=function(t){return this===t},e}(nI),gI=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).qc=n,i}return Object(Pr.c)(e,t),e.prototype._toFieldTransform=function(t){var e=fI(this,t,!0),n=this.qc.map(function(t){return wI(t,e)}),i=new yC(n);return new SC(t.path,i)},e.prototype.isEqual=function(t){return this===t},e}(nI),bI=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).Uc=n,i}return Object(Pr.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new _C(t.R,uC(t.R,this.Uc));return new SC(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(nI);function yI(t,e,n,i){var r=t.Bc(1,e,n);OI("Data must be an object, but it was:",r,i);var s=[],o=Cw.empty();z_(i,function(t,i){var a=kI(e,t,n);i=Object(wg.g)(i);var c=r.kc(a);if(i instanceof dI)s.push(a);else{var l=wI(i,c);null!=l&&(s.push(a),o.set(a,l))}});var a=new Q_(s);return new oI(o,a,r.fieldTransforms)}function vI(t,e,n,i,r,s){var o=t.Bc(1,e,n),a=[EI(e,i,n)],c=[r];if(s.length%2!=0)throw new x_(E_.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<s.length;l+=2)a.push(EI(e,s[l])),c.push(s[l+1]);for(var u=[],h=Cw.empty(),d=a.length-1;d>=0;--d)if(!II(u,a[d])){var f=a[d],p=c[d];p=Object(wg.g)(p);var m=o.kc(f);if(p instanceof dI)u.push(f);else{var g=wI(p,m);null!=g&&(u.push(f),h.set(f,g))}}var b=new Q_(u);return new oI(h,b,o.fieldTransforms)}function _I(t,e,n,i){return void 0===i&&(i=!1),wI(n,t.Bc(i?4:3,e))}function wI(t,e){if(SI(t=Object(wg.g)(t)))return OI("Unsupported field value:",e,t),CI(t,e);if(t instanceof nI)return function(t,e){if(!aI(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],i=0,r=0,s=t;r<s.length;r++){var o=wI(s[r],e.Oc(i));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),i++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(wg.g)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return uC(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=B_.fromDate(t);return{timestampValue:yS(e.R,n)}}if(t instanceof B_)return n=new B_(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:yS(e.R,n)};if(t instanceof iI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof eI)return{bytesValue:vS(e.R,t._byteString)};if(t instanceof UT){var i=t.firestore._databaseId;if(!i.isEqual(n=e.databaseId))throw e.$c("Document reference is for database "+i.projectId+"/"+i.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:CS(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+NT(t))}(t,e)}function CI(t,e){var n={};return K_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):z_(t,function(t,i){var r=wI(i,e.Nc(t));null!=r&&(n[t]=r)}),{mapValue:{fields:n}}}function SI(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof B_||t instanceof iI||t instanceof eI||t instanceof UT||t instanceof nI)}function OI(t,e,n){if(!SI(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var i=NT(n);throw e.$c("an object"===i?t+" a custom object":t+" "+i)}}function EI(t,e,n){if((e=Object(wg.g)(e))instanceof tI)return e._internalPath;if("string"==typeof e)return kI(t,e);throw TI("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var xI=new RegExp("[~\\*/\\[\\]]");function kI(t,e,n){if(e.search(xI)>=0)throw TI("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(tI.bind.apply(tI,Object(Pr.f)([void 0],e.split(".")))))._internalPath}catch(i){throw TI("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function TI(t,e,n,i,r){var s=i&&!i.isEmpty(),o=void 0!==r,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var c="";return(s||o)&&(c+=" (found",s&&(c+=" in field "+i),o&&(c+=" in document "+r),c+=")"),new x_(E_.INVALID_ARGUMENT,(a+=". ")+t+c)}function II(t,e){return t.some(function(t){return t.isEqual(e)})}var AI=function(){function t(t,e,n,i,r){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=i,this._converter=r}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new UT(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new DI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(RI("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),DI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pr.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(AI);function RI(t,e){return"string"==typeof e?kI(t,e):e instanceof tI?e._internalPath:e._delegate._internalPath}var jI=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),PI=function(t){function e(e,n,i,r,s,o){var a=this;return(a=t.call(this,e,n,i,r,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=s,a}return Object(Pr.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new NI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(RI("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(AI),NI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pr.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(PI),LI=function(){function t(t,e,n,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new jI(i.hasPendingWrites,i.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(i){t.call(e,new NI(n._firestore,n._userDataWriter,i.key,i,new jI(n._snapshot.mutatedKeys.has(i.key),n._snapshot.fromCache),n.query._converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new x_(E_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new NI(t._firestore,t._userDataWriter,e.doc.key,e.doc,new jI(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}})}var i=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new NI(t._firestore,t._userDataWriter,e.doc.key,e.doc,new jI(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),r=-1,s=-1;return 0!==e.type&&(r=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(s=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:FI(e.type),doc:n,oldIndex:r,newIndex:s}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function FI(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return j_()}}function MI(t,e){return t instanceof PI&&e instanceof PI?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof LI&&e instanceof LI&&t._firestore===e._firestore&&WT(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function VI(t){if(Gw(t)&&0===t.explicitOrderBy.length)throw new x_(E_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var UI=function(){};function BI(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0,r=e;i<r.length;i++){var s=r[i];t=s._apply(t)}return t}var qI=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).Qc=e,r.Kc=n,r.jc=i,r.type="where",r}return Object(Pr.c)(e,t),e.prototype._apply=function(t){var e=uI(t.firestore),n=function(t,e,n,i,r,s,o){var a;if(r.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new x_(E_.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){GI(o,s);for(var c=[],l=0,u=o;l<u.length;l++)c.push($I(i,t,u[l]));a={arrayValue:{values:c}}}else a=$I(i,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||GI(o,s),a=_I(n,"where",o,"in"===s||"not-in"===s);var h=Aw.create(r,s,a);return function(t,e){if(e.g()){var n=Zw(t);if(null!==n&&!n.isEqual(e.field))throw new x_(E_.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var i=Qw(t);null!==i&&QI(0,e.field,i)}var r=function(t,e){for(var n=0,i=t.filters;n<i.length;n++){var r=i[n];if(e.indexOf(r.op)>=0)return r.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new x_(E_.INVALID_ARGUMENT,r===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+r.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new BT(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new Kw(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(UI),HI=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).Qc=e,i.Wc=n,i.type="orderBy",i}return Object(Pr.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new x_(E_.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new x_(E_.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var i=new Bw(e,n);return function(t,e){if(null===Qw(t)){var n=Zw(t);null!==n&&QI(0,n,e.field)}}(t,i),i}(t._query,this.Qc,this.Wc);return new BT(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Kw(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(UI),zI=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).type=e,r.Gc=n,r.zc=i,r}return Object(Pr.c)(e,t),e.prototype._apply=function(t){return new BT(t.firestore,t._converter,eC(t._query,this.Gc,this.zc))},e}(UI),KI=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).type=e,r.Hc=n,r.Jc=i,r}return Object(Pr.c)(e,t),e.prototype._apply=function(t){var e=YI(t,this.type,this.Hc,this.Jc);return new BT(t.firestore,t._converter,function(t,e){return new Kw(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(UI),WI=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).type=e,r.Hc=n,r.Jc=i,r}return Object(Pr.c)(e,t),e.prototype._apply=function(t){var e=YI(t,this.type,this.Hc,this.Jc);return new BT(t.firestore,t._converter,function(t,e){return new Kw(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(UI);function YI(t,e,n,i){if(n[0]=Object(wg.g)(n[0]),n[0]instanceof AI)return function(t,e,n,i,r){if(!i)throw new x_(E_.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=Jw(t);o<a.length;o++){var c=a[o];if(c.field.isKeyField())s.push(gw(e,i.key));else{var l=i.data.field(c.field);if(nw(l))throw new x_(E_.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var u=c.field.canonicalString();throw new x_(E_.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}s.push(l)}}return new Vw(s,r)}(t._query,t.firestore._databaseId,e,n[0]._document,i);var r=uI(t.firestore);return function(t,e,n,i,r,s){var o=t.explicitOrderBy;if(r.length>o.length)throw new x_(E_.INVALID_ARGUMENT,"Too many arguments provided to "+i+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],c=0;c<r.length;c++){var l=r[c];if(o[c].field.isKeyField()){if("string"!=typeof l)throw new x_(E_.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+i+"(), but got a "+typeof l);if(!Xw(t)&&-1!==l.indexOf("/"))throw new x_(E_.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+i+"() must be a plain document ID, but '"+l+"' contains a slash.");var u=t.path.child(Y_.fromString(l));if(!cw.isDocumentKey(u))throw new x_(E_.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+i+"() must result in a valid document path, but '"+u+"' is not because it contains an odd number of segments.");var h=new cw(u);a.push(gw(e,h))}else{var d=_I(n,i,l);a.push(d)}}return new Vw(a,s)}(t._query,t.firestore._databaseId,r,e,n,i)}function $I(t,e,n){if("string"==typeof(n=Object(wg.g)(n))){if(""===n)throw new x_(E_.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xw(e)&&-1!==n.indexOf("/"))throw new x_(E_.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=e.path.child(Y_.fromString(n));if(!cw.isDocumentKey(i))throw new x_(E_.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return gw(t,new cw(i))}if(n instanceof UT)return gw(t,n._key);throw new x_(E_.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+NT(n)+".")}function GI(t,e){if(!Array.isArray(t)||0===t.length)throw new x_(E_.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new x_(E_.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function QI(t,e,n){if(!n.isEqual(e))throw new x_(E_.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var ZI=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),lw(t)){case 0:return null;case 1:return t.booleanValue;case 2:return tw(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ew(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw j_()}},t.prototype.convertObject=function(t,e){var n=this,i={};return z_(t.fields||{},function(t,r){i[t]=n.convertValue(r,e)}),i},t.prototype.convertGeoPoint=function(t){return new iI(tw(t.latitude),tw(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=iw(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(rw(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=J_(t);return new B_(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Y_.fromString(t);P_(YS(n));var i=new ST(n.get(1),n.get(3)),r=new cw(n.popFirst(5));return i.isEqual(e)||A_("Document "+r+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),r},t}();function XI(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var JI=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Pr.c)(e,t),e.prototype.convertBytes=function(t){return new eI(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new UT(this.firestore,null,e)},e}(ZI),tA=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=uI(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var i=eA(t,this._firestore),r=XI(i._converter,e,n),s=hI(this._dataReader,"WriteBatch.set",i._key,r,null!==i._converter,n);return this._mutations.push(s.toMutation(i._key,EC.none())),this},t.prototype.update=function(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];this._verifyNotCommitted();var s,o=eA(t,this._firestore);return s="string"==typeof(e=Object(wg.g)(e))||e instanceof tI?vI(this._dataReader,"WriteBatch.update",o._key,e,n,i):yI(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,EC.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=eA(t,this._firestore);return this._mutations=this._mutations.concat(new UC(e._key,EC.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new x_(E_.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function eA(t,e){if((t=Object(wg.g)(t)).firestore!==e)throw new x_(E_.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var nA=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Pr.c)(e,t),e.prototype.convertBytes=function(t){return new eI(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new UT(this.firestore,null,e)},e}(ZI);function iA(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];t=LT(t,UT);var s=LT(t.firestore,GT),o=uI(s);return sA(s,[("string"==typeof(e=Object(wg.g)(e))||e instanceof tI?vI(o,"updateDoc",t._key,e,n,i):yI(o,"updateDoc",t._key,e)).toMutation(t._key,EC.exists(!0))])}function rA(t){for(var e,n,i,r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];t=Object(wg.g)(t);var o={includeMetadataChanges:!1},a=0;"object"!=typeof r[a]||$T(r[a])||(o=r[a],a++);var c,l,u,h={includeMetadataChanges:o.includeMetadataChanges};if($T(r[a])){var d=r[a];r[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),r[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),r[a+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}if(t instanceof UT)l=LT(t.firestore,GT),u=Yw(t._key.path),c={next:function(e){r[a]&&r[a](oA(l,t,e))},error:r[a+1],complete:r[a+2]};else{var f=LT(t,BT);l=LT(f.firestore,GT),u=f._query;var p=new nA(l);c={next:function(t){r[a]&&r[a](new LI(l,p,f,t))},error:r[a+1],complete:r[a+2]},VI(t._query)}return function(t,e,n,i){var r=this,s=new aT(i),o=new bk(e,s,n);return t.asyncQueue.enqueueAndForget(function(){return Object(Pr.b)(r,void 0,void 0,function(){var e;return Object(Pr.d)(this,function(n){switch(n.label){case 0:return e=dk,[4,vT(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Pr.b)(r,void 0,void 0,function(){var e;return Object(Pr.d)(this,function(n){switch(n.label){case 0:return e=fk,[4,vT(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(QT(l),u,h,c)}function sA(t,e){return function(t,e){var n=this,i=new bO;return t.asyncQueue.enqueueAndForget(function(){return Object(Pr.b)(n,void 0,void 0,function(){var n;return Object(Pr.d)(this,function(r){switch(r.label){case 0:return n=Ik,[4,yT(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}})})}),i.promise}(QT(t),e)}function oA(t,e,n){var i=n.docs.get(e._key),r=new nA(t);return new PI(t,r,e._key,i,new jI(n.hasPendingWrites,n.fromCache),e._converter)}var aA=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n)||this)._firestore=e,i}return Object(Pr.c)(e,t),e.prototype.get=function(e){var n=this,i=eA(e,this._firestore),r=new nA(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new PI(n._firestore,r,i._key,t._document,new jI(!1,!1),i._converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=uI(t)}return t.prototype.get=function(t){var e=this,n=eA(t,this._firestore),i=new JI(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return j_();var r=t[0];if(r.isFoundDocument())return new AI(e._firestore,i,r.key,r,n._converter);if(r.isNoDocument())return new AI(e._firestore,i,n._key,null,n._converter);throw j_()})},t.prototype.set=function(t,e,n){var i=eA(t,this._firestore),r=XI(i._converter,e,n),s=hI(this._dataReader,"Transaction.set",i._key,r,null!==i._converter,n);return this._transaction.set(i._key,s),this},t.prototype.update=function(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];var s,o=eA(t,this._firestore);return s="string"==typeof(e=Object(wg.g)(e))||e instanceof tI?vI(this._dataReader,"Transaction.update",o._key,e,n,i):yI(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,s),this},t.prototype.delete=function(t){var e=eA(t,this._firestore);return this._transaction.delete(e._key),this},t}());function cA(){if("undefined"==typeof Uint8Array)throw new x_(E_.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function lA(){if("undefined"==typeof atob)throw new x_(E_.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var uA=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return lA(),new t(eI.fromBase64String(e))},t.fromUint8Array=function(e){return cA(),new t(eI.fromUint8Array(e))},t.prototype.toBase64=function(){return lA(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return cA(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),hA=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){JT(t=LT(t,GT));var n=QT(t),i=t._freezeSettings(),r=new oT;return XT(n,r,new rT(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){JT(t=LT(t,GT));var e=QT(t),n=t._freezeSettings(),i=new oT;return XT(e,i,new sT(i,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new x_(E_.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new bO;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Pr.b)(e,void 0,void 0,function(){var e;return Object(Pr.d)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(t){return Object(Pr.b)(this,void 0,void 0,function(){return Object(Pr.d)(this,function(e){switch(e.label){case 0:return _O.yt()?[4,_O.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(DE(t._databaseId,t._persistenceKey))];case 1:return i.sent(),n.resolve(),[3,3];case 2:return e=i.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),dA=function(){function t(t,e,n){var i=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof ST||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e){!function(t,e,n){var i=(t=LT(t,VT))._getSettings();"firestore.googleapis.com"!==i.host&&i.host!==e&&D_("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Pr.b)(e,void 0,void 0,function(){var e,n;return Object(Pr.d)(this,function(i){switch(i.label){case 0:return[4,mT(t)];case 1:return e=i.sent(),[4,bT(t)];case 2:return n=i.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=N_(t);return e.$r.delete(0),Px(e)}(n))]}})})})}(QT(LT(this._delegate,GT)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Pr.b)(e,void 0,void 0,function(){var e,n;return Object(Pr.d)(this,function(i){switch(i.label){case 0:return[4,mT(t)];case 1:return e=i.sent(),[4,bT(t)];case 2:return n=i.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(Pr.b)(this,void 0,void 0,function(){var e;return Object(Pr.d)(this,function(n){switch(n.label){case 0:return(e=N_(t)).$r.add(0),[4,Nx(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(QT(LT(this._delegate,GT)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&RT("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new bO;return t.asyncQueue.enqueueAndForget(function(){return Object(Pr.b)(e,void 0,void 0,function(){var e;return Object(Pr.d)(this,function(i){switch(i.label){case 0:return e=Nk,[4,yT(t)];case 1:return[2,e.apply(void 0,[i.sent(),n])]}})})}),n.promise}(QT(LT(this._delegate,GT)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,i=new aT(e);return t.asyncQueue.enqueueAndForget(function(){return Object(Pr.b)(n,void 0,void 0,function(){var e;return Object(Pr.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){N_(t).Gr.add(e),e.next()},[4,vT(t)];case 1:return[2,e.apply(void 0,[n.sent(),i])]}})})}),function(){i.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Pr.b)(n,void 0,void 0,function(){var e;return Object(Pr.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){N_(t).Gr.delete(e)},[4,vT(t)];case 1:return[2,e.apply(void 0,[n.sent(),i])]}})})})}}(QT(t=LT(t,GT)),$T(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new x_(E_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new xA(this,HT(this._delegate,t))}catch(t){throw yA(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new bA(this,zT(this._delegate,t))}catch(t){throw yA(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new SA(this,function(t,e){if(t=LT(t,VT),AT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new x_(E_.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new BT(t,null,function(t){return new Kw(Y_.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw yA(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,i=new bO;return t.asyncQueue.enqueueAndForget(function(){return Object(Pr.b)(n,void 0,void 0,function(){var n;return Object(Pr.d)(this,function(r){switch(r.label){case 0:return[4,function(t){return pT(t).then(function(t){return t.datastore})}(t)];case 1:return n=r.sent(),new lT(t.asyncQueue,n,e,i).run(),[2]}})})}),i.promise}(QT(t),function(n){return e(new aA(t,n))})}(this._delegate,function(n){return t(new pA(e,n))})},t.prototype.batch=function(){var t=this;return QT(this._delegate),new mA(new tA(this._delegate,function(e){return sA(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new x_(E_.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new x_(E_.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),fA=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Pr.c)(e,t),e.prototype.convertBytes=function(t){return new uA(new eI(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return bA.Zc(e,this.firestore,null)},e}(ZI),pA=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new fA(t)}return t.prototype.get=function(t){var e=this,n=kA(t);return this._delegate.get(n).then(function(t){return new wA(e._firestore,new PI(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))})},t.prototype.set=function(t,e,n){var i=kA(t);return n?(DT("Transaction.set",n),this._delegate.set(i,e,n)):this._delegate.set(i,e),this},t.prototype.update=function(t,e,n){for(var i,r=[],s=3;s<arguments.length;s++)r[s-3]=arguments[s];var o=kA(t);return 2===arguments.length?this._delegate.update(o,e):(i=this._delegate).update.apply(i,Object(Pr.f)([o,e,n],r)),this},t.prototype.delete=function(t){var e=kA(t);return this._delegate.delete(e),this},t}(),mA=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var i=kA(t);return n?(DT("WriteBatch.set",n),this._delegate.set(i,e,n)):this._delegate.set(i,e),this},t.prototype.update=function(t,e,n){for(var i,r=[],s=3;s<arguments.length;s++)r[s-3]=arguments[s];var o=kA(t);return 2===arguments.length?this._delegate.update(o,e):(i=this._delegate).update.apply(i,Object(Pr.f)([o,e,n],r)),this},t.prototype.delete=function(t){var e=kA(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),gA=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new NI(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new CA(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var i=t.eu,r=i.get(e);r||(r=new WeakMap,i.set(e,r));var s=r.get(n);return s||(s=new t(e,new fA(e),n),r.set(n,s)),s},t}();gA.eu=new WeakMap;var bA=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new fA(t)}return t.nu=function(e,n,i){if(e.length%2!=0)throw new x_(E_.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new UT(n._delegate,i,new cw(e)))},t.Zc=function(e,n,i){return new t(n,new UT(n._delegate,i,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new xA(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new xA(this.firestore,HT(this._delegate,t))}catch(t){throw yA(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(wg.g)(t))instanceof UT&&KT(this._delegate,t)},t.prototype.set=function(t,e){e=DT("DocumentReference.set",e);try{return function(t,e,n){t=LT(t,UT);var i=LT(t.firestore,GT),r=XI(t._converter,e,n);return sA(i,[hI(uI(i),"setDoc",t._key,r,null!==t._converter,n).toMutation(t._key,EC.none())])}(this._delegate,t,e)}catch(t){throw yA(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];try{return 1===arguments.length?iA(this._delegate,t):iA.apply(void 0,Object(Pr.f)([this._delegate,t,e],n))}catch(t){throw yA(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return sA(LT((t=this._delegate).firestore,GT),[new UC(t._key,EC.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=vA(e),r=_A(e,function(e){return new wA(t.firestore,new PI(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))});return rA(this._delegate,i,r)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=LT(t,UT);var e=LT(t.firestore,GT),n=QT(e),i=new nA(e);return function(t,e){var n=this,i=new bO;return t.asyncQueue.enqueueAndForget(function(){return Object(Pr.b)(n,void 0,void 0,function(){var n;return Object(Pr.d)(this,function(r){switch(r.label){case 0:return n=function(t,e,n){return Object(Pr.b)(this,void 0,void 0,function(){var i,r;return Object(Pr.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=N_(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(r=s.sent()).isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new x_(E_.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=s.sent(),r=ok(i,"Failed to get document '"+e+" from cache"),n.reject(r),[3,3];case 3:return[2]}})})},[4,gT(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}})})}),i.promise}(n,t._key).then(function(n){return new PI(e,i,t._key,n,new jI(null!==n&&n.hasLocalMutations,!0),t._converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=LT(t,UT);var e=LT(t.firestore,GT);return _T(QT(e),t._key,{source:"server"}).then(function(n){return oA(e,t,n)})}(this._delegate):function(t){t=LT(t,UT);var e=LT(t.firestore,GT);return _T(QT(e),t._key).then(function(n){return oA(e,t,n)})}(this._delegate)).then(function(t){return new wA(e.firestore,new PI(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?gA.tu(this.firestore,e):null))},t}();function yA(t,e,n){return t.message=t.message.replace(e,n),t}function vA(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];if("object"==typeof i&&!$T(i))return i}return{}}function _A(t,e){var n,i,r;return{next:function(t){r.next&&r.next(e(t))},error:null===(n=(r=$T(t[0])?t[0]:$T(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}var wA=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new bA(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return MI(this._delegate,t._delegate)},t}(),CA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Pr.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(wA),SA=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new fA(t)}return t.prototype.where=function(e,n,i){try{return new t(this.firestore,BI(this._delegate,function(t,e,n){var i=e,r=RI("where",t);return new qI(r,i,n)}(e,n,i)))}catch(e){throw yA(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,BI(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,i=RI("orderBy",t);return new HI(i,n)}(e,n)))}catch(e){throw yA(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,BI(this._delegate,function(t){return FT("limit",t),new zI("limit",t,"F")}(e)))}catch(e){throw yA(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,BI(this._delegate,function(t){return FT("limitToLast",t),new zI("limitToLast",t,"L")}(e)))}catch(e){throw yA(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,BI(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new KI("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw yA(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,BI(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new KI("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw yA(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,BI(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new WI("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw yA(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,BI(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new WI("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw yA(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return WT(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=LT(t,BT);var e=LT(t.firestore,GT),n=QT(e),i=new nA(e);return function(t,e){var n=this,i=new bO;return t.asyncQueue.enqueueAndForget(function(){return Object(Pr.b)(n,void 0,void 0,function(){var n;return Object(Pr.d)(this,function(r){switch(r.label){case 0:return n=function(t,e,n){return Object(Pr.b)(this,void 0,void 0,function(){var i,r,s,o,a;return Object(Pr.d)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,WE(t,e,!0)];case 1:return a=c.sent(),i=new Ck(e,a.Bn),r=i._o(a.documents),s=i.applyChanges(r,!1),n.resolve(s.snapshot),[3,3];case 2:return o=c.sent(),a=ok(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,gT(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}})})}),i.promise}(n,t._query).then(function(n){return new LI(e,i,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=LT(t,BT);var e=LT(t.firestore,GT),n=QT(e),i=new nA(e);return wT(n,t._query,{source:"server"}).then(function(n){return new LI(e,i,t,n)})}(this._delegate):function(t){t=LT(t,BT);var e=LT(t.firestore,GT),n=QT(e),i=new nA(e);return VI(t._query),wT(n,t._query).then(function(n){return new LI(e,i,t,n)})}(this._delegate)).then(function(t){return new EA(e.firestore,new LI(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=vA(e),r=_A(e,function(e){return new EA(t.firestore,new LI(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return rA(this._delegate,i,r)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?gA.tu(this.firestore,e):null))},t}(),OA=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new CA(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),EA=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new SA(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new CA(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new OA(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(i){t.call(e,new CA(n._firestore,i))})},t.prototype.isEqual=function(t){return MI(this._delegate,t._delegate)},t}(),xA=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n)||this).firestore=e,i._delegate=n,i}return Object(Pr.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new bA(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new bA(this.firestore,void 0===t?zT(this._delegate):zT(this._delegate,t))}catch(t){throw yA(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=LT(t.firestore,GT),i=zT(t),r=XI(t._converter,e);return sA(n,[hI(uI(t.firestore),"addDoc",i._key,r,null!==t._converter,{}).toMutation(i._key,EC.exists(!1))]).then(function(){return i})}(this._delegate,t).then(function(t){return new bA(e.firestore,t)})},e.prototype.isEqual=function(t){return KT(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?gA.tu(this.firestore,t):null))},e}(SA);function kA(t){return LT(t,UT)}var TA,IA=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(tI.bind.apply(tI,Object(Pr.f)([void 0],t)))}return t.documentId=function(){return new t(G_.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(wg.g)(t))instanceof tI&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),AA=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new pI("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new dI("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new mI("arrayUnion",t)}).apply(void 0,e);return i._methodName="FieldValue.arrayUnion",new t(i)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new gI("arrayRemove",t)}).apply(void 0,e);return i._methodName="FieldValue.arrayRemove",new t(i)},t.increment=function(e){var n=function(t){return new bI("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),DA=n("/6Yf"),RA={Firestore:dA,GeoPoint:iI,Timestamp:B_,Blob:uA,Transaction:pA,WriteBatch:mA,DocumentReference:bA,DocumentSnapshot:wA,Query:SA,QueryDocumentSnapshot:CA,QuerySnapshot:EA,CollectionReference:xA,FieldPath:IA,FieldValue:AA,setLogLevel:function(t){k_.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function jA(t,e){return e?ne(()=>t,e):ne(()=>t)}(function(t,e){t.INTERNAL.registerComponent(new DA.a("firestore",function(t){return function(t,e){return new dA(t,new GT(t,e),new hA)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},RA)))})(TA=_g.a),TA.registerVersion("@firebase/firestore","2.2.4");var PA=n("tf+s");const NA=new r.s("angularfire2.auth.use-emulator"),LA=new r.s("angularfire2.auth.settings"),FA=new r.s("angularfire2.auth.tenant-id"),MA=new r.s("angularfire2.auth.langugage-code"),VA=new r.s("angularfire2.auth.use-device-language"),UA=new r.s("angularfire.auth.persistence");let BA=(()=>{class t{constructor(t,e,i,r,s,o,a,c,l,u){const h=new yg.d(r),d=Object(yg.h)(h),f=new Pt.a,p=Object(jt.a)(void 0).pipe(Object(Eu.b)(h.outsideAngular),ne(()=>r.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(te.a)(()=>Object(yg.g)(t,r,e)),Object(te.a)(t=>r.runOutsideAngular(()=>{const e=s,n=o;return Object(yg.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const i=r.runOutsideAngular(()=>t.auth());return e&&i.useEmulator(`http://${e.join(":")}`),a&&(i.tenantId=a),i.languageCode=c,l&&i.useDeviceLanguage(),n&&(i.settings=n),u&&i.setPersistence(u),i},[e,a,c,l,n,u])})),Iu({bufferSize:1,refCount:!1}));if(Z(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(jt.a)(null);else{p.pipe(Re()).subscribe();const t=p.pipe(ne(t=>t.getRedirectResult().then(t=>t,()=>null)),d,Iu({bufferSize:1,refCount:!1})),e=t=>new Ht.a(e=>({unsubscribe:r.runOutsideAngular(()=>t(e))})),n=p.pipe(ne(t=>e(t.onAuthStateChanged.bind(t)))),i=p.pipe(ne(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(jA(n),Object(PA.a)(h.outsideAngular),Object(Eu.b)(h.insideAngular)),this.user=t.pipe(jA(i),Object(PA.a)(h.outsideAngular),Object(Eu.b)(h.insideAngular)),this.idToken=this.user.pipe(ne(t=>t?Object(Rt.a)(t.getIdToken()):Object(jt.a)(null))),this.idTokenResult=this.user.pipe(ne(t=>t?Object(Rt.a)(t.getIdTokenResult()):Object(jt.a)(null))),this.credential=Object(uh.a)(t,f,this.authState.pipe(fe(t=>!t))).pipe(Object(te.a)(t=>(null==t?void 0:t.user)?t:null),Object(PA.a)(h.outsideAngular),Object(Eu.b)(h.insideAngular))}return Object(yg.i)(this,p,r,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(yg.c),r.Yb(yg.b,8),r.Yb(r.D),r.Yb(r.B),r.Yb(NA,8),r.Yb(LA,8),r.Yb(FA,8),r.Yb(MA,8),r.Yb(VA,8),r.Yb(UA,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(yg.c),Object(r.Yb)(yg.b,8),Object(r.Yb)(r.D),Object(r.Yb)(r.B),Object(r.Yb)(NA,8),Object(r.Yb)(LA,8),Object(r.Yb)(FA,8),Object(r.Yb)(MA,8),Object(r.Yb)(VA,8),Object(r.Yb)(UA,8))},token:t,providedIn:"any"}),t})();function qA(t,e){return function(t,e=du.b){return new Ht.a(n=>{let i;return null!=e?e.schedule(()=>{i=t.onSnapshot({includeMetadataChanges:!0},n)}):i=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=i&&i()}})}(t,e)}function HA(t,e){return qA(t,e).pipe(Object(te.a)(t=>({payload:t,type:"query"})))}function zA(t,e){return HA(t,e).pipe(le(void 0),wu(),Object(te.a)(([t,e])=>{const n=e.payload.docChanges(),i=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,r)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||i.push({type:"modified",payload:{oldIndex:r,newIndex:r,type:"modified",doc:e}})}),i}))}function KA(t,e,n){return zA(t,n).pipe(ue((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return WA(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return WA(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return WA(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),lu(),Object(te.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function WA(t,e,n,...i){const r=t.slice();return r.splice(e,n,...i),r}function YA(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(yg.e)(BA,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class $A{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=zA(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(te.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(le(void 0),wu(),fe(([t,e])=>e.length>0||!t),Object(te.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ue((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=YA(t);return KA(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return HA(this.query,this.afs.schedulers.outsideAngular).pipe(Object(te.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Rt.a)(this.query.get(t)).pipe(Object(Eu.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new GA(this.ref.doc(t),this.afs)}}class GA{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:i,query:r}=eD(n,e);return new $A(i,r,this.afs)}snapshotChanges(){return qA(this.ref,this.afs.schedulers.outsideAngular).pipe(le(void 0),wu(),Object(te.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(te.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Rt.a)(this.ref.get(t)).pipe(Object(Eu.b)(this.afs.schedulers.insideAngular))}}class QA{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?zA(this.query,this.afs.schedulers.outsideAngular).pipe(Object(te.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),fe(t=>t.length>0),this.afs.keepUnstableUntilFirst):zA(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ue((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=YA(t);return KA(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return HA(this.query,this.afs.schedulers.outsideAngular).pipe(Object(te.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Rt.a)(this.query.get(t)).pipe(Object(Eu.b)(this.afs.schedulers.insideAngular))}}const ZA=new r.s("angularfire2.enableFirestorePersistence"),XA=new r.s("angularfire2.firestore.persistenceSettings"),JA=new r.s("angularfire2.firestore.settings"),tD=new r.s("angularfire2.firestore.use-emulator");function eD(t,e=(t=>t)){return{query:e(t),ref:t}}let nD=(()=>{class t{constructor(t,e,n,i,r,s,o,a,c){this.schedulers=new yg.d(s),this.keepUnstableUntilFirst=Object(yg.h)(this.schedulers);const l=Object(yg.g)(t,s,e);!vg.a.auth&&c&&Object(yg.j)();const u=a;[this.firestore,this.persistenceEnabled$]=Object(yg.f)(`${l.name}.firestore`,"AngularFirestore",l,()=>{const t=s.runOutsideAngular(()=>l.firestore());if(i&&t.settings(i),u&&t.useEmulator(...u),n&&!Z(r)){const e=()=>{try{return Object(Rt.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(TA){return"undefined"!=typeof console&&console.warn(TA),Object(jt.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(jt.a)(!1)]},[i,u,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:i,query:r}=eD(n,e),s=this.schedulers.ngZone.run(()=>i);return new $A(s,r,this)}collectionGroup(t,e){const n=e||(t=>t),i=this.firestore.collectionGroup(t);return new QA(n(i),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new GA(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(yg.c),r.Yb(yg.b,8),r.Yb(ZA,8),r.Yb(JA,8),r.Yb(r.D),r.Yb(r.B),r.Yb(XA,8),r.Yb(tD,8),r.Yb(NA,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(yg.c),Object(r.Yb)(yg.b,8),Object(r.Yb)(ZA,8),Object(r.Yb)(JA,8),Object(r.Yb)(r.D),Object(r.Yb)(r.B),Object(r.Yb)(XA,8),Object(r.Yb)(tD,8),Object(r.Yb)(NA,8))},token:t,providedIn:"any"}),t})(),iD=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:ZA,useValue:!0},{provide:XA,useValue:e}]}}}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[nD]}),t})(),rD=(()=>{class t{constructor(t){this.firestore=t,this.collectionName=""}getCollectionData(t){return this.firestore.collection(`${t}`).snapshotChanges().pipe(Object(te.a)(t=>t.map(t=>{const e=t.payload.doc.data();return e.id=t.payload.doc.id,e})))}postDocument(t,e){return this.firestore.collection(`${t}`).add(e)}updateDocument(t,e){return this.firestore.collection(`${t}`).doc(e.id).update(e)}deleteDocument(t,e){return this.firestore.collection(`${t}`).doc(e).delete()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(nD))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),sD=(()=>{class t{constructor(t){this.firebaseService=t,this.collection="ingredients-units"}get(){return this.firebaseService.getCollectionData(this.collection)}post(t){return this.firebaseService.postDocument(this.collection,t)}update(t){return this.firebaseService.updateDocument(this.collection,t)}delete(t){return this.firebaseService.deleteDocument(this.collection,t.id)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(rD))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const oD=["underline"],aD=["connectionContainer"],cD=["inputContainer"],lD=["label"];function uD(t,e){1&t&&(r.Sb(0),r.Ub(1,"div",14),r.Pb(2,"div",15),r.Pb(3,"div",16),r.Pb(4,"div",17),r.Tb(),r.Ub(5,"div",18),r.Pb(6,"div",15),r.Pb(7,"div",16),r.Pb(8,"div",17),r.Tb(),r.Rb())}function hD(t,e){1&t&&(r.Ub(0,"div",19),r.hc(1,1),r.Tb())}function dD(t,e){if(1&t&&(r.Sb(0),r.hc(1,2),r.Ub(2,"span"),r.uc(3),r.Tb(),r.Rb()),2&t){const t=r.dc(2);r.Db(3),r.vc(t._control.placeholder)}}function fD(t,e){1&t&&r.hc(0,3,["*ngSwitchCase","true"])}function pD(t,e){1&t&&(r.Ub(0,"span",23),r.uc(1," *"),r.Tb())}function mD(t,e){if(1&t){const t=r.Vb();r.Ub(0,"label",20,21),r.bc("cdkObserveContent",function(){return r.nc(t),r.dc().updateOutlineGap()}),r.tc(2,dD,4,1,"ng-container",12),r.tc(3,fD,1,0,"ng-content",12),r.tc(4,pD,2,0,"span",22),r.Tb()}if(2&t){const t=r.dc();r.Gb("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),r.jc("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),r.Eb("for",t._control.id)("aria-owns",t._control.id),r.Db(2),r.jc("ngSwitchCase",!1),r.Db(1),r.jc("ngSwitchCase",!0),r.Db(1),r.jc("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function gD(t,e){1&t&&(r.Ub(0,"div",24),r.hc(1,4),r.Tb())}function bD(t,e){if(1&t&&(r.Ub(0,"div",25,26),r.Pb(2,"span",27),r.Tb()),2&t){const t=r.dc();r.Db(2),r.Gb("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function yD(t,e){if(1&t&&(r.Ub(0,"div"),r.hc(1,5),r.Tb()),2&t){const t=r.dc();r.jc("@transitionMessages",t._subscriptAnimationState)}}function vD(t,e){if(1&t&&(r.Ub(0,"div",31),r.uc(1),r.Tb()),2&t){const t=r.dc(2);r.jc("id",t._hintLabelId),r.Db(1),r.vc(t.hintLabel)}}function _D(t,e){if(1&t&&(r.Ub(0,"div",28),r.tc(1,vD,2,2,"div",29),r.hc(2,6),r.Pb(3,"div",30),r.hc(4,7),r.Tb()),2&t){const t=r.dc();r.jc("@transitionMessages",t._subscriptAnimationState),r.Db(1),r.jc("ngIf",t.hintLabel)}}const wD=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],CD=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let SD=0;const OD=new r.s("MatError");let ED=(()=>{class t{constructor(){this.id="mat-error-"+SD++}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-error"]],hostAttrs:["role","alert",1,"mat-error"],hostVars:1,hostBindings:function(t,e){2&t&&r.Eb("id",e.id)},inputs:{id:"id"},features:[r.Cb([{provide:OD,useExisting:t}])]}),t})();const xD={transitionMessages:kd("transitionMessages",[Dd("enter",Ad({opacity:1,transform:"translateY(0%)"})),Rd("void => enter",[Ad({opacity:0,transform:"translateY(-5px)"}),Td("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let kD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t}),t})();const TD=new r.s("MatHint");let ID=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-label"]]}),t})(),AD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-placeholder"]]}),t})();const DD=new r.s("MatPrefix"),RD=new r.s("MatSuffix");let jD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","matSuffix",""]],features:[r.Cb([{provide:RD,useExisting:t}])]}),t})(),PD=0;class ND{constructor(t){this._elementRef=t}}const LD=_m(ND,"primary"),FD=new r.s("MAT_FORM_FIELD_DEFAULT_OPTIONS"),MD=new r.s("MatFormField");let VD=(()=>{class t extends LD{constructor(t,e,n,i,r,s,o,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=i,this._defaults=r,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Pt.a,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+PD++,this._labelId="mat-form-field-label-"+PD++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=r&&r.appearance?r.appearance:"legacy",this._hideRequiredMarker=!(!r||null==r.hideRequiredMarker)&&r.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=ru(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(le(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(yu(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(yu(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Object(uh.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(le(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(le(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(yu(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Rr(this._label.nativeElement,"transitionend").pipe(oe(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push(...this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const i=this._connectionContainerRef.nativeElement,r=i.querySelectorAll(".mat-form-field-outline-start"),s=i.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const r=i.getBoundingClientRect();if(0===r.width&&0===r.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(r),o=t.children,a=this._getStartEnd(o[0].getBoundingClientRect());let c=0;for(let t=0;t<o.length;t++)c+=o[t].offsetWidth;e=Math.abs(a-s)-5,n=c>0?.75*c+10:0}for(let o=0;o<r.length;o++)r[o].style.width=`${e}px`;for(let o=0;o<s.length;o++)s[o].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.h),r.Ob(r.l),r.Ob(zu,8),r.Ob(FD,8),r.Ob(Ru),r.Ob(r.B),r.Ob(lm,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){if(1&t&&(r.Hb(n,kD,1),r.Hb(n,kD,3),r.Hb(n,ID,1),r.Hb(n,ID,3),r.Hb(n,AD,1),r.Hb(n,OD,1),r.Hb(n,TD,1),r.Hb(n,DD,1),r.Hb(n,RD,1)),2&t){let t;r.lc(t=r.cc())&&(e._controlNonStatic=t.first),r.lc(t=r.cc())&&(e._controlStatic=t.first),r.lc(t=r.cc())&&(e._labelChildNonStatic=t.first),r.lc(t=r.cc())&&(e._labelChildStatic=t.first),r.lc(t=r.cc())&&(e._placeholderChild=t.first),r.lc(t=r.cc())&&(e._errorChildren=t),r.lc(t=r.cc())&&(e._hintChildren=t),r.lc(t=r.cc())&&(e._prefixChildren=t),r.lc(t=r.cc())&&(e._suffixChildren=t)}},viewQuery:function(t,e){if(1&t&&(r.yc(oD,1),r.yc(aD,3),r.yc(cD,1),r.yc(lD,1)),2&t){let t;r.lc(t=r.cc())&&(e.underlineRef=t.first),r.lc(t=r.cc())&&(e._connectionContainerRef=t.first),r.lc(t=r.cc())&&(e._inputContainerRef=t.first),r.lc(t=r.cc())&&(e._label=t.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,e){2&t&&r.Gb("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[r.Cb([{provide:MD,useExisting:t}]),r.Ab],ngContentSelectors:CD,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(r.ic(wD),r.Ub(0,"div",0),r.Ub(1,"div",1,2),r.bc("click",function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)}),r.tc(3,uD,9,0,"ng-container",3),r.tc(4,hD,2,0,"div",4),r.Ub(5,"div",5,6),r.hc(7),r.Ub(8,"span",7),r.tc(9,mD,5,16,"label",8),r.Tb(),r.Tb(),r.tc(10,gD,2,0,"div",9),r.Tb(),r.tc(11,bD,3,4,"div",10),r.Ub(12,"div",11),r.tc(13,yD,2,1,"div",12),r.tc(14,_D,5,2,"div",13),r.Tb(),r.Tb()),2&t&&(r.Db(3),r.jc("ngIf","outline"==e.appearance),r.Db(1),r.jc("ngIf",e._prefixChildren.length),r.Db(5),r.jc("ngIf",e._hasFloatingLabel()),r.Db(1),r.jc("ngIf",e._suffixChildren.length),r.Db(1),r.jc("ngIf","outline"!=e.appearance),r.Db(1),r.jc("ngSwitch",e._getDisplayedMessages()),r.Db(1),r.jc("ngSwitchCase","error"),r.Db(1),r.jc("ngSwitchCase","hint"))},directives:[B,K,W,ed],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[xD.transitionMessages]},changeDetection:0}),t})(),UD=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[G,ym,nd],ym]}),t})();const BD=Uu({passive:!0});let qD=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Xt.a;const e=cu(t),n=this._monitoredElements.get(e);if(n)return n.subject;const i=new Pt.a,r="cdk-text-field-autofilled",s=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(r)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(r)&&(e.classList.remove(r),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!1}))):(e.classList.add(r),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",s,BD),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:i,unlisten:()=>{e.removeEventListener("animationstart",s,BD)}}),i}stopMonitoring(t){const e=cu(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Ru),r.Yb(r.B))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(Ru),Object(r.Yb)(r.B))},token:t,providedIn:"root"}),t})(),HD=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[ju]]}),t})();const zD=new r.s("MAT_INPUT_VALUE_ACCESSOR"),KD=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let WD=0;class YD{constructor(t,e,n,i){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=i}}const $D=Sm(YD);let GD=(()=>{class t extends $D{constructor(t,e,n,i,r,s,o,a,c,l){super(s,i,r,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._formField=l,this._uid="mat-input-"+WD++,this.focused=!1,this.stateChanges=new Pt.a,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>Nu().has(t));const u=this._elementRef.nativeElement,h=u.nodeName.toLowerCase();this._inputValueAccessor=o||u,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&c.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isNativeSelect&&(this.controlType=u.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=ru(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=ru(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Nu().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=ru(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,e;const n=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(n!==this._previousPlaceholder){const t=this._elementRef.nativeElement;this._previousPlaceholder=n,n?t.setAttribute("placeholder",n):t.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){KD.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(Ru),r.Ob(al,10),r.Ob(Yl,8),r.Ob(Zl,8),r.Ob(Om),r.Ob(zD,10),r.Ob(qD),r.Ob(r.B),r.Ob(MD,8))},t.\u0275dir=r.Jb({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(t,e){1&t&&r.bc("focus",function(){return e._focusChanged(!0)})("blur",function(){return e._focusChanged(!1)})("input",function(){return e._onInput()}),2&t&&(r.Xb("disabled",e.disabled)("required",e.required),r.Eb("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.errorState&&!e.empty)("aria-required",e.required),r.Gb("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[r.Cb([{provide:kD,useExisting:t}]),r.Ab,r.Bb]}),t})(),QD=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[Om],imports:[[HD,UD,ym],HD,UD]}),t})();const ZD=["trigger"],XD=["panel"];function JD(t,e){if(1&t&&(r.Ub(0,"span",8),r.uc(1),r.Tb()),2&t){const t=r.dc();r.Db(1),r.vc(t.placeholder)}}function tR(t,e){if(1&t&&(r.Ub(0,"span",12),r.uc(1),r.Tb()),2&t){const t=r.dc(2);r.Db(1),r.vc(t.triggerValue)}}function eR(t,e){1&t&&r.hc(0,0,["*ngSwitchCase","true"])}function nR(t,e){if(1&t&&(r.Ub(0,"span",9),r.tc(1,tR,2,1,"span",10),r.tc(2,eR,1,0,"ng-content",11),r.Tb()),2&t){const t=r.dc();r.jc("ngSwitch",!!t.customTrigger),r.Db(2),r.jc("ngSwitchCase",!0)}}function iR(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",13),r.Ub(1,"div",14,15),r.bc("@transformPanel.done",function(e){return r.nc(t),r.dc()._panelDoneAnimatingStream.next(e.toState)})("keydown",function(e){return r.nc(t),r.dc()._handleKeydown(e)}),r.hc(3,1),r.Tb(),r.Tb()}if(2&t){const t=r.dc();r.jc("@transformPanelWrap",void 0),r.Db(1),r.Fb("mat-select-panel ",t._getPanelTheme(),""),r.qc("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),r.jc("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),r.Eb("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const rR=[[["mat-select-trigger"]],"*"],sR=["mat-select-trigger","*"],oR={transformPanelWrap:kd("transformPanelWrap",[Rd("* => void",Pd("@transformPanel",[jd()],{optional:!0}))]),transformPanel:kd("transformPanel",[Dd("void",Ad({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Dd("showing",Ad({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Dd("showing-multiple",Ad({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Rd("void => *",Td("120ms cubic-bezier(0, 0, 0.2, 1)")),Rd("* => void",Td("100ms 25ms linear",Ad({opacity:0})))])};let aR=0;const cR=256,lR=new r.s("mat-select-scroll-strategy"),uR=new r.s("MAT_SELECT_CONFIG"),hR={provide:lR,deps:[qh],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class dR{constructor(t,e){this.source=t,this.value=e}}class fR{constructor(t,e,n,i,r){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=i,this.ngControl=r}}const pR=wm(Cm(vm(Sm(fR)))),mR=new r.s("MatSelectTrigger");let gR=(()=>{class t extends pR{constructor(t,e,n,i,s,o,a,c,l,u,h,d,f,p){var m,g,b;super(s,i,a,c,u),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=n,this._dir=o,this._parentFormField=l,this.ngControl=u,this._liveAnnouncer=f,this._defaultOptions=p,this._panelOpen=!1,this._compareWith=(t,e)=>t===e,this._uid="mat-select-"+aR++,this._triggerAriaLabelledBy=null,this._destroy=new Pt.a,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+aR++,this._panelDoneAnimatingStream=new Pt.a,this._overlayPanelClass=(null===(m=this._defaultOptions)||void 0===m?void 0:m.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(b=null===(g=this._defaultOptions)||void 0===g?void 0:g.disableOptionCentering)&&void 0!==b&&b,this.ariaLabel="",this.optionSelectionChanges=Jt(()=>{const t=this.options;return t?t.changes.pipe(le(t),ne(()=>Object(uh.a)(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.pipe(oe(1),ne(()=>this.optionSelectionChanges))}),this.openedChange=new r.o,this._openedStream=this.openedChange.pipe(fe(t=>t),Object(te.a)(()=>{})),this._closedStream=this.openedChange.pipe(fe(t=>!t),Object(te.a)(()=>{})),this.selectionChange=new r.o,this.valueChange=new r.o,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==p?void 0:p.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=p.typeaheadDebounceInterval),this._scrollStrategyFactory=d,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=ru(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=ru(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=ru(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=su(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new $u(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(lu(),yu(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(yu(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(le(null),yu(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const e=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?e.setAttribute("aria-labelledby",t):e.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,n=40===e||38===e||37===e||39===e,i=13===e||32===e,r=this._keyManager;if(!r.isTyping()&&i&&!fh(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){const e=this.selected;r.onKeydown(t);const n=this.selected;n&&e!==n&&this._liveAnnouncer.announce(n.viewValue,1e4)}}_handleOpenKeydown(t){const e=this._keyManager,n=t.keyCode,i=40===n||38===n,r=e.isTyping();if(i&&t.altKey)t.preventDefault(),this.close();else if(r||13!==n&&32!==n||!e.activeItem||fh(t))if(!r&&this._multiple&&65===n&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const n=e.activeItemIndex;e.onKeydown(t),this._multiple&&i&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==n&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(oe(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(t=>t.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(t=>this._selectValue(t)),this._sortValues();else{const e=this._selectValue(t);e?this._keyManager.updateActiveItem(e):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{if(this._selectionModel.isSelected(e))return!1;try{return null!=e.value&&this._compareWith(e.value,t)}catch(n){return!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new rd(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(yu(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(yu(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=Object(uh.a)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(yu(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Object(uh.a)(...this.options.map(t=>t._stateChanges)).pipe(yu(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,e){const n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,n)=>this.sortComparator?this.sortComparator(e,n,t):t.indexOf(e)-t.indexOf(n)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(this._getChangeEvent(e)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const e=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const e=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let n=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Ju),r.Ob(r.h),r.Ob(r.B),r.Ob(Om),r.Ob(r.l),r.Ob(zu,8),r.Ob(Yl,8),r.Ob(Zl,8),r.Ob(MD,8),r.Ob(al,10),r.Zb("tabindex"),r.Ob(lR),r.Ob(fd),r.Ob(uR,8))},t.\u0275dir=r.Jb({type:t,viewQuery:function(t,e){if(1&t&&(r.yc(ZD,1),r.yc(XD,1),r.yc(Wh,1)),2&t){let t;r.lc(t=r.cc())&&(e.trigger=t.first),r.lc(t=r.cc())&&(e.panel=t.first),r.lc(t=r.cc())&&(e.overlayDir=t.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[r.Ab,r.Bb]}),t})(),bR=(()=>{class t extends gR{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,e,n){const i=this._getItemHeight();return Math.min(Math.max(0,i*t-e+i/2),n)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(yu(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(oe(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const e=Qm(t,this.options,this.optionGroups),n=this._getItemHeight();var i,r,s;this.panel.nativeElement.scrollTop=(r=n,(i=(t+e)*n)<(s=this.panel.nativeElement.scrollTop)?i:i+r>s+256?Math.max(0,i-256+r):s)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new dR(this,t)}_calculateOverlayOffsetX(){const t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),n=this._isRtl(),i=this.multiple?56:32;let r;if(this.multiple)r=40;else if(this.disableOptionCentering)r=16;else{let t=this._selectionModel.selected[0]||this.options.first;r=t&&t.group?32:16}n||(r*=-1);const s=0-(t.left+r-(n?i:0)),o=t.right+r-e.width+(n?0:i);s>0?r+=s+8:o>0&&(r-=o+8),this.overlayDir.offsetX=Math.round(r),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,n){const i=this._getItemHeight(),r=(i-this._triggerRect.height)/2,s=Math.floor(cR/i);let o;return this.disableOptionCentering?0:(o=0===this._scrollTop?t*i:this._scrollTop===n?(t-(this._getItemCount()-s))*i+(i-(this._getItemCount()*i-cR)%i):e-i/2,Math.round(-1*o-r))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),i=this._triggerRect.top-8,r=n.height-this._triggerRect.bottom-8,s=Math.abs(this._offsetY),o=Math.min(this._getItemCount()*e,cR)-s-this._triggerRect.height;o>r?this._adjustPanelUp(o,r):s>i?this._adjustPanelDown(s,i,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,n){const i=Math.round(t-e);if(this._scrollTop+=i,this._offsetY+=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,cR),i=e*t-n;let r;r=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),r+=Qm(r,this.options,this.optionGroups);const s=n/2;this._scrollTop=this._calculateOverlayScroll(r,s,i),this._offsetY=this._calculateOverlayOffsetY(r,s,i),this._checkOverlayWithinViewport(i)}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return t.\u0275fac=function(e){return yR(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-select"]],contentQueries:function(t,e,n){if(1&t&&(r.Hb(n,mR,1),r.Hb(n,Gm,1),r.Hb(n,Km,1)),2&t){let t;r.lc(t=r.cc())&&(e.customTrigger=t.first),r.lc(t=r.cc())&&(e.options=t),r.lc(t=r.cc())&&(e.optionGroups=t)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,e){1&t&&r.bc("keydown",function(t){return e._handleKeydown(t)})("focus",function(){return e._onFocus()})("blur",function(){return e._onBlur()}),2&t&&(r.Eb("id",e.id)("tabindex",e.tabIndex)("aria-controls",e.panelOpen?e.id+"-panel":null)("aria-expanded",e.panelOpen)("aria-label",e.ariaLabel||null)("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),r.Gb("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty)("mat-select-multiple",e.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[r.Cb([{provide:kD,useExisting:t},{provide:Um,useExisting:t}]),r.Ab],ngContentSelectors:sR,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&(r.ic(rR),r.Ub(0,"div",0,1),r.bc("click",function(){return e.toggle()}),r.Ub(3,"div",2),r.tc(4,JD,2,1,"span",3),r.tc(5,nR,3,2,"span",4),r.Tb(),r.Ub(6,"div",5),r.Pb(7,"div",6),r.Tb(),r.Tb(),r.tc(8,iR,4,14,"ng-template",7),r.bc("backdropClick",function(){return e.close()})("attach",function(){return e._onAttached()})("detach",function(){return e.close()})),2&t){const t=r.mc(1);r.Eb("aria-owns",e.panelOpen?e.id+"-panel":null),r.Db(3),r.jc("ngSwitch",e.empty),r.Eb("id",e._valueId),r.Db(1),r.jc("ngSwitchCase",!0),r.Db(1),r.jc("ngSwitchCase",!1),r.Db(3),r.jc("cdkConnectedOverlayPanelClass",e._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[Kh,K,W,Wh,Y,F],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px}\n'],encapsulation:2,data:{animation:[oR.transformPanelWrap,oR.transformPanel]},changeDetection:0}),t})();const yR=r.Wb(bR);let vR=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[hR],imports:[[G,$h,Zm,ym],th,UD,Zm,ym]}),t})();const _R=["mat-button",""],wR=["*"],CR=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class SR{constructor(t){this._elementRef=t}}const OR=_m(vm(wm(SR)));let ER=(()=>{class t extends OR{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const i of CR)this._hasHostAttributes(i)&&this._getHostElement().classList.add(i);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(yd),r.Ob(lm,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){if(1&t&&r.yc(Lm,1),2&t){let t;r.lc(t=r.cc())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(r.Eb("disabled",e.disabled||null),r.Gb("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.Ab],attrs:_R,ngContentSelectors:wR,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.ic(),r.Ub(0,"span",0),r.hc(1),r.Tb(),r.Pb(2,"span",1),r.Pb(3,"span",2)),2&t&&(r.Db(2),r.Gb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.jc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[Lm],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),xR=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[Fm,ym],ym]}),t})();var kR=n("z6cu"),TR=n("w1tV");class IR{}class AR{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),i=n.toLowerCase(),r=t.slice(e+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const i=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof AR?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new AR;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof AR?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":const r=t.value;if(r){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===r.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class DR{encodeKey(t){return RR(t)}encodeValue(t){return RR(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function RR(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class jR{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new DR,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const i=t.indexOf("="),[r,s]=-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],o=n.get(r)||[];o.push(s),n.set(r,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new jR({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function PR(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function NR(t){return"undefined"!=typeof Blob&&t instanceof Blob}function LR(t){return"undefined"!=typeof FormData&&t instanceof FormData}class FR{constructor(t,e,n,i){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new AR),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new jR,this.urlWithParams=e}serializeBody(){return null===this.body?null:PR(this.body)||NR(this.body)||LR(this.body)||"string"==typeof this.body?this.body:this.body instanceof jR?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||LR(this.body)?null:NR(this.body)?this.body.type||null:PR(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof jR?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,r=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new FR(e,n,r,{params:c,headers:a,reportProgress:o,responseType:i,withCredentials:s})}}var MR=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class VR extends class{constructor(t,e=200,n="OK"){this.headers=t.headers||new AR,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=MR.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new VR({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function UR(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let BR=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let i;if(t instanceof FR)i=t;else{let r,s;r=n.headers instanceof AR?n.headers:new AR(n.headers),n.params&&(s=n.params instanceof jR?n.params:new jR({fromObject:n.params})),i=new FR(t,e,void 0!==n.body?n.body:null,{headers:r,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=Object(jt.a)(i).pipe(_e(t=>this.handler.handle(t)));if(t instanceof FR||"events"===n.observe)return r;const s=r.pipe(fe(t=>t instanceof VR));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return s.pipe(Object(te.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(Object(te.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(Object(te.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(Object(te.a)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new jR).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,UR(n,e))}post(t,e,n={}){return this.request("POST",t,UR(n,e))}put(t,e,n={}){return this.request("PUT",t,UR(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(IR))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const qR=["*"];function HR(t){return Error(`Unable to find icon with the name "${t}"`)}function zR(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function KR(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class WR{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let YR=(()=>{class t{constructor(t,e,n,i){this._httpClient=t,this._sanitizer=e,this._errorHandler=i,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,i){return this._addSvgIconConfig(t,e,new WR(n,null,i))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,e,n,i){const s=this._sanitizer.sanitize(r.K.HTML,n);if(!s)throw KR(n);return this._addSvgIconConfig(t,e,new WR("",s,i))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new WR(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){const i=this._sanitizer.sanitize(r.K.HTML,e);if(!i)throw KR(e);return this._addSvgIconSetConfig(t,new WR("",i,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(r.K.RESOURCE_URL,t);if(!e)throw zR(t);const n=this._cachedIconsByUrl.get(e);return n?Object(jt.a)($R(n)):this._loadSvgIconFromConfig(new WR(t,null)).pipe(Object(je.a)(t=>this._cachedIconsByUrl.set(e,t)),Object(te.a)(t=>$R(t)))}getNamedSvgIcon(t,e=""){const n=GR(e,t);let i=this._svgIconConfigs.get(n);if(i)return this._getSvgFromConfig(i);if(i=this._getIconConfigFromResolvers(e,t),i)return this._svgIconConfigs.set(n,i),this._getSvgFromConfig(i);const r=this._iconSetConfigs.get(e);return r?this._getSvgFromIconSetConfigs(t,r):Object(kR.a)(HR(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Object(jt.a)($R(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Object(te.a)(t=>$R(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?Object(jt.a)(n):Pc(e.filter(t=>!t.svgText).map(t=>this._loadSvgIconSetFromConfig(t).pipe(ge(e=>{const n=this._sanitizer.sanitize(r.K.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${e.message}`)),Object(jt.a)(null)})))).pipe(Object(te.a)(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw HR(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const i=e[n];if(i.svgText&&i.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(i),n=this._extractSvgIconFromSet(e,t,i.options);if(n)return n}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Object(je.a)(e=>t.svgText=e),Object(te.a)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Object(jt.a)(null):this._fetchIcon(t).pipe(Object(je.a)(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){const i=t.querySelector(`[id="${e}"]`);if(!i)return null;const r=i.cloneNode(!0);if(r.removeAttribute("id"),"svg"===r.nodeName.toLowerCase())return this._setSvgAttributes(r,n);if("symbol"===r.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(r),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(r),this._setSvgAttributes(s,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let i=0;i<n.length;i++){const{name:t,value:r}=n[i];"id"!==t&&e.setAttribute(t,r)}for(let i=0;i<t.childNodes.length;i++)t.childNodes[i].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[i].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:n,options:i}=t,s=null!==(e=null==i?void 0:i.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(r.K.RESOURCE_URL,n);if(!o)throw zR(n);const a=this._inProgressUrlFetches.get(o);if(a)return a;const c=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(Ne(()=>this._inProgressUrlFetches.delete(o)),Object(TR.a)());return this._inProgressUrlFetches.set(o,c),c}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(GR(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}_getIconConfigFromResolvers(t,e){for(let i=0;i<this._resolvers.length;i++){const r=this._resolvers[i](e,t);if(r)return(n=r).url&&n.options?new WR(r.url,null,r.options):new WR(r,null)}var n}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(BR,8),r.Yb(xt),r.Yb(a,8),r.Yb(r.n))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(BR,8),Object(r.Yb)(xt),Object(r.Yb)(a,8),Object(r.Yb)(r.n))},token:t,providedIn:"root"}),t})();function $R(t){return t.cloneNode(!0)}function GR(t,e){return t+":"+e}class QR{constructor(t){this._elementRef=t}}const ZR=_m(QR),XR=new r.s("mat-icon-location",{providedIn:"root",factory:function(){const t=Object(r.X)(a),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),JR=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],tj=JR.map(t=>`[${t}]`).join(", "),ej=/^url\(['"]?#(.*?)['"]?\)$/;let nj=(()=>{class t extends ZR{constructor(t,e,n,i,r){super(t),this._iconRegistry=e,this._location=i,this._errorHandler=r,this._inline=!1,this._currentIconFetch=Pe.a.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=ru(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let i=0;i<e.length;i++)e[i].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(tj),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let i=0;i<e.length;i++)JR.forEach(t=>{const r=e[i],s=r.getAttribute(t),o=s?s.match(ej):null;if(o){let e=n.get(r);e||(e=[],n.set(r,e)),e.push({name:t,value:o[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe(oe(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${n}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(YR),r.Zb("aria-hidden"),r.Ob(XR),r.Ob(r.n))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Eb("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),r.Gb("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.Ab],ngContentSelectors:qR,decls:1,vars:0,template:function(t,e){1&t&&(r.ic(),r.hc(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),ij=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[ym],ym]}),t})();function rj(t,e){if(1&t){const t=r.Vb();r.Ub(0,"button",16),r.bc("click",function(){return r.nc(t),r.dc().name.setValue("")}),r.Ub(1,"mat-icon"),r.uc(2,"close"),r.Tb(),r.Tb()}}function sj(t,e){1&t&&(r.Ub(0,"mat-error"),r.uc(1,"El nombre es obligatorio"),r.Tb())}function oj(t,e){if(1&t&&(r.Ub(0,"mat-option",17),r.uc(1),r.Tb()),2&t){const t=e.$implicit;r.jc("value",t.id),r.Db(1),r.vc(t.name)}}function aj(t,e){if(1&t){const t=r.Vb();r.Ub(0,"button",16),r.bc("click",function(){return r.nc(t),r.dc().unit.setValue("")}),r.Ub(1,"mat-icon"),r.uc(2,"close"),r.Tb(),r.Tb()}}function cj(t,e){1&t&&(r.Ub(0,"mat-error"),r.uc(1,"La unidad de medida es obligatoria"),r.Tb())}function lj(t,e){if(1&t){const t=r.Vb();r.Ub(0,"button",16),r.bc("click",function(){return r.nc(t),r.dc().price.setValue("")}),r.Ub(1,"mat-icon"),r.uc(2,"close"),r.Tb(),r.Tb()}}function uj(t,e){1&t&&(r.Ub(0,"mat-error"),r.uc(1,"El precio es obligatorio"),r.Tb())}let hj=(()=>{class t{constructor(t,e,n,i){this.dialogRef=t,this.data=e,this.formBuilder=n,this.ingredientUnitsService=i,this.ingredientUnits=[]}get name(){return this.ingredientForm.controls.name}get unit(){return this.ingredientForm.controls.unit}get price(){return this.ingredientForm.controls.price}get isEdit(){return null!=this.data}ngOnInit(){this.createIngredientsForm(),this.ingredientUnitsService.get().subscribe(t=>{this.ingredientUnits=ec(t,"name")})}onNoClick(){this.dialogRef.close()}onSubmit(){this.ingredientForm.valid&&this.dialogRef.close(this.ingredientForm.value)}createIngredientsForm(){this.ingredientForm=this.formBuilder.group({id:new ql,name:new ql("",[Yc.required]),unit:new ql("",[Yc.required]),price:new ql("",[Yc.required])}),this.data&&(this.ingredientForm.controls.id.setValue(this.data.id),this.ingredientForm.controls.name.setValue(this.data.name),this.ingredientForm.controls.price.setValue(this.data.price),this.ingredientForm.controls.unit.setValue(this.data.unit))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(sg),r.Ob(ag),r.Ob(eu),r.Ob(sD))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-ingredient-dialog"]],decls:30,vars:9,consts:[[3,"formGroup","ngSubmit"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"container"],[1,"row"],[1,"col-12"],["matInput","","formControlName","name"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear","type","button",3,"click",4,"ngIf"],[4,"ngIf"],[1,"col-6"],["formControlName","unit"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","number","formControlName","price"],["mat-dialog-actions","",1,"d-flex","float-right"],["mat-button","","type","button",3,"click"],["mat-button","","color","primary","type","submit","cdkFocusInitial",""],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear","type","button",3,"click"],[3,"value"]],template:function(t,e){1&t&&(r.Ub(0,"form",0),r.bc("ngSubmit",function(){return e.onSubmit()}),r.Ub(1,"h1",1),r.uc(2),r.Tb(),r.Ub(3,"div",2),r.Ub(4,"div",3),r.Ub(5,"div",4),r.Ub(6,"mat-form-field",5),r.Ub(7,"mat-label"),r.uc(8,"Nombre"),r.Tb(),r.Pb(9,"input",6),r.tc(10,rj,3,0,"button",7),r.tc(11,sj,2,0,"mat-error",8),r.Tb(),r.Ub(12,"mat-form-field",9),r.Ub(13,"mat-label"),r.uc(14,"Unidad de medida"),r.Tb(),r.Ub(15,"mat-select",10),r.tc(16,oj,2,2,"mat-option",11),r.Tb(),r.tc(17,aj,3,0,"button",7),r.tc(18,cj,2,0,"mat-error",8),r.Tb(),r.Ub(19,"mat-form-field",9),r.Ub(20,"mat-label"),r.uc(21,"Precio"),r.Tb(),r.Pb(22,"input",12),r.tc(23,lj,3,0,"button",7),r.tc(24,uj,2,0,"mat-error",8),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Ub(25,"div",13),r.Ub(26,"button",14),r.bc("click",function(){return e.onNoClick()}),r.uc(27,"Cancelar"),r.Tb(),r.Ub(28,"button",15),r.uc(29,"Guardar"),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.jc("formGroup",e.ingredientForm),r.Db(2),r.wc("",e.isEdit?"Editar":"Agregar"," ingrediente"),r.Db(8),r.jc("ngIf",e.name.value),r.Db(1),r.jc("ngIf",e.name.invalid),r.Db(5),r.jc("ngForOf",e.ingredientUnits),r.Db(1),r.jc("ngIf",e.unit.value),r.Db(1),r.jc("ngIf",e.unit.invalid),r.Db(5),r.jc("ngIf",e.price.value),r.Db(1),r.jc("ngIf",e.name.invalid))},directives:[$l,ul,Zl,pg,mg,VD,ID,GD,Bc,ll,Jl,B,bR,V,dl,gg,ER,jD,nj,ED,Gm],styles:[""]}),t})(),dj=(()=>{class t{constructor(t){this.firebaseService=t,this.collection="ingredients"}get(){return this.firebaseService.getCollectionData(this.collection)}post(t){return this.firebaseService.postDocument(this.collection,t)}update(t){return this.firebaseService.updateDocument(this.collection,t)}delete(t){return this.firebaseService.deleteDocument(this.collection,t.id)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(rD))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),fj=(()=>{class t{constructor(){this.loginSessionKey="loginSessionKey",this.isLogin=!1}login(t="",e=""){this.isLogin=!0,sessionStorage.setItem(this.loginSessionKey,"true")}logout(){this.isLogin=!1,sessionStorage.removeItem(this.loginSessionKey)}getIsLogin(){const t=sessionStorage.getItem(this.loginSessionKey);return this.isLogin="true"===(null==t?void 0:t.toLowerCase()),this.isLogin}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),pj=0;const mj=new r.s("CdkAccordion");let gj=(()=>{class t{constructor(){this._stateChanges=new Pt.a,this._openCloseAllActions=new Pt.a,this.id="cdk-accordion-"+pj++,this._multi=!1}get multi(){return this._multi}set multi(t){this._multi=ru(t)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[r.Cb([{provide:mj,useExisting:t}]),r.Bb]}),t})(),bj=0,yj=(()=>{class t{constructor(t,e,n){this.accordion=t,this._changeDetectorRef=e,this._expansionDispatcher=n,this._openCloseAllSubscription=Pe.a.EMPTY,this.closed=new r.o,this.opened=new r.o,this.destroyed=new r.o,this.expandedChange=new r.o,this.id="cdk-accordion-child-"+bj++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=n.listen((t,e)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===e&&this.id!==t&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(t){t=ru(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=ru(t)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(mj,12),r.Ob(r.h),r.Ob(Gu))},t.\u0275dir=r.Jb({type:t,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[r.Cb([{provide:mj,useValue:void 0}])]}),t})(),vj=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})();const _j=["body"];function wj(t,e){}const Cj=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],Sj=["mat-expansion-panel-header","*","mat-action-row"];function Oj(t,e){if(1&t&&r.Pb(0,"span",2),2&t){const t=r.dc();r.jc("@indicatorRotate",t._getExpandedState())}}const Ej=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],xj=["mat-panel-title","mat-panel-description","*"],kj=new r.s("MAT_ACCORDION"),Tj="225ms cubic-bezier(0.4,0.0,0.2,1)",Ij={indicatorRotate:kd("indicatorRotate",[Dd("collapsed, void",Ad({transform:"rotate(0deg)"})),Dd("expanded",Ad({transform:"rotate(180deg)"})),Rd("expanded <=> collapsed, void => collapsed",Td(Tj))]),bodyExpansion:kd("bodyExpansion",[Dd("collapsed, void",Ad({height:"0px",visibility:"hidden"})),Dd("expanded",Ad({height:"*",visibility:"visible"})),Rd("expanded <=> collapsed, void => collapsed",Td(Tj))])};let Aj=(()=>{class t{constructor(t){this._template=t}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.N))},t.\u0275dir=r.Jb({type:t,selectors:[["ng-template","matExpansionPanelContent",""]]}),t})(),Dj=0;const Rj=new r.s("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let jj=(()=>{class t extends yj{constructor(t,e,n,i,s,o,a){super(t,e,n),this._viewContainerRef=i,this._animationMode=o,this._hideToggle=!1,this.afterExpand=new r.o,this.afterCollapse=new r.o,this._inputChanges=new Pt.a,this._headerId="mat-expansion-panel-header-"+Dj++,this._bodyAnimationDone=new Pt.a,this.accordion=t,this._document=s,this._bodyAnimationDone.pipe(lu((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{"void"!==t.fromState&&("expanded"===t.toState?this.afterExpand.emit():"collapsed"===t.toState&&this.afterCollapse.emit())}),a&&(this.hideToggle=a.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=ru(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe(le(null),fe(()=>this.expanded&&!this._portal),oe(1)).subscribe(()=>{this._portal=new rh(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,e=this._body.nativeElement;return t===e||e.contains(t)}return!1}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(kj,12),r.Ob(r.h),r.Ob(Gu),r.Ob(r.S),r.Ob(a),r.Ob(lm,8),r.Ob(Rj,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-expansion-panel"]],contentQueries:function(t,e,n){if(1&t&&r.Hb(n,Aj,1),2&t){let t;r.lc(t=r.cc())&&(e._lazyContent=t.first)}},viewQuery:function(t,e){if(1&t&&r.yc(_j,1),2&t){let t;r.lc(t=r.cc())&&(e._body=t.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,e){2&t&&r.Gb("mat-expanded",e.expanded)("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-expansion-panel-spacing",e._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[r.Cb([{provide:kj,useValue:void 0}]),r.Ab,r.Bb],ngContentSelectors:Sj,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,e){1&t&&(r.ic(Cj),r.hc(0),r.Ub(1,"div",0,1),r.bc("@bodyExpansion.done",function(t){return e._bodyAnimationDone.next(t)}),r.Ub(3,"div",2),r.hc(4,1),r.tc(5,wj,0,0,"ng-template",3),r.Tb(),r.hc(6,2),r.Tb()),2&t&&(r.Db(1),r.jc("@bodyExpansion",e._getExpandedState())("id",e.id),r.Eb("aria-labelledby",e._headerId),r.Db(4),r.jc("cdkPortalOutlet",e._portal))},directives:[ch],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Ij.bodyExpansion]},changeDetection:0}),t})(),Pj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-action-row"]],hostAttrs:[1,"mat-action-row"]}),t})(),Nj=(()=>{class t{constructor(t,e,n,i,r,s){this.panel=t,this._element=e,this._focusMonitor=n,this._changeDetectorRef=i,this._animationMode=s,this._parentChangeSubscription=Pe.a.EMPTY;const o=t.accordion?t.accordion._stateChanges.pipe(fe(t=>!(!t.hideToggle&&!t.togglePosition))):Xt.a;this._parentChangeSubscription=Object(uh.a)(t.opened,t.closed,o,t._inputChanges.pipe(fe(t=>!!(t.hideToggle||t.disabled||t.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(fe(()=>t._containsFocus())).subscribe(()=>n.focusVia(e,"program")),r&&(this.expandedHeight=r.expandedHeight,this.collapsedHeight=r.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:fh(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,e){t?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(jj,1),r.Ob(r.l),r.Ob(yd),r.Ob(r.h),r.Ob(Rj,8),r.Ob(lm,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(t,e){1&t&&r.bc("click",function(){return e._toggle()})("keydown",function(t){return e._keydown(t)}),2&t&&(r.Eb("id",e.panel._headerId)("tabindex",e.disabled?-1:0)("aria-controls",e._getPanelId())("aria-expanded",e._isExpanded())("aria-disabled",e.panel.disabled),r.qc("height",e._getHeaderHeight()),r.Gb("mat-expanded",e._isExpanded())("mat-expansion-toggle-indicator-after","after"===e._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===e._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},ngContentSelectors:xj,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,e){1&t&&(r.ic(Ej),r.Ub(0,"span",0),r.hc(1),r.hc(2,1),r.hc(3,2),r.Tb(),r.tc(4,Oj,1,1,"span",1)),2&t&&(r.Db(4),r.jc("ngIf",e._showToggle()))},directives:[B],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true])::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;border:3px solid;border-radius:4px;content:""}\n'],encapsulation:2,data:{animation:[Ij.indicatorRotate]},changeDetection:0}),t})(),Lj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]}),t})(),Fj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),t})(),Mj=(()=>{class t extends gj{constructor(){super(...arguments),this._ownHeaders=new r.F,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(t){this._hideToggle=ru(t)}ngAfterContentInit(){this._headers.changes.pipe(le(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(t=>t.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new sd(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(t){this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return t.\u0275fac=function(e){return Vj(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-accordion"]],contentQueries:function(t,e,n){if(1&t&&r.Hb(n,Nj,1),2&t){let t;r.lc(t=r.cc())&&(e._headers=t)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(t,e){2&t&&r.Gb("mat-accordion-multi",e.multi)},inputs:{multi:"multi",displayMode:"displayMode",togglePosition:"togglePosition",hideToggle:"hideToggle"},exportAs:["matAccordion"],features:[r.Cb([{provide:kj,useExisting:t}]),r.Ab]}),t})();const Vj=r.Wb(Mj);let Uj=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[G,ym,vj,lh]]}),t})();function Bj(t,e){if(1&t){const t=r.Vb();r.Ub(0,"button",6),r.bc("click",function(){return r.nc(t),r.dc().openAddIngredientDialog()}),r.Ub(1,"mat-icon"),r.uc(2,"add"),r.Tb(),r.Tb()}}function qj(t,e){if(1&t){const t=r.Vb();r.Ub(0,"mat-action-row"),r.Ub(1,"button",9),r.bc("click",function(){r.nc(t);const e=r.dc().$implicit;return r.dc().deleteIngredient(e)}),r.uc(2,"Borrar"),r.Tb(),r.Ub(3,"button",10),r.bc("click",function(){r.nc(t);const e=r.dc().$implicit;return r.dc().editIngredient(e)}),r.uc(4,"Editar"),r.Tb(),r.Tb()}}function Hj(t,e){if(1&t&&(r.Ub(0,"mat-expansion-panel",7),r.Ub(1,"mat-expansion-panel-header"),r.Ub(2,"mat-panel-title"),r.uc(3),r.Tb(),r.Ub(4,"mat-panel-description"),r.uc(5),r.ec(6,"currency"),r.Tb(),r.Tb(),r.Ub(7,"strong"),r.uc(8,"Unidad de medida:"),r.Tb(),r.uc(9),r.tc(10,qj,5,0,"mat-action-row",8),r.Tb()),2&t){const t=e.$implicit,n=r.dc();r.Db(3),r.wc(" ",t.name," "),r.Db(2),r.xc(" ",r.gc(6,5,t.price,"","symbol","1.0-0")," / ",n.getIngredientUnitAbbreviation(t)," "),r.Db(4),r.wc(" ",n.getIngredientUnitName(t)," "),r.Db(1),r.jc("ngIf",n.isLogin)}}let zj=(()=>{class t{constructor(t,e,n,i){this.ingredientsService=t,this.ingredientsUnitsService=e,this.dialog=n,this.loginService=i,this.ingredientUnits=[],this.ingredients=[],this.isLogin=!1}ngOnInit(){this.ingredientsService.get().subscribe(t=>{this.ingredients=ec(t,"name")}),this.ingredientsUnitsService.get().subscribe(t=>{this.ingredientUnits=t}),this.isLogin=this.loginService.getIsLogin()}getIngredientUnitAbbreviation(t){var e,n;return null!==(n=null===(e=this.ingredientUnits.find(e=>e.id===t.unit))||void 0===e?void 0:e.abbreviation)&&void 0!==n?n:""}getIngredientUnitName(t){var e,n;return null!==(n=null===(e=this.ingredientUnits.find(e=>e.id===t.unit))||void 0===e?void 0:e.name)&&void 0!==n?n:""}openAddIngredientDialog(){this.openIngredientDialog().afterClosed().subscribe(t=>{t&&this.ingredientsService.post(t)})}deleteIngredient(t){this.ingredientsService.delete(t)}editIngredient(t){this.openIngredientDialog(t).afterClosed().subscribe(t=>{t&&this.ingredientsService.update(t)})}openIngredientDialog(t){return this.dialog.open(hj,{width:"500px",data:t})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(dj),r.Ob(sD),r.Ob(dg),r.Ob(fj))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-ingredients"]],decls:7,vars:2,consts:[[1,"container","mt-3"],[1,"row"],[1,"mr-auto"],["mat-mini-fab","","color","primary",3,"click",4,"ngIf"],[1,"example-headers-align"],["hideToggle","",4,"ngFor","ngForOf"],["mat-mini-fab","","color","primary",3,"click"],["hideToggle",""],[4,"ngIf"],["mat-button","","color","warn",3,"click"],["mat-raised-button","",3,"click"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Ub(2,"h1",2),r.uc(3,"Ingredientes"),r.Tb(),r.tc(4,Bj,3,0,"button",3),r.Tb(),r.Tb(),r.Ub(5,"mat-accordion",4),r.tc(6,Hj,11,10,"mat-expansion-panel",5),r.Tb()),2&t&&(r.Db(4),r.jc("ngIf",e.isLogin),r.Db(2),r.jc("ngForOf",e.ingredients))},directives:[B,Mj,V,ER,nj,jj,Nj,Fj,Lj,Pj],pipes:[$],styles:[".example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%], .example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%]{flex-basis:0}.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}.example-headers-align[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}"]}),t})();function Kj(t,e){if(1&t&&(r.Ub(0,"mat-option",16),r.uc(1),r.Tb()),2&t){const t=e.$implicit;r.jc("value",t.id),r.Db(1),r.wc("",t.name," ")}}function Wj(t,e){if(1&t){const t=r.Vb();r.Ub(0,"button",17),r.bc("click",function(){return r.nc(t),r.dc().ingredient.setValue("")}),r.Ub(1,"mat-icon"),r.uc(2,"close"),r.Tb(),r.Tb()}}function Yj(t,e){1&t&&(r.Ub(0,"mat-error"),r.uc(1,"La unidad de medida es obligatoria"),r.Tb())}function $j(t,e){if(1&t&&(r.Ub(0,"mat-option",16),r.uc(1),r.Tb()),2&t){const t=e.$implicit;r.jc("value",t.id),r.Db(1),r.vc(t.name)}}function Gj(t,e){if(1&t){const t=r.Vb();r.Ub(0,"button",17),r.bc("click",function(){return r.nc(t),r.dc().unit.setValue("")}),r.Ub(1,"mat-icon"),r.uc(2,"close"),r.Tb(),r.Tb()}}function Qj(t,e){1&t&&(r.Ub(0,"mat-error"),r.uc(1,"La unidad de medida es obligatoria"),r.Tb())}function Zj(t,e){if(1&t){const t=r.Vb();r.Ub(0,"button",17),r.bc("click",function(){return r.nc(t),r.dc().amount.setValue("")}),r.Ub(1,"mat-icon"),r.uc(2,"close"),r.Tb(),r.Tb()}}function Xj(t,e){1&t&&(r.Ub(0,"mat-error"),r.uc(1,"La cantidad es obligatoria"),r.Tb())}let Jj=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this.data=e,this.formBuilder=n}get dataRecipeIngredient(){var t;return null===(t=this.data)||void 0===t?void 0:t.recipeIngredient}get dataIngredients(){var t;return null===(t=this.data)||void 0===t?void 0:t.ingredients}get dataIngredientsUnits(){var t;return null===(t=this.data)||void 0===t?void 0:t.ingredientsUnits}get isEdit(){return null!=this.data}get ingredient(){return this.ingredientForm.controls.ingredient}get unit(){return this.ingredientForm.controls.unit}get amount(){return this.ingredientForm.controls.amount}ngOnInit(){this.ingredientForm=this.formBuilder.group({ingredient:new ql("",[Yc.required]),unit:new ql("",[Yc.required]),amount:new ql("",[Yc.required])}),this.dataRecipeIngredient&&(this.ingredient.setValue(this.dataRecipeIngredient.ingredient),this.unit.setValue(this.dataRecipeIngredient.unit),this.amount.setValue(this.dataRecipeIngredient.amount))}onSubmit(){var t,e,n,i,r;const s={amount:this.amount.value,ingredient:this.ingredient.value,ingredientName:null!==(e=null===(t=this.dataIngredients.find(t=>t.id===this.ingredient.value))||void 0===t?void 0:t.name)&&void 0!==e?e:"",price:null===(n=this.dataRecipeIngredient)||void 0===n?void 0:n.price,unit:this.unit.value,unitAbbreviation:null!==(r=null===(i=this.dataIngredientsUnits.find(t=>t.id===this.unit.value))||void 0===i?void 0:i.abbreviation)&&void 0!==r?r:""};this.dialogRef.close(s)}onNoClick(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(sg),r.Ob(ag),r.Ob(eu))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-recipe-ingredient-dialog"]],decls:31,vars:10,consts:[[3,"formGroup","ngSubmit"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"container"],[1,"row"],[1,"col-12"],["formControlName","ingredient"],[3,"value",4,"ngFor","ngForOf"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear","type","button",3,"click",4,"ngIf"],[4,"ngIf"],[1,"col-6"],["formControlName","unit"],["matInput","","formControlName","amount","type","number"],["mat-dialog-actions","",1,"d-flex","float-right"],["mat-button","","type","button",3,"click"],["mat-button","","color","primary","type","submit","cdkFocusInitial",""],[3,"value"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear","type","button",3,"click"]],template:function(t,e){1&t&&(r.Ub(0,"form",0),r.bc("ngSubmit",function(){return e.onSubmit()}),r.Ub(1,"h1",1),r.uc(2),r.Tb(),r.Ub(3,"div",2),r.Ub(4,"div",3),r.Ub(5,"div",4),r.Ub(6,"mat-form-field",5),r.Ub(7,"mat-label"),r.uc(8,"Ingrediente"),r.Tb(),r.Ub(9,"mat-select",6),r.tc(10,Kj,2,2,"mat-option",7),r.Tb(),r.tc(11,Wj,3,0,"button",8),r.tc(12,Yj,2,0,"mat-error",9),r.Tb(),r.Ub(13,"mat-form-field",10),r.Ub(14,"mat-label"),r.uc(15,"Unidad de medida"),r.Tb(),r.Ub(16,"mat-select",11),r.tc(17,$j,2,2,"mat-option",7),r.Tb(),r.tc(18,Gj,3,0,"button",8),r.tc(19,Qj,2,0,"mat-error",9),r.Tb(),r.Ub(20,"mat-form-field",10),r.Ub(21,"mat-label"),r.uc(22,"Cantidad"),r.Tb(),r.Pb(23,"input",12),r.tc(24,Zj,3,0,"button",8),r.tc(25,Xj,2,0,"mat-error",9),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Ub(26,"div",13),r.Ub(27,"button",14),r.bc("click",function(){return e.onNoClick()}),r.uc(28,"Cancelar"),r.Tb(),r.Ub(29,"button",15),r.uc(30,"Guardar"),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.jc("formGroup",e.ingredientForm),r.Db(2),r.wc("",e.isEdit?"Editar":"Agregar"," ingediente"),r.Db(8),r.jc("ngForOf",e.dataIngredients),r.Db(1),r.jc("ngIf",e.ingredient.value),r.Db(1),r.jc("ngIf",e.unit.invalid),r.Db(5),r.jc("ngForOf",e.dataIngredientsUnits),r.Db(1),r.jc("ngIf",e.unit.value),r.Db(1),r.jc("ngIf",e.unit.invalid),r.Db(5),r.jc("ngIf",e.amount.value),r.Db(1),r.jc("ngIf",e.amount.invalid))},directives:[$l,ul,Zl,pg,mg,VD,ID,bR,ll,Jl,V,B,GD,Bc,dl,gg,ER,Gm,jD,nj,ED],styles:[""]}),t})();const tP=[[["caption"]],[["colgroup"],["col"]]],eP=["caption","colgroup, col"];function nP(t){return class extends t{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=ru(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const iP=new r.s("CDK_TABLE");let rP=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.N))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkCellDef",""]]}),t})(),sP=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.N))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkHeaderCellDef",""]]}),t})(),oP=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.N))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkFooterCellDef",""]]}),t})();class aP{}const cP=nP(aP);let lP=(()=>{class t extends cP{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const e=this._stickyEnd;this._stickyEnd=ru(t),this._hasStickyChanged=e!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(iP,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,e,n){if(1&t&&(r.Hb(n,rP,1),r.Hb(n,sP,1),r.Hb(n,oP,1)),2&t){let t;r.lc(t=r.cc())&&(e.cell=t.first),r.lc(t=r.cc())&&(e.headerCell=t.first),r.lc(t=r.cc())&&(e.footerCell=t.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[r.Cb([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),r.Ab]}),t})();class uP{constructor(t,e){const n=e.nativeElement.classList;for(const i of t._columnCssClassName)n.add(i)}}let hP=(()=>{class t extends uP{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(lP),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[r.Ab]}),t})(),dP=(()=>{class t extends uP{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(lP),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:["role","gridcell",1,"cdk-cell"],features:[r.Ab]}),t})();class fP{constructor(){this.tasks=[],this.endTasks=[]}}const pP=new r.s("_COALESCED_STYLE_SCHEDULER");let mP=(()=>{class t{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new Pt.a}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new fP,this._getScheduleObservable().pipe(yu(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new fP;for(const e of t.tasks)e();for(const e of t.endTasks)e()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?Object(Rt.a)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(oe(1))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.B))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),gP=(()=>{class t{constructor(t,e){this.template=t,this._differs=e}ngOnChanges(t){if(!this._columnsDiffer){const e=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(e).create(),this._columnsDiffer.diff(e)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof vP?t.headerCell.template:this instanceof CP?t.footerCell.template:t.cell.template}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.N),r.Ob(r.u))},t.\u0275dir=r.Jb({type:t,features:[r.Bb]}),t})();class bP extends gP{}const yP=nP(bP);let vP=(()=>{class t extends yP{constructor(t,e,n){super(t,e),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.N),r.Ob(r.u),r.Ob(iP,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[r.Ab,r.Bb]}),t})();class _P extends gP{}const wP=nP(_P);let CP=(()=>{class t extends wP{constructor(t,e,n){super(t,e),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.N),r.Ob(r.u),r.Ob(iP,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[r.Ab,r.Bb]}),t})(),SP=(()=>{class t extends gP{constructor(t,e,n){super(t,e),this._table=n}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.N),r.Ob(r.u),r.Ob(iP,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[r.Ab]}),t})(),OP=(()=>{class t{constructor(e){this._viewContainer=e,t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.S))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkCellOutlet",""]]}),t.mostRecentCellOutlet=null,t})(),EP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.Qb(0,0)},directives:[OP],encapsulation:2}),t})(),xP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.Qb(0,0)},directives:[OP],encapsulation:2}),t})(),kP=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.N))},t.\u0275dir=r.Jb({type:t,selectors:[["ng-template","cdkNoDataRow",""]]}),t})();const TP=["top","bottom","left","right"];class IP{constructor(t,e,n,i,r=!0,s=!0,o){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=n,this._coalescedStyleScheduler=i,this._isBrowser=r,this._needsPositionStickyOnElement=s,this._positionListener=o,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const n=[];for(const i of t)if(i.nodeType===i.ELEMENT_NODE){n.push(i);for(let t=0;t<i.children.length;t++)n.push(i.children[t])}this._scheduleStyleChanges(()=>{for(const t of n)this._removeStickyStyle(t,e)})}updateStickyColumns(t,e,n,i=!0){if(!t.length||!this._isBrowser||!e.some(t=>t)&&!n.some(t=>t))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const r=t[0],s=r.children.length,o=this._getCellWidths(r,i),a=this._getStickyStartColumnPositions(o,e),c=this._getStickyEndColumnPositions(o,n),l=e.lastIndexOf(!0),u=n.indexOf(!0);this._scheduleStyleChanges(()=>{const i="rtl"===this.direction,r=i?"right":"left",h=i?"left":"right";for(const o of t)for(let t=0;t<s;t++){const i=o.children[t];e[t]&&this._addStickyStyle(i,r,a[t],t===l),n[t]&&this._addStickyStyle(i,h,c[t],t===u)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===l?[]:o.slice(0,l+1).map((t,n)=>e[n]?t:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===u?[]:o.slice(u).map((t,e)=>n[e+u]?t:null).reverse()}))})}stickRows(t,e,n){if(!this._isBrowser)return;const i="bottom"===n?t.slice().reverse():t,r="bottom"===n?e.slice().reverse():e,s=[],o=[],a=[];for(let l=0,u=0;l<i.length;l++){if(s[l]=u,!r[l])continue;const t=i[l];a[l]=this._isNativeHtmlTable?Array.from(t.children):[t];const e=t.getBoundingClientRect().height;u+=e,o[l]=e}const c=r.lastIndexOf(!0);this._scheduleStyleChanges(()=>{var t,e;for(let o=0;o<i.length;o++){if(!r[o])continue;const t=s[o],e=o===c;for(const i of a[o])this._addStickyStyle(i,n,t,e)}"top"===n?null===(t=this._positionListener)||void 0===t||t.stickyHeaderRowsUpdated({sizes:o,elements:a}):null===(e=this._positionListener)||void 0===e||e.stickyFooterRowsUpdated({sizes:o,elements:a})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const n=t.querySelector("tfoot");this._scheduleStyleChanges(()=>{e.some(t=>!t)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const n of e)t.style[n]="",t.classList.remove(this._borderCellCss[n]);TP.some(n=>-1===e.indexOf(n)&&t.style[n])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,n,i){t.classList.add(this._stickCellCss),i&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${n}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let n=0;for(const i of TP)t.style[i]&&(n+=e[i]);return n?`${n}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const n=[],i=t.children;for(let r=0;r<i.length;r++)n.push(i[r].getBoundingClientRect().width);return this._cachedCellWidths=n,n}_getStickyStartColumnPositions(t,e){const n=[];let i=0;for(let r=0;r<t.length;r++)e[r]&&(n[r]=i,i+=t[r]);return n}_getStickyEndColumnPositions(t,e){const n=[];let i=0;for(let r=t.length;r>0;r--)e[r]&&(n[r]=i,i+=t[r]);return n}_scheduleStyleChanges(t){this._coalescedStyleScheduler?this._coalescedStyleScheduler.schedule(t):t()}}const AP=new r.s("CDK_SPL");let DP=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.S),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["","rowOutlet",""]]}),t})(),RP=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.S),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["","headerRowOutlet",""]]}),t})(),jP=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.S),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["","footerRowOutlet",""]]}),t})(),PP=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.S),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["","noDataRowOutlet",""]]}),t})(),NP=(()=>{class t{constructor(t,e,n,i,r,s,o,a,c,l,u){this._differs=t,this._changeDetectorRef=e,this._elementRef=n,this._dir=r,this._platform=o,this._viewRepeater=a,this._coalescedStyleScheduler=c,this._stickyPositioningListener=l,this._viewportRuler=u,this._onDestroy=new Pt.a,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.viewChange=new Lt({start:0,end:Number.MAX_VALUE}),i||this._elementRef.nativeElement.setAttribute("role","grid"),this._document=s,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=ru(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=ru(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,e)=>this.trackBy?this.trackBy(e.dataIndex,e.data):e),this._viewportRuler&&this._viewportRuler.change().pipe(yu(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const t=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||t,this._forceRecalculateCellWidths=t,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),Wu(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return void this._updateNoDataRow();const e=this._rowOutlet.viewContainer;this._viewRepeater?this._viewRepeater.applyChanges(t,e,(t,e,n)=>this._getEmbeddedViewArgs(t.item,n),t=>t.item.data,t=>{1===t.operation&&t.context&&this._renderCellTemplateForItem(t.record.item.rowDef,t.context)}):t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const e=t.item;this._renderRow(this._rowOutlet,e.rowDef,i,{$implicit:e.data})}else if(null==i)e.remove(n);else{const t=e.get(n);e.move(t,i)}}),this._updateRowIndexContext(),t.forEachIdentityChange(t=>{e.get(t.currentIndex).context.$implicit=t.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._elementRef.nativeElement.querySelector("thead");e&&(e.style.display=t.length?"":"none");const n=this._headerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,n,"top"),this._headerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),e=this._elementRef.nativeElement.querySelector("tfoot");e&&(e.style.display=t.length?"":"none");const n=this._footerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._getRenderedRows(this._rowOutlet),n=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...e,...n],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((t,e)=>{this._addStickyColumnStyles([t],this._headerRowDefs[e])}),this._rowDefs.forEach(t=>{const n=[];for(let i=0;i<e.length;i++)this._renderRows[i].rowDef===t&&n.push(e[i]);this._addStickyColumnStyles(n,t)}),n.forEach((t,e)=>{this._addStickyColumnStyles([t],this._footerRowDefs[e])}),Array.from(this._columnDefsByName.values()).forEach(t=>t.resetStickyChanged())}_getAllRenderRows(){const t=[],e=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let n=0;n<this._data.length;n++){let i=this._data[n];const r=this._getRenderRowsForData(i,n,e.get(i));this._cachedRenderRowsMap.has(i)||this._cachedRenderRowsMap.set(i,new WeakMap);for(let e=0;e<r.length;e++){let n=r[e];const i=this._cachedRenderRowsMap.get(n.data);i.has(n.rowDef)?i.get(n.rowDef).push(n):i.set(n.rowDef,[n]),t.push(n)}}return t}_getRenderRowsForData(t,e,n){return this._getRowDefs(t,e).map(i=>{const r=n&&n.has(i)?n.get(i):[];if(r.length){const t=r.shift();return t.dataIndex=e,t}return{data:t,rowDef:i,dataIndex:e}})}_cacheColumnDefs(){this._columnDefsByName.clear(),LP(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(t=>{this._columnDefsByName.has(t.name),this._columnDefsByName.set(t.name,t)})}_cacheRowDefs(){this._headerRowDefs=LP(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=LP(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=LP(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(t=>!t.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(t,e)=>t||!!e.getColumnsDiff(),e=this._rowDefs.reduce(t,!1);e&&this._forceRenderDataRows();const n=this._headerRowDefs.reduce(t,!1);n&&this._forceRenderHeaderRows();const i=this._footerRowDefs.reduce(t,!1);return i&&this._forceRenderFooterRows(),e||n||i}_switchDataSource(t){this._data=[],Wu(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;var e;Wu(this.dataSource)?t=this.dataSource.connect(this):(e=this.dataSource)&&(e instanceof Ht.a||"function"==typeof e.lift&&"function"==typeof e.subscribe)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=Object(jt.a)(this.dataSource)),this._renderChangeSubscription=t.pipe(yu(this._onDestroy)).subscribe(t=>{this._data=t||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,e)=>this._renderRow(this._headerRowOutlet,t,e)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,e)=>this._renderRow(this._footerRowOutlet,t,e)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,e){const n=Array.from(e.columns||[]).map(t=>this._columnDefsByName.get(t)),i=n.map(t=>t.sticky),r=n.map(t=>t.stickyEnd);this._stickyStyler.updateStickyColumns(t,i,r,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const e=[];for(let n=0;n<t.viewContainer.length;n++){const i=t.viewContainer.get(n);e.push(i.rootNodes[0])}return e}_getRowDefs(t,e){if(1==this._rowDefs.length)return[this._rowDefs[0]];let n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(n=>!n.when||n.when(e,t));else{let i=this._rowDefs.find(n=>n.when&&n.when(e,t))||this._defaultRowDef;i&&n.push(i)}return n}_getEmbeddedViewArgs(t,e){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:e}}_renderRow(t,e,n,i={}){const r=t.viewContainer.createEmbeddedView(e.template,i,n);return this._renderCellTemplateForItem(e,i),r}_renderCellTemplateForItem(t,e){for(let n of this._getCellTemplates(t))OP.mostRecentCellOutlet&&OP.mostRecentCellOutlet._viewContainer.createEmbeddedView(n,e);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let e=0,n=t.length;e<n;e++){const i=t.get(e).context;i.count=n,i.first=0===e,i.last=e===n-1,i.even=e%2==0,i.odd=!i.even,this.multiTemplateDataRows?(i.dataIndex=this._renderRows[e].dataIndex,i.renderIndex=e):i.index=this._renderRows[e].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,e=>{const n=this._columnDefsByName.get(e);return t.extractCellTemplate(n)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),e=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const n of e){const e=this._document.createElement(n.tag);e.setAttribute("role","rowgroup");for(const t of n.outlets)e.appendChild(t.elementRef.nativeElement);t.appendChild(e)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(t,e)=>t||e.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new IP(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Object(jt.a)()).pipe(yu(this._onDestroy)).subscribe(t=>{this._stickyStyler.direction=t,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(t=>!t._table||t._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(t){const e=0===this._rowOutlet.viewContainer.length;if(e!==this._isShowingNoDataRow){const n=this._noDataRowOutlet.viewContainer;e?n.createEmbeddedView(t.templateRef):n.clear(),this._isShowingNoDataRow=e}}}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.u),r.Ob(r.h),r.Ob(r.l),r.Zb("role"),r.Ob(zu,8),r.Ob(a),r.Ob(Ru),r.Ob(Qu,8),r.Ob(pP,8),r.Ob(AP,12),r.Ob(Ju,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,e,n){if(1&t&&(r.Hb(n,kP,1),r.Hb(n,lP,1),r.Hb(n,SP,1),r.Hb(n,vP,1),r.Hb(n,CP,1)),2&t){let t;r.lc(t=r.cc())&&(e._noDataRow=t.first),r.lc(t=r.cc())&&(e._contentColumnDefs=t),r.lc(t=r.cc())&&(e._contentRowDefs=t),r.lc(t=r.cc())&&(e._contentHeaderRowDefs=t),r.lc(t=r.cc())&&(e._contentFooterRowDefs=t)}},viewQuery:function(t,e){if(1&t&&(r.yc(DP,3),r.yc(RP,3),r.yc(jP,3),r.yc(PP,3)),2&t){let t;r.lc(t=r.cc())&&(e._rowOutlet=t.first),r.lc(t=r.cc())&&(e._headerRowOutlet=t.first),r.lc(t=r.cc())&&(e._footerRowOutlet=t.first),r.lc(t=r.cc())&&(e._noDataRowOutlet=t.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,e){2&t&&r.Gb("cdk-table-fixed-layout",e.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},exportAs:["cdkTable"],features:[r.Cb([{provide:iP,useExisting:t},{provide:Qu,useClass:Yu},{provide:pP,useClass:mP},{provide:AP,useValue:null}])],ngContentSelectors:eP,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(r.ic(tP),r.hc(0),r.hc(1,1),r.Qb(2,0),r.Qb(3,1),r.Qb(4,2),r.Qb(5,3))},directives:[RP,DP,PP,jP],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),t})();function LP(t,e){return t.concat(Array.from(e))}let FP=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[eh]]}),t})();const MP=[[["caption"]],[["colgroup"],["col"]]],VP=["caption","colgroup, col"];let UP=(()=>{class t extends NP{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return t.\u0275fac=function(e){return BP(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(t,e){2&t&&r.Gb("mat-table-fixed-layout",e.fixedLayout)},exportAs:["matTable"],features:[r.Cb([{provide:Qu,useClass:Yu},{provide:NP,useExisting:t},{provide:iP,useExisting:t},{provide:pP,useClass:mP}]),r.Ab],ngContentSelectors:VP,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(r.ic(MP),r.hc(0),r.hc(1,1),r.Qb(2,0),r.Qb(3,1),r.Qb(4,2),r.Qb(5,3))},directives:[RP,DP,PP,jP],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),t})();const BP=r.Wb(UP);let qP=(()=>{class t extends rP{}return t.\u0275fac=function(e){return HP(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","matCellDef",""]],features:[r.Cb([{provide:rP,useExisting:t}]),r.Ab]}),t})();const HP=r.Wb(qP);let zP=(()=>{class t extends sP{}return t.\u0275fac=function(e){return KP(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","matHeaderCellDef",""]],features:[r.Cb([{provide:sP,useExisting:t}]),r.Ab]}),t})();const KP=r.Wb(zP);let WP=(()=>{class t extends lP{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return t.\u0275fac=function(e){return YP(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[r.Cb([{provide:lP,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),r.Ab]}),t})();const YP=r.Wb(WP);let $P=(()=>{class t extends hP{}return t.\u0275fac=function(e){return GP(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[r.Ab]}),t})();const GP=r.Wb($P);let QP=(()=>{class t extends dP{}return t.\u0275fac=function(e){return ZP(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[r.Ab]}),t})();const ZP=r.Wb(QP);let XP=(()=>{class t extends vP{}return t.\u0275fac=function(e){return JP(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[r.Cb([{provide:vP,useExisting:t}]),r.Ab]}),t})();const JP=r.Wb(XP);let tN=(()=>{class t extends SP{}return t.\u0275fac=function(e){return eN(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[r.Cb([{provide:SP,useExisting:t}]),r.Ab]}),t})();const eN=r.Wb(tN);let nN=(()=>{class t extends EP{}return t.\u0275fac=function(e){return iN(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[r.Cb([{provide:EP,useExisting:t}]),r.Ab],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.Qb(0,0)},directives:[OP],encapsulation:2}),t})();const iN=r.Wb(nN);let rN=(()=>{class t extends xP{}return t.\u0275fac=function(e){return sN(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[r.Cb([{provide:xP,useExisting:t}]),r.Ab],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.Qb(0,0)},directives:[OP],encapsulation:2}),t})();const sN=r.Wb(rN);let oN=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[FP,ym],ym]}),t})(),aN=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[ym],ym]}),t})();const cN=["*"],lN='.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n',uN=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],hN=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],dN=["text"];function fN(t,e){if(1&t&&r.Pb(0,"mat-pseudo-checkbox",5),2&t){const t=r.dc();r.jc("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const pN=["*",[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]]],mN=["*","[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]"];class gN{}const bN=vm(wm(gN));class yN{}const vN=wm(yN),_N=new r.s("MatList"),wN=new r.s("MatNavList");let CN=(()=>{class t extends bN{constructor(t){super(),this._elementRef=t,this._stateChanges=new Pt.a,"action-list"===this._getListType()&&t.nativeElement.classList.add("mat-action-list")}_getListType(){const t=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===t?"list":"mat-action-list"===t?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[r.Cb([{provide:_N,useExisting:t}]),r.Ab,r.Bb],ngContentSelectors:cN,decls:1,vars:0,template:function(t,e){1&t&&(r.ic(),r.hc(0))},styles:[lN],encapsulation:2,changeDetection:0}),t})(),SN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),t})(),ON=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),t})(),EN=(()=>{class t extends vN{constructor(t,e,n,i){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new Pt.a,this._disabled=!1,this._isInteractiveList=!!(n||i&&"action-list"===i._getListType()),this._list=n||i;const r=this._getHostElement();"button"!==r.nodeName.toLowerCase()||r.hasAttribute("type")||r.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(yu(this._destroyed)).subscribe(()=>{e.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(t){this._disabled=ru(t)}ngAfterContentInit(){xm(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.h),r.Ob(wN,8),r.Ob(_N,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,e,n){if(1&t&&(r.Hb(n,SN,1),r.Hb(n,ON,1),r.Hb(n,Em,1)),2&t){let t;r.lc(t=r.cc())&&(e._avatar=t.first),r.lc(t=r.cc())&&(e._icon=t.first),r.lc(t=r.cc())&&(e._lines=t)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(t,e){2&t&&r.Gb("mat-list-item-disabled",e.disabled)("mat-list-item-avatar",e._avatar||e._icon)("mat-list-item-with-avatar",e._avatar||e._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[r.Ab],ngContentSelectors:hN,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(t,e){1&t&&(r.ic(uN),r.Ub(0,"div",0),r.Pb(1,"div",1),r.hc(2),r.Ub(3,"div",2),r.hc(4,1),r.Tb(),r.hc(5,2),r.Tb()),2&t&&(r.Db(1),r.jc("matRippleTrigger",e._getHostElement())("matRippleDisabled",e._isRippleDisabled()))},directives:[Lm],encapsulation:2,changeDetection:0}),t})();class xN{}const kN=wm(xN);class TN{}const IN=wm(TN),AN={provide:Lc,useExisting:Object(r.W)(()=>jN),multi:!0};class DN{constructor(t,e,n){this.source=t,this.option=e,this.options=n}}let RN=(()=>{class t extends IN{constructor(t,e,n){super(),this._element=t,this._changeDetector=e,this.selectionList=n,this._selected=!1,this._disabled=!1,this._hasFocus=!1,this.checkboxPosition="after",this._inputsInitialized=!1}get color(){return this._color||this.selectionList.color}set color(t){this._color=t}get value(){return this._value}set value(t){this.selected&&!this.selectionList.compareWith(t,this.value)&&this._inputsInitialized&&(this.selected=!1),this._value=t}get disabled(){return this._disabled||this.selectionList&&this.selectionList.disabled}set disabled(t){const e=ru(t);e!==this._disabled&&(this._disabled=e,this._changeDetector.markForCheck())}get selected(){return this.selectionList.selectedOptions.isSelected(this)}set selected(t){const e=ru(t);e!==this._selected&&(this._setSelected(e),(e||this.selectionList.multiple)&&this.selectionList._reportValueChange())}ngOnInit(){const t=this.selectionList;t._value&&t._value.some(e=>t.compareWith(e,this._value))&&this._setSelected(!0);const e=this._selected;Promise.resolve().then(()=>{(this._selected||e)&&(this.selected=!0,this._changeDetector.markForCheck())}),this._inputsInitialized=!0}ngAfterContentInit(){xm(this._lines,this._element)}ngOnDestroy(){this.selected&&Promise.resolve().then(()=>{this.selected=!1});const t=this._hasFocus,e=this.selectionList._removeOptionFromList(this);t&&e&&e.focus()}toggle(){this.selected=!this.selected}focus(){this._element.nativeElement.focus()}getLabel(){return this._text&&this._text.nativeElement.textContent||""}_isRippleDisabled(){return this.disabled||this.disableRipple||this.selectionList.disableRipple}_handleClick(){this.disabled||!this.selectionList.multiple&&this.selected||(this.toggle(),this.selectionList._emitChangeEvent([this]))}_handleFocus(){this.selectionList._setFocusedOption(this),this._hasFocus=!0}_handleBlur(){this.selectionList._onTouched(),this._hasFocus=!1}_getHostElement(){return this._element.nativeElement}_setSelected(t){return t!==this._selected&&(this._selected=t,t?this.selectionList.selectedOptions.select(this):this.selectionList.selectedOptions.deselect(this),this._changeDetector.markForCheck(),!0)}_markForCheck(){this._changeDetector.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.h),r.Ob(Object(r.W)(()=>jN)))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-list-option"]],contentQueries:function(t,e,n){if(1&t&&(r.Hb(n,SN,1),r.Hb(n,ON,1),r.Hb(n,Em,1)),2&t){let t;r.lc(t=r.cc())&&(e._avatar=t.first),r.lc(t=r.cc())&&(e._icon=t.first),r.lc(t=r.cc())&&(e._lines=t)}},viewQuery:function(t,e){if(1&t&&r.yc(dN,1),2&t){let t;r.lc(t=r.cc())&&(e._text=t.first)}},hostAttrs:["role","option",1,"mat-list-item","mat-list-option","mat-focus-indicator"],hostVars:15,hostBindings:function(t,e){1&t&&r.bc("focus",function(){return e._handleFocus()})("blur",function(){return e._handleBlur()})("click",function(){return e._handleClick()}),2&t&&(r.Eb("aria-selected",e.selected)("aria-disabled",e.disabled)("tabindex",-1),r.Gb("mat-list-item-disabled",e.disabled)("mat-list-item-with-avatar",e._avatar||e._icon)("mat-primary","primary"===e.color)("mat-accent","primary"!==e.color&&"warn"!==e.color)("mat-warn","warn"===e.color)("mat-list-single-selected-option",e.selected&&!e.selectionList.multiple))},inputs:{disableRipple:"disableRipple",checkboxPosition:"checkboxPosition",color:"color",value:"value",selected:"selected",disabled:"disabled"},exportAs:["matListOption"],features:[r.Ab],ngContentSelectors:mN,decls:7,vars:5,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[3,"state","disabled",4,"ngIf"],[1,"mat-list-text"],["text",""],[3,"state","disabled"]],template:function(t,e){1&t&&(r.ic(pN),r.Ub(0,"div",0),r.Pb(1,"div",1),r.tc(2,fN,1,2,"mat-pseudo-checkbox",2),r.Ub(3,"div",3,4),r.hc(5),r.Tb(),r.hc(6,1),r.Tb()),2&t&&(r.Gb("mat-list-item-content-reverse","after"==e.checkboxPosition),r.Db(1),r.jc("matRippleTrigger",e._getHostElement())("matRippleDisabled",e._isRippleDisabled()),r.Db(1),r.jc("ngIf",e.selectionList.multiple))},directives:[Lm,B,Mm],encapsulation:2,changeDetection:0}),t})(),jN=(()=>{class t extends kN{constructor(t,e,n,i){super(),this._element=t,this._changeDetector=n,this._focusMonitor=i,this._multiple=!0,this._contentInitialized=!1,this.selectionChange=new r.o,this.tabIndex=0,this.color="accent",this.compareWith=(t,e)=>t===e,this._disabled=!1,this.selectedOptions=new $u(this._multiple),this._tabIndex=-1,this._onChange=t=>{},this._destroyed=new Pt.a,this._onTouched=()=>{}}get disabled(){return this._disabled}set disabled(t){this._disabled=ru(t),this._markOptionsForCheck()}get multiple(){return this._multiple}set multiple(t){const e=ru(t);e!==this._multiple&&(this._multiple=e,this.selectedOptions=new $u(this._multiple,this.selectedOptions.selected))}ngAfterContentInit(){var t;this._contentInitialized=!0,this._keyManager=new sd(this.options).withWrap().withTypeAhead().withHomeAndEnd().skipPredicate(()=>!1).withAllowedModifierKeys(["shiftKey"]),this._value&&this._setOptionsFromValues(this._value),this._keyManager.tabOut.pipe(yu(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.options.changes.pipe(le(null),yu(this._destroyed)).subscribe(()=>{this._updateTabIndex()}),this.selectedOptions.changed.pipe(yu(this._destroyed)).subscribe(t=>{if(t.added)for(let e of t.added)e.selected=!0;if(t.removed)for(let e of t.removed)e.selected=!1}),null===(t=this._focusMonitor)||void 0===t||t.monitor(this._element).pipe(yu(this._destroyed)).subscribe(t=>{if("keyboard"===t||"program"===t){const t=this._keyManager.activeItemIndex;t&&-1!==t?this._keyManager.setActiveItem(t):this._keyManager.setFirstItemActive()}})}ngOnChanges(t){const e=t.disableRipple,n=t.color;(e&&!e.firstChange||n&&!n.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){var t;null===(t=this._focusMonitor)||void 0===t||t.stopMonitoring(this._element),this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(t){this._element.nativeElement.focus(t)}selectAll(){this._setAllOptionsSelected(!0)}deselectAll(){this._setAllOptionsSelected(!1)}_setFocusedOption(t){this._keyManager.updateActiveItem(t)}_removeOptionFromList(t){const e=this._getOptionIndex(t);return e>-1&&this._keyManager.activeItemIndex===e&&(e>0?this._keyManager.updateActiveItem(e-1):0===e&&this.options.length>1&&this._keyManager.updateActiveItem(Math.min(e+1,this.options.length-1))),this._keyManager.activeItem}_keydown(t){const e=t.keyCode,n=this._keyManager,i=n.activeItemIndex,r=fh(t);switch(e){case 32:case 13:r||n.isTyping()||(this._toggleFocusedOption(),t.preventDefault());break;default:if(65===e&&this.multiple&&fh(t,"ctrlKey")&&!n.isTyping()){const e=this.options.some(t=>!t.disabled&&!t.selected);this._setAllOptionsSelected(e,!0,!0),t.preventDefault()}else n.onKeydown(t)}this.multiple&&(38===e||40===e)&&t.shiftKey&&n.activeItemIndex!==i&&this._toggleFocusedOption()}_reportValueChange(){if(this.options&&!this._isDestroyed){const t=this._getSelectedOptionValues();this._onChange(t),this._value=t}}_emitChangeEvent(t){this.selectionChange.emit(new DN(this,t[0],t))}writeValue(t){this._value=t,this.options&&this._setOptionsFromValues(t||[])}setDisabledState(t){this.disabled=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}_setOptionsFromValues(t){this.options.forEach(t=>t._setSelected(!1)),t.forEach(t=>{const e=this.options.find(e=>!e.selected&&this.compareWith(e.value,t));e&&e._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(t=>t.selected).map(t=>t.value)}_toggleFocusedOption(){let t=this._keyManager.activeItemIndex;if(null!=t&&this._isValidIndex(t)){let e=this.options.toArray()[t];!e||e.disabled||!this._multiple&&e.selected||(e.toggle(),this._emitChangeEvent([e]))}}_setAllOptionsSelected(t,e,n){const i=[];this.options.forEach(n=>{e&&n.disabled||!n._setSelected(t)||i.push(n)}),i.length&&(this._reportValueChange(),n&&this._emitChangeEvent(i))}_isValidIndex(t){return t>=0&&t<this.options.length}_getOptionIndex(t){return this.options.toArray().indexOf(t)}_markOptionsForCheck(){this.options&&this.options.forEach(t=>t._markForCheck())}_allowFocusEscape(){this._tabIndex=-1,setTimeout(()=>{this._tabIndex=0,this._changeDetector.markForCheck()})}_updateTabIndex(){this._tabIndex=0===this.options.length?-1:0}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Zb("tabindex"),r.Ob(r.h),r.Ob(yd))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-selection-list"]],contentQueries:function(t,e,n){if(1&t&&r.Hb(n,RN,1),2&t){let t;r.lc(t=r.cc())&&(e.options=t)}},hostAttrs:["role","listbox",1,"mat-selection-list","mat-list-base"],hostVars:3,hostBindings:function(t,e){1&t&&r.bc("keydown",function(t){return e._keydown(t)}),2&t&&r.Eb("aria-multiselectable",e.multiple)("aria-disabled",e.disabled.toString())("tabindex",e._tabIndex)},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex",color:"color",compareWith:"compareWith",disabled:"disabled",multiple:"multiple"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[r.Cb([AN]),r.Ab,r.Bb],ngContentSelectors:cN,decls:1,vars:0,template:function(t,e){1&t&&(r.ic(),r.hc(0))},styles:[lN],encapsulation:2,changeDetection:0}),t})(),PN=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[Tm,Fm,ym,Vm,G],Tm,ym,Vm,aN]}),t})();function NN(t,e){if(1&t){const t=r.Vb();r.Ub(0,"button",24),r.bc("click",function(){return r.nc(t),r.dc().name.setValue("")}),r.Ub(1,"mat-icon"),r.uc(2,"close"),r.Tb(),r.Tb()}}function LN(t,e){1&t&&(r.Ub(0,"mat-error"),r.uc(1,"El nombre es obligatorio"),r.Tb())}function FN(t,e){1&t&&(r.Ub(0,"th",25),r.uc(1," ID. "),r.Tb())}function MN(t,e){if(1&t&&(r.Ub(0,"td",26),r.uc(1),r.Tb()),2&t){const t=e.$implicit;r.Db(1),r.wc(" ",t.ingredient," ")}}function VN(t,e){1&t&&(r.Ub(0,"th",25),r.uc(1," Nombre "),r.Tb())}function UN(t,e){if(1&t&&(r.Ub(0,"td",26),r.uc(1),r.Tb()),2&t){const t=e.$implicit;r.Db(1),r.wc(" ",t.ingredientName," ")}}function BN(t,e){1&t&&(r.Ub(0,"th",25),r.uc(1," Cantidad "),r.Tb())}function qN(t,e){if(1&t&&(r.Ub(0,"td",26),r.uc(1),r.Tb()),2&t){const t=e.$implicit;r.Db(1),r.wc(" ",t.amount," ")}}function HN(t,e){1&t&&(r.Ub(0,"th",25),r.uc(1," Unidad de medida "),r.Tb())}function zN(t,e){if(1&t&&(r.Ub(0,"td",26),r.uc(1),r.Tb()),2&t){const t=e.$implicit;r.Db(1),r.wc(" ",t.unitAbbreviation," ")}}function KN(t,e){1&t&&(r.Ub(0,"th",25),r.uc(1," Acci\xf3n "),r.Tb())}function WN(t,e){if(1&t){const t=r.Vb();r.Ub(0,"td",26),r.Ub(1,"button",27),r.bc("click",function(){r.nc(t);const n=e.$implicit;return r.dc().onDeleteIngredient(n)}),r.Ub(2,"mat-icon"),r.uc(3,"delete"),r.Tb(),r.Tb(),r.Ub(4,"button",28),r.bc("click",function(){r.nc(t);const n=e.$implicit;return r.dc().onEditIngredient(n)}),r.Ub(5,"mat-icon"),r.uc(6,"edit"),r.Tb(),r.Tb(),r.Tb()}}function YN(t,e){1&t&&r.Pb(0,"tr",29)}function $N(t,e){1&t&&r.Pb(0,"tr",30)}let GN=(()=>{class t{constructor(t,e,n,i){this.dialogRef=t,this.data=e,this.formBuilder=n,this.dialog=i,this.ingredients=[],this.ingredientsUnits=[],this.displayedColumns=["name","amount","unit","actions"],this.dataSource=[]}get name(){return this.recipeForm.controls.name}get isEdit(){return null!=this.data}get dataRecipe(){var t;return null===(t=this.data)||void 0===t?void 0:t.recipe}get dataIngredients(){var t;return null===(t=this.data)||void 0===t?void 0:t.ingredients}get dataIngredientsUnits(){var t;return null===(t=this.data)||void 0===t?void 0:t.ingredientsUnits}ngOnInit(){this.createRecipeForm(),this.dataIngredients&&(this.ingredients=this.dataIngredients),this.dataIngredientsUnits&&(this.ingredientsUnits=this.dataIngredientsUnits),this.dataRecipe&&(this.dataSource=ec(this.dataRecipe.ingredientDataSource,"ingredientName"))}onNoClick(){this.dialogRef.close()}onSubmit(){var t;if(this.recipeForm.valid&&this.dataSource.length>0){const e=this.dataSource.reduce((t,e)=>t+e.price,0),n={id:null===(t=this.dataRecipe)||void 0===t?void 0:t.id,name:this.name.value,price:e,calculatedIngredientsPrice:0,ingredientDataSource:this.dataSource,ingredients:this.dataSource.map(t=>({amount:t.amount,ingredient:t.ingredient,unit:t.unit}))};this.dialogRef.close(n)}}onDeleteIngredient(t){this.dataSource=this.dataSource.filter(e=>e.ingredient!==t.ingredient)}onAddIngredient(){this.openRecipeIngredientDialog().afterClosed().subscribe(t=>{var e,n,i;if(t){const r=this.ingredients.find(e=>e.id===t.ingredient),s=this.dataIngredientsUnits.find(t=>t.id===(null==r?void 0:r.unit)),o=this.dataIngredientsUnits.find(e=>e.id===t.unit);t.price=(null!==(e=null==r?void 0:r.price)&&void 0!==e?e:0)/(null!==(n=null==o?void 0:o.value)&&void 0!==n?n:1)*t.amount/(null!==(i=null==s?void 0:s.value)&&void 0!==i?i:1),this.dataSource.push(t),this.dataSource=ec(this.dataSource,"ingredientName")}})}onEditIngredient(t){const e=this.dataSource.find(e=>e.ingredient===t.ingredient);this.openRecipeIngredientDialog(t).afterClosed().subscribe(t=>{var n,i,r;if(t){const s=this.ingredients.find(e=>e.id===t.ingredient),o=this.dataIngredientsUnits.find(t=>t.id===(null==s?void 0:s.unit)),a=this.dataIngredientsUnits.find(e=>e.id===t.unit);t.price=(null!==(n=null==s?void 0:s.price)&&void 0!==n?n:0)/(null!==(i=null==a?void 0:a.value)&&void 0!==i?i:1)*t.amount/(null!==(r=null==o?void 0:o.value)&&void 0!==r?r:1),this.dataSource=this.dataSource.filter(t=>t.ingredient!==(null==e?void 0:e.ingredient)),this.dataSource.push(t),this.dataSource=ec(this.dataSource,"ingredientName")}})}createRecipeForm(){var t;this.recipeForm=this.formBuilder.group({id:new ql,name:new ql("",[Yc.required])}),(null===(t=this.data)||void 0===t?void 0:t.recipe)&&(this.recipeForm.controls.id.setValue(this.dataRecipe.id),this.recipeForm.controls.name.setValue(this.dataRecipe.name))}openRecipeIngredientDialog(t){return this.dialog.open(Jj,{width:"650px",data:{recipeIngredient:t,ingredients:this.ingredients,ingredientsUnits:this.dataIngredientsUnits}})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(sg),r.Ob(ag),r.Ob(eu),r.Ob(dg))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-recipe-dialog"]],decls:42,vars:7,consts:[[3,"formGroup","ngSubmit"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"container"],[1,"row"],[1,"col-12"],["matInput","","formControlName","name"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear","type","button",3,"click",4,"ngIf"],[4,"ngIf"],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","amount"],["matColumnDef","unit"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["role","list"],["id","add-ingredient","role","listitem",3,"click"],["mat-dialog-actions","",1,"d-flex","float-right"],["mat-button","","type","button",3,"click"],["mat-button","","color","primary","type","submit","cdkFocusInitial",""],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear","type","button",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-mini-fab","","color","warn","type","button",1,"mr-2",3,"click"],["mat-mini-fab","","color","primary","type","button",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(r.Ub(0,"form",0),r.bc("ngSubmit",function(){return e.onSubmit()}),r.Ub(1,"h1",1),r.uc(2),r.Tb(),r.Ub(3,"div",2),r.Ub(4,"div",3),r.Ub(5,"div",4),r.Ub(6,"mat-form-field",5),r.Ub(7,"mat-label"),r.uc(8,"Nombre"),r.Tb(),r.Pb(9,"input",6),r.tc(10,NN,3,0,"button",7),r.tc(11,LN,2,0,"mat-error",8),r.Tb(),r.Ub(12,"div",5),r.uc(13," Ingredientes "),r.Ub(14,"table",9),r.Sb(15,10),r.tc(16,FN,2,0,"th",11),r.tc(17,MN,2,1,"td",12),r.Rb(),r.Sb(18,13),r.tc(19,VN,2,0,"th",11),r.tc(20,UN,2,1,"td",12),r.Rb(),r.Sb(21,14),r.tc(22,BN,2,0,"th",11),r.tc(23,qN,2,1,"td",12),r.Rb(),r.Sb(24,15),r.tc(25,HN,2,0,"th",11),r.tc(26,zN,2,1,"td",12),r.Rb(),r.Sb(27,16),r.tc(28,KN,2,0,"th",11),r.tc(29,WN,7,0,"td",12),r.Rb(),r.tc(30,YN,1,0,"tr",17),r.tc(31,$N,1,0,"tr",18),r.Tb(),r.Ub(32,"mat-list",19),r.Ub(33,"mat-list-item",20),r.bc("click",function(){return e.onAddIngredient()}),r.Ub(34,"mat-icon"),r.uc(35,"add"),r.Tb(),r.uc(36," Agregar Ingrediente "),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Ub(37,"div",21),r.Ub(38,"button",22),r.bc("click",function(){return e.onNoClick()}),r.uc(39,"Cancelar"),r.Tb(),r.Ub(40,"button",23),r.uc(41,"Guardar"),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.jc("formGroup",e.recipeForm),r.Db(2),r.wc("",e.isEdit?"Editar":"Agregar"," receta"),r.Db(8),r.jc("ngIf",e.name.value),r.Db(1),r.jc("ngIf",e.name.invalid),r.Db(3),r.jc("dataSource",e.dataSource),r.Db(16),r.jc("matHeaderRowDef",e.displayedColumns),r.Db(1),r.jc("matRowDefColumns",e.displayedColumns))},directives:[$l,ul,Zl,pg,mg,VD,ID,GD,Bc,ll,Jl,B,UP,WP,zP,qP,XP,tN,CN,EN,nj,gg,ER,jD,ED,$P,QP,nN,rN],styles:["table[_ngcontent-%COMP%]{width:100%}mat-list-item#add-ingredient[_ngcontent-%COMP%]{cursor:pointer}"]}),t})(),QN=(()=>{class t{constructor(t){this.firebaseService=t,this.collection="recipes"}get(){return this.firebaseService.getCollectionData(this.collection)}post(t){return this.firebaseService.postDocument(this.collection,t)}update(t){return this.firebaseService.updateDocument(this.collection,t)}delete(t){return this.firebaseService.deleteDocument(this.collection,t.id)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(rD))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ZN(t,e){if(1&t){const t=r.Vb();r.Ub(0,"button",6),r.bc("click",function(){return r.nc(t),r.dc().openAddRecipeDialog()}),r.Ub(1,"mat-icon"),r.uc(2,"add"),r.Tb(),r.Tb()}}function XN(t,e){if(1&t&&(r.Ub(0,"span"),r.uc(1),r.ec(2,"currency"),r.Tb()),2&t){const t=r.dc().$implicit;r.Db(1),r.wc(" Precio: ",r.fc(2,1,t.price)," ")}}function JN(t,e){if(1&t&&(r.Ub(0,"span"),r.uc(1),r.ec(2,"currency"),r.Pb(3,"br"),r.uc(4),r.ec(5,"currency"),r.Tb()),2&t){const t=r.dc().$implicit;r.Db(1),r.wc(" Precio Guardado: ",r.fc(2,2,t.price)," "),r.Db(3),r.wc(" Precio Calculado: ",r.fc(5,4,t.calculatedIngredientsPrice)," ")}}function tL(t,e){1&t&&(r.Ub(0,"th",19),r.uc(1," ID. "),r.Tb())}function eL(t,e){if(1&t&&(r.Ub(0,"td",20),r.uc(1),r.Tb()),2&t){const t=e.$implicit;r.Db(1),r.wc(" ",t.ingredient," ")}}function nL(t,e){1&t&&(r.Ub(0,"th",19),r.uc(1," Nombre "),r.Tb())}function iL(t,e){if(1&t&&(r.Ub(0,"td",20),r.uc(1),r.Tb()),2&t){const t=e.$implicit;r.Db(1),r.wc(" ",t.ingredientName," ")}}function rL(t,e){1&t&&(r.Ub(0,"th",19),r.uc(1," Cantidad "),r.Tb())}function sL(t,e){if(1&t&&(r.Ub(0,"td",20),r.uc(1),r.Tb()),2&t){const t=e.$implicit;r.Db(1),r.xc(" ",t.amount," ",t.unitAbbreviation," ")}}function oL(t,e){1&t&&(r.Ub(0,"th",19),r.uc(1," Precio "),r.Tb())}function aL(t,e){if(1&t&&(r.Ub(0,"td",20),r.uc(1),r.ec(2,"currency"),r.Tb()),2&t){const t=e.$implicit;r.Db(1),r.wc(" ",r.fc(2,1,t.price),"")}}function cL(t,e){1&t&&r.Pb(0,"tr",21)}function lL(t,e){1&t&&r.Pb(0,"tr",22)}function uL(t,e){if(1&t){const t=r.Vb();r.Ub(0,"mat-action-row"),r.Ub(1,"button",23),r.bc("click",function(){r.nc(t);const e=r.dc().$implicit;return r.dc().deleteRecipe(e)}),r.uc(2,"Borrar"),r.Tb(),r.Ub(3,"button",24),r.bc("click",function(){r.nc(t);const e=r.dc().$implicit;return r.dc().editRecipe(e)}),r.uc(4,"Editar"),r.Tb(),r.Tb()}}function hL(t,e){if(1&t&&(r.Ub(0,"mat-expansion-panel",7),r.Ub(1,"mat-expansion-panel-header"),r.Ub(2,"mat-panel-title",8),r.uc(3),r.Tb(),r.Ub(4,"mat-panel-description"),r.tc(5,XN,3,3,"span",9),r.tc(6,JN,6,6,"span",9),r.Tb(),r.Tb(),r.uc(7," Ingredientes: "),r.Ub(8,"table",10),r.Sb(9,11),r.tc(10,tL,2,0,"th",12),r.tc(11,eL,2,1,"td",13),r.Rb(),r.Sb(12,14),r.tc(13,nL,2,0,"th",12),r.tc(14,iL,2,1,"td",13),r.Rb(),r.Sb(15,15),r.tc(16,rL,2,0,"th",12),r.tc(17,sL,2,2,"td",13),r.Rb(),r.Sb(18,16),r.tc(19,oL,2,0,"th",12),r.tc(20,aL,3,3,"td",13),r.Rb(),r.tc(21,cL,1,0,"tr",17),r.tc(22,lL,1,0,"tr",18),r.Tb(),r.tc(23,uL,5,0,"mat-action-row",9),r.Tb()),2&t){const t=e.$implicit,n=r.dc();r.Db(2),r.Gb("price-error",t.price!==t.calculatedIngredientsPrice),r.Db(1),r.wc(" ",t.name," "),r.Db(2),r.jc("ngIf",t.price===t.calculatedIngredientsPrice),r.Db(1),r.jc("ngIf",t.price!==t.calculatedIngredientsPrice),r.Db(2),r.jc("dataSource",t.ingredientDataSource),r.Db(13),r.jc("matHeaderRowDef",n.displayedColumns),r.Db(1),r.jc("matRowDefColumns",n.displayedColumns),r.Db(1),r.jc("ngIf",n.isLogin)}}const dL=[{path:"ingredients",component:zj},{path:"recipes",component:(()=>{class t{constructor(t,e,n,i,r){this.loginService=t,this.dialog=e,this.recipeService=n,this.ingredientsService=i,this.ingredientsUnitsService=r,this.isLogin=!1,this.displayedColumns=["name","amount","price"],this.apiRecipes=[],this.recipesVM=[],this.ingredients=[],this.ingredientUnits=[]}ngOnInit(){this.isLogin=this.loginService.getIsLogin(),this.ingredientsUnitsService.get().subscribe(t=>{this.ingredientUnits=ec(t,"name"),this.ingredientsService.get().subscribe(t=>{this.ingredients=ec(t,"name"),this.recipeService.get().subscribe(t=>{this.apiRecipes=ec(t,"name"),this.configureRecipesViewModel()})})})}configureRecipesViewModel(){this.recipesVM=this.apiRecipes.map(t=>{const e={ingredients:t.ingredients,name:t.name,price:t.price,id:t.id,ingredientDataSource:this.getRecipeIngredientsDataSource(t),calculatedIngredientsPrice:0};return e.calculatedIngredientsPrice=e.ingredientDataSource.reduce((t,e)=>t+e.price,0),e})}getRecipeIngredientsDataSource(t){let e=t.ingredients.map(t=>{var e,n,i,r,s,o;const a=this.ingredients.find(e=>e.id===t.ingredient),c=this.ingredientUnits.find(t=>t.id===(null==a?void 0:a.unit)),l=this.ingredientUnits.find(e=>e.id===t.unit),u=(null!==(e=null==a?void 0:a.price)&&void 0!==e?e:0)/(null!==(n=null==l?void 0:l.value)&&void 0!==n?n:1)*t.amount/(null!==(i=null==c?void 0:c.value)&&void 0!==i?i:1);return{ingredient:t.ingredient,amount:t.amount,ingredientName:null!==(r=null==a?void 0:a.name)&&void 0!==r?r:"",unitAbbreviation:null!==(s=null==l?void 0:l.abbreviation)&&void 0!==s?s:"",unit:null!==(o=null==l?void 0:l.id)&&void 0!==o?o:"",price:u}});return e=e.filter(t=>t.ingredient),e.length>0?e:[]}deleteRecipe(t){this.recipeService.delete(t)}openAddRecipeDialog(){this.openRecipeDialog().afterClosed().subscribe(t=>{t&&this.recipeService.post({ingredients:t.ingredients,name:t.name,price:t.price})})}editRecipe(t){this.openRecipeDialog(t).afterClosed().subscribe(t=>{t&&this.recipeService.update({ingredients:t.ingredients,name:t.name,price:t.price,id:t.id})})}openRecipeDialog(t){return this.dialog.open(GN,{width:"650px",data:{recipe:t,ingredients:this.ingredients,ingredientsUnits:this.ingredientUnits}})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(fj),r.Ob(dg),r.Ob(QN),r.Ob(dj),r.Ob(sD))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-recipes"]],decls:7,vars:2,consts:[[1,"container","mt-3"],[1,"row"],[1,"mr-auto"],["mat-mini-fab","","color","primary",3,"click",4,"ngIf"],[1,"example-headers-align"],["hideToggle","",4,"ngFor","ngForOf"],["mat-mini-fab","","color","primary",3,"click"],["hideToggle",""],[1,"d-flex","align-items-center"],[4,"ngIf"],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","amount"],["matColumnDef","price"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],["mat-button","","color","warn",3,"click"],["mat-raised-button","",3,"click"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Ub(2,"h1",2),r.uc(3,"Recetas"),r.Tb(),r.tc(4,ZN,3,0,"button",3),r.Tb(),r.Tb(),r.Ub(5,"mat-accordion",4),r.tc(6,hL,24,9,"mat-expansion-panel",5),r.Tb()),2&t&&(r.Db(4),r.jc("ngIf",e.isLogin),r.Db(2),r.jc("ngForOf",e.recipesVM))},directives:[B,Mj,V,ER,nj,jj,Nj,Fj,Lj,UP,WP,zP,qP,XP,tN,$P,QP,nN,rN,Pj],pipes:[$],styles:['@charset "UTF-8";table[_ngcontent-%COMP%]{width:100%}.price-error[_ngcontent-%COMP%]:before{font-size:2rem;content:"\u2022";color:red;margin-right:1rem}']}),t})()},{path:"404",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["app-page-not-found"]],decls:9,vars:0,consts:[["id","notfound"],[1,"notfound"],[1,"notfound-404"],["href",""]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Ub(2,"div",2),r.Ub(3,"h1"),r.uc(4,"Oops!"),r.Tb(),r.Ub(5,"h2"),r.uc(6,"404 - La p\xe1gina no pudo ser encontrada"),r.Tb(),r.Tb(),r.Ub(7,"a",3),r.uc(8,"Regresar a p\xe1gina principal"),r.Tb(),r.Tb(),r.Tb())},styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}body[_ngcontent-%COMP%]{padding:0;margin:0}#notfound[_ngcontent-%COMP%]{position:relative;height:50vh}#notfound[_ngcontent-%COMP%]   .notfound[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.notfound[_ngcontent-%COMP%]{max-width:520px;width:100%;line-height:1.4;text-align:center}.notfound[_ngcontent-%COMP%]   .notfound-404[_ngcontent-%COMP%]{position:relative;height:200px;margin:0 auto 20px;z-index:-1}.notfound[_ngcontent-%COMP%]   .notfound-404[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:236px;font-weight:200;margin:0;left:50%;top:50%;transform:translate(-50%,-50%)}.notfound[_ngcontent-%COMP%]   .notfound-404[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .notfound[_ngcontent-%COMP%]   .notfound-404[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;color:#211b19;text-transform:uppercase;position:absolute}.notfound[_ngcontent-%COMP%]   .notfound-404[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;font-weight:400;background:#fff;padding:10px 5px;margin:auto;display:inline-block;bottom:0;left:0;right:0}.notfound[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;display:inline-block;font-weight:700;text-decoration:none;color:#fff;text-transform:uppercase;padding:13px 23px;background:#ff6300;font-size:18px;transition:all .2s}.notfound[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ff6300;background:#211b19}@media only screen and (max-width:767px){.notfound[_ngcontent-%COMP%]   .notfound-404[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:148px}}@media only screen and (max-width:480px){.notfound[_ngcontent-%COMP%]   .notfound-404[_ngcontent-%COMP%]{height:148px;margin:0 auto 10px}.notfound[_ngcontent-%COMP%]   .notfound-404[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:86px}.notfound[_ngcontent-%COMP%]   .notfound-404[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px}.notfound[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:7px 15px;font-size:14px}}"]}),t})()},{path:"",pathMatch:"full",redirectTo:"recipes"},{path:"**",pathMatch:"full",redirectTo:"404"}];let fL=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[Cr.forRoot(dL),Wr.forRoot("G-LH67LQM33Z"),Yr],Cr]}),t})();function pL(t){return e=>e.lift(new mL(t))}class mL{constructor(t){this.value=t}call(t,e){return e.subscribe(new gL(t,this.value))}}class gL extends Vt.a{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}const bL=["*"];function yL(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",2),r.bc("click",function(){return r.nc(t),r.dc()._onBackdropClicked()}),r.Tb()}if(2&t){const t=r.dc();r.Gb("mat-drawer-shown",t._isShowingBackdrop())}}function vL(t,e){1&t&&(r.Ub(0,"mat-drawer-content"),r.hc(1,2),r.Tb())}const _L=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],wL=["mat-drawer","mat-drawer-content","*"],CL={transformDrawer:kd("transform",[Dd("open, open-instant",Ad({transform:"none",visibility:"visible"})),Dd("void",Ad({"box-shadow":"none",visibility:"hidden"})),Rd("void => open-instant",Td("0ms")),Rd("void <=> open, open-instant => void",Td("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},SL=new r.s("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),OL=new r.s("MAT_DRAWER_CONTAINER");let EL=(()=>{class t extends Xu{constructor(t,e,n,i,r){super(n,i,r),this._changeDetectorRef=t,this._container=e}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.h),r.Ob(Object(r.W)(()=>kL)),r.Ob(r.l),r.Ob(Zu),r.Ob(r.B))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,e){2&t&&r.qc("margin-left",e._container._contentMargins.left,"px")("margin-right",e._container._contentMargins.right,"px")},features:[r.Ab],ngContentSelectors:bL,decls:1,vars:0,template:function(t,e){1&t&&(r.ic(),r.hc(0))},encapsulation:2,changeDetection:0}),t})(),xL=(()=>{class t{constructor(t,e,n,i,s,o,a){this._elementRef=t,this._focusTrapFactory=e,this._focusMonitor=n,this._platform=i,this._ngZone=s,this._doc=o,this._container=a,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Pt.a,this._animationEnd=new Pt.a,this._animationState="void",this.openedChange=new r.o(!0),this._openedStream=this.openedChange.pipe(fe(t=>t),Object(te.a)(()=>{})),this.openedStart=this._animationStarted.pipe(fe(t=>t.fromState!==t.toState&&0===t.toState.indexOf("open")),pL(void 0)),this._closedStream=this.openedChange.pipe(fe(t=>!t),Object(te.a)(()=>{})),this.closedStart=this._animationStarted.pipe(fe(t=>t.fromState!==t.toState&&"void"===t.toState),pL(void 0)),this._destroyed=new Pt.a,this.onPositionChanged=new r.o,this._modeChanged=new Pt.a,this.openedChange.subscribe(t=>{t?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{Rr(this._elementRef.nativeElement,"keydown").pipe(fe(t=>27===t.keyCode&&!this.disableClose&&!fh(t)),yu(this._destroyed)).subscribe(t=>this._ngZone.run(()=>{this.close(),t.stopPropagation(),t.preventDefault()}))}),this._animationEnd.pipe(lu((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{const{fromState:e,toState:n}=t;(0===n.indexOf("open")&&"void"===e||"void"===n&&0===e.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!=this._position&&(this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=ru(t)}get autoFocus(){const t=this._autoFocus;return null==t?"side"!==this.mode:t}set autoFocus(t){this._autoFocus=ru(t)}get opened(){return this._opened}set opened(t){this.toggle(ru(t))}_takeFocus(){this.autoFocus&&this._focusTrap&&this._focusTrap.focusInitialElementWhenReady().then(t=>{t||"function"!=typeof this._elementRef.nativeElement.focus||this._elementRef.nativeElement.focus()})}_restoreFocus(){this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null)}_isFocusWithinDrawer(){var t;const e=null===(t=this._doc)||void 0===t?void 0:t.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0)}toggle(t=!this.opened,e){return this._setOpen(t,!t&&this._isFocusWithinDrawer(),e)}_setOpen(t,e,n="program"){return this._opened=t,t?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=n):(this._animationState="void",e&&this._restoreFocus()),this._updateFocusTrapState(),new Promise(t=>{this.openedChange.pipe(oe(1)).subscribe(e=>t(e?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(t){this._animationStarted.next(t)}_animationDoneListener(t){this._animationEnd.next(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(ud),r.Ob(yd),r.Ob(Ru),r.Ob(r.B),r.Ob(a,8),r.Ob(OL,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,e){1&t&&r.rc("@transform.start",function(t){return e._animationStartListener(t)})("@transform.done",function(t){return e._animationDoneListener(t)}),2&t&&(r.Eb("align",null),r.sc("@transform",e._animationState),r.Gb("mat-drawer-end","end"===e.position)("mat-drawer-over","over"===e.mode)("mat-drawer-push","push"===e.mode)("mat-drawer-side","side"===e.mode)("mat-drawer-opened",e.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:bL,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(t,e){1&t&&(r.ic(),r.Ub(0,"div",0),r.hc(1),r.Tb())},directives:[Xu],encapsulation:2,data:{animation:[CL.transformDrawer]},changeDetection:0}),t})(),kL=(()=>{class t{constructor(t,e,n,i,s,o=!1,a){this._dir=t,this._element=e,this._ngZone=n,this._changeDetectorRef=i,this._animationMode=a,this._drawers=new r.F,this.backdropClick=new r.o,this._destroyed=new Pt.a,this._doCheckSubject=new Pt.a,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Pt.a,t&&t.change.pipe(yu(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe(yu(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=o}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=ru(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:ru(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(le(this._allDrawers),yu(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(t=>!t._container||t._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(le(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Gh(10),yu(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,e=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const n=this._left._getWidth();t+=n,e-=n}if(this._right&&this._right.opened)if("side"==this._right.mode)e+=this._right._getWidth();else if("push"==this._right.mode){const n=this._right._getWidth();e+=n,t-=n}t=t||null,e=e||null,t===this._contentMargins.left&&e===this._contentMargins.right||(this._contentMargins={left:t,right:e},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(fe(t=>t.fromState!==t.toState),yu(this._drawers.changes)).subscribe(t=>{"open-instant"!==t.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(yu(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(yu(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(oe(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(yu(Object(uh.a)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const e=this._element.nativeElement.classList,n="mat-drawer-container-has-open";t?e.add(n):e.remove(n)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(zu,8),r.Ob(r.l),r.Ob(r.B),r.Ob(r.h),r.Ob(Ju),r.Ob(SL),r.Ob(lm,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-drawer-container"]],contentQueries:function(t,e,n){if(1&t&&(r.Hb(n,EL,1),r.Hb(n,xL,1)),2&t){let t;r.lc(t=r.cc())&&(e._content=t.first),r.lc(t=r.cc())&&(e._allDrawers=t)}},viewQuery:function(t,e){if(1&t&&r.yc(EL,1),2&t){let t;r.lc(t=r.cc())&&(e._userContent=t.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,e){2&t&&r.Gb("mat-drawer-container-explicit-backdrop",e._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[r.Cb([{provide:OL,useExisting:t}])],ngContentSelectors:wL,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,e){1&t&&(r.ic(_L),r.tc(0,yL,1,2,"div",0),r.hc(1),r.hc(2,1),r.tc(3,vL,2,0,"mat-drawer-content",1)),2&t&&(r.jc("ngIf",e.hasBackdrop),r.Db(3),r.jc("ngIf",!e._content))},directives:[B,EL],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),t})(),TL=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[G,ym,ju,th],th,ym]}),t})();const IL=function(t,e){return{"btn-success":t,"btn-danger":e}};let AL=(()=>{class t{constructor(t,e,n){this.router=t,this.$gaService=e,this.loginService=n,this.title="Recipes",this.isLogin=!1,this.router.events.subscribe(t=>{t instanceof Ue&&this.$gaService.pageView(t.urlAfterRedirects,t.urlAfterRedirects)})}ngOnInit(){this.isLogin=this.loginService.getIsLogin()}onClick(){this.isLogin?this.loginService.logout():this.loginService.login(),this.isLogin=this.loginService.getIsLogin()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(lr),r.Ob(Br),r.Ob(fj))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-root"]],decls:24,vars:9,consts:[[1,"navbar","navbar-light"],["type","button","mat-icon-button","",1,"px-0",3,"click"],["href","/",1,"navbar-brand","mr-auto"],["src","assets/images/logo.png","width","30","height","30","alt","",1,"d-inline-block","align-top","mr-2"],[1,"form-inline"],["type","button",1,"btn",3,"ngClass","click"],["autosize","",1,"sidenav-container",3,"hasBackdrop"],["mode","side",1,"sidenav-sidenav"],["drawer",""],[3,"multiple"],[3,"routerLink","click"],["mat-list-icon",""],[1,"container"]],template:function(t,e){if(1&t){const t=r.Vb();r.Ub(0,"nav",0),r.Ub(1,"button",1),r.bc("click",function(){return r.nc(t),r.mc(12).toggle()}),r.Ub(2,"mat-icon"),r.uc(3,"menu"),r.Tb(),r.Tb(),r.Ub(4,"a",2),r.Pb(5,"img",3),r.uc(6," Cara de torta "),r.Tb(),r.Ub(7,"form",4),r.Ub(8,"button",5),r.bc("click",function(){return e.onClick()}),r.uc(9),r.Tb(),r.Tb(),r.Tb(),r.Ub(10,"mat-drawer-container",6),r.Ub(11,"mat-drawer",7,8),r.Ub(13,"mat-selection-list",9),r.Ub(14,"mat-list-option",10),r.bc("click",function(){return r.nc(t),r.mc(12).toggle()}),r.Ub(15,"mat-icon",11),r.uc(16,"menu_book"),r.Tb(),r.uc(17,"Recetas "),r.Tb(),r.Ub(18,"mat-list-option",10),r.bc("click",function(){return r.nc(t),r.mc(12).toggle()}),r.Ub(19,"mat-icon",11),r.uc(20,"ballot"),r.Tb(),r.uc(21,"Ingredientes "),r.Tb(),r.Tb(),r.Tb(),r.Ub(22,"div",12),r.Pb(23,"router-outlet"),r.Tb(),r.Tb()}2&t&&(r.Db(8),r.jc("ngClass",r.kc(6,IL,!e.isLogin,e.isLogin)),r.Db(1),r.wc(" ",e.isLogin?"Logout":"Login"," "),r.Db(1),r.jc("hasBackdrop",!0),r.Db(3),r.jc("multiple",!1),r.Db(1),r.jc("routerLink","recipes"),r.Db(4),r.jc("routerLink","ingredients"))},directives:[ER,nj,$l,ul,Yl,F,kL,xL,jN,RN,ur,ON,dr],styles:["nav[_ngcontent-%COMP%]{background-color:#0299a0}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f0f8ff!important;display:flex;justify-content:center;align-items:center}nav[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f0f8ff}.sidenav-container[_ngcontent-%COMP%]{position:absolute;top:56px;left:0;right:0;bottom:0}.sidenav-sidenav-content[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center;justify-content:center}.sidenav-sidenav[_ngcontent-%COMP%]{padding:0 0 20px;display:flex}"]}),t})(),DL=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[ym],ym]}),t})(),RL=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[ym],ym]}),t})();const jL=[TL,DL,xR,ij,bg,QD,vR,RL,PN,Uj,aN,oN];let PL=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[G,jL],TL,DL,xR,ij,bg,QD,vR,RL,PN,Uj,aN,oN]}),t})(),NL=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[G,PL,nu,iu],PL,nu,iu]}),t})(),LL=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[G,NL]]}),t})(),FL=(()=>{class t{}return t.\u0275mod=r.Mb({type:t,bootstrap:[AL]}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[],imports:[[Dt,fL,NL,LL,hm,yg.a.initializeApp($r),iD]]}),t})();Object(r.V)(),It().bootstrapModule(FL).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return c});var i=n("7o/Q"),r=n("HDdC"),s=n("SeVD");class o extends i.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends i.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function c(t,e){if(e.closed)return;if(t instanceof r.a)return t.subscribe(e);let n;try{n=Object(s.a)(t)(e)}catch(i){e.error(i)}return n}}},[[0,0]]]);